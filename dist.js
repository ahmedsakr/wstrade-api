!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("source-map-support"),require("node-fetch")):"function"==typeof define&&define.amd?define(["source-map-support","node-fetch"],e):"object"==typeof exports?exports["wstrade-api"]=e(require("source-map-support"),require("node-fetch")):t["wstrade-api"]=e(t._,t._)}(global,(function(t,e){return(()=>{var r={228:t=>{t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}},858:t=>{t.exports=function(t){if(Array.isArray(t))return t}},646:(t,e,r)=>{var n=r(228);t.exports=function(t){if(Array.isArray(t))return n(t)}},926:t=>{function e(t,e,r,n,a,o,i){try{var c=t[o](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,a)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise((function(a,o){var i=t.apply(r,n);function c(t){e(i,a,o,c,s,"next",t)}function s(t){e(i,a,o,c,s,"throw",t)}c(void 0)}))}}},575:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},913:t=>{function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}},713:t=>{t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},860:t=>{t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},884:t=>{t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}}},521:t=>{t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},206:t=>{t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},38:(t,e,r)=>{var n=r(858),a=r(884),o=r(379),i=r(521);t.exports=function(t,e){return n(t)||a(t,e)||o(t,e)||i()}},319:(t,e,r)=>{var n=r(646),a=r(860),o=r(379),i=r(206);t.exports=function(t){return n(t)||a(t)||o(t)||i()}},379:(t,e,r)=>{var n=r(228);t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}},757:(t,e,r)=>{t.exports=r(666)},391:(t,e,r)=>{"use strict";r.d(e,{Z:()=>u});var n=r(757),a=r.n(n),o=r(926),i=r.n(o),c=r(726),s=r(714);const u={all:(w=i()(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.Z)(c.Z.ACCOUNT_IDS,{});case 2:return e=t.sent,t.abrupt("return",{tfsa:e.find((function(t){return t.startsWith("tfsa")})),rrsp:e.find((function(t){return t.startsWith("rrsp")})),crypto:e.find((function(t){return t.startsWith("non-registered-crypto")})),personal:e.find((function(t){return t.startsWith("non-registered")&&!t.startsWith("non-registered-crypto")}))});case 4:case"end":return t.stop()}}),t)}))),function(){return w.apply(this,arguments)}),data:(m=i()(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.Z)(c.Z.LIST_ACCOUNT,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return m.apply(this,arguments)}),me:(v=i()(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.Z)(c.Z.ME,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return v.apply(this,arguments)}),person:(y=i()(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.Z)(c.Z.PERSON,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return y.apply(this,arguments)}),history:(d=i()(a().mark((function t(e,r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.Z)(c.Z.HISTORY_ACCOUNT,{interval:e,accountId:r}));case 1:case"end":return t.stop()}}),t)}))),function(t,e){return d.apply(this,arguments)}),activities:(h=i()(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.Z)(c.Z.ACTIVITIES,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return h.apply(this,arguments)}),getBankAccounts:(l=i()(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.Z)(c.Z.BANK_ACCOUNTS,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)}),deposits:(f=i()(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.Z)(c.Z.DEPOSITS,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return f.apply(this,arguments)}),positions:(p=i()(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.Z)(c.Z.POSITIONS,{accountId:e}));case 1:case"end":return t.stop()}}),t)}))),function(t){return p.apply(this,arguments)})};var p,f,l,h,d,y,v,m,w},726:(t,e,r)=>{"use strict";r.d(e,{Z:()=>b});var n,a,o,i,c,s,u,p,f,l,h,d,y=r(757),v=r.n(y),m=r(926),w=r.n(m),x={onFailure:(a=w()(v().mark((function t(e){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e.status,t.t1=e.statusText,t.next=4,e.json();case 4:return t.t2=t.sent,t.abrupt("return",{status:t.t0,reason:t.t1,body:t.t2});case 6:case"end":return t.stop()}}),t)}))),function(t){return a.apply(this,arguments)}),onSuccess:(n=w()(v().mark((function t(e){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.json());case 1:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})};const b={LOGIN:{method:"POST",url:"https://trade-service.wealthsimple.com/auth/login",authenticated:!1,onSuccess:(d=w()(v().mark((function t(e){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0={access:e.headers.get("x-access-token"),refresh:e.headers.get("x-refresh-token"),expires:parseInt(e.headers.get("x-access-token-expires"),10)},t.next=3,e.json();case 3:return t.t1=t.sent,t.abrupt("return",{tokens:t.t0,accountInfo:t.t1});case 5:case"end":return t.stop()}}),t)}))),function(t){return d.apply(this,arguments)}),onFailure:x.onFailure},REFRESH:{method:"POST",url:"https://trade-service.wealthsimple.com/auth/refresh",authenticated:!1,onSuccess:(h=w()(v().mark((function t(e){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{tokens:{access:e.headers.get("x-access-token"),refresh:e.headers.get("x-refresh-token"),expires:parseInt(e.headers.get("x-access-token-expires"),10)}});case 1:case"end":return t.stop()}}),t)}))),function(t){return h.apply(this,arguments)}),onFailure:x.onFailure},ACCOUNT_IDS:{method:"GET",url:"https://trade-service.wealthsimple.com/account/list",authenticated:!0,onSuccess:(l=w()(v().mark((function t(e){var r;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:return r=t.sent,t.abrupt("return",r.results.map((function(t){return t.id})));case 4:case"end":return t.stop()}}),t)}))),function(t){return l.apply(this,arguments)}),onFailure:x.onFailure},LIST_ACCOUNT:{method:"GET",url:"https://trade-service.wealthsimple.com/account/list",authenticated:!0,onSuccess:(f=w()(v().mark((function t(e){var r;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:return r=t.sent,t.abrupt("return",r.results);case 4:case"end":return t.stop()}}),t)}))),function(t){return f.apply(this,arguments)}),onFailure:x.onFailure},ME:{method:"GET",url:"https://trade-service.wealthsimple.com/me",authenticated:!0,onSuccess:x.onSuccess,onFailure:x.onFailure},PERSON:{method:"GET",url:"https://trade-service.wealthsimple.com/person",authenticated:!0,onSuccess:x.onSuccess,onFailure:x.onFailure},HISTORY_ACCOUNT:{method:"GET",url:"https://trade-service.wealthsimple.com/account/history/{0}?account_id={1}",authenticated:!0,parameters:{0:"interval",1:"accountId"},onSuccess:x.onSuccess,onFailure:x.onFailure},ACTIVITIES:{method:"GET",url:"https://trade-service.wealthsimple.com/account/activities",authenticated:!0,onSuccess:(p=w()(v().mark((function t(e){var r;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:return r=t.sent,t.abrupt("return",r.results);case 4:case"end":return t.stop()}}),t)}))),function(t){return p.apply(this,arguments)}),onFailure:x.onFailure},DEPOSITS:{method:"GET",url:"https://trade-service.wealthsimple.com/deposits",authenticated:!0,onSuccess:(u=w()(v().mark((function t(e){var r;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:return r=t.sent,t.abrupt("return",r.results);case 4:case"end":return t.stop()}}),t)}))),function(t){return u.apply(this,arguments)}),onFailure:x.onFailure},BANK_ACCOUNTS:{method:"GET",url:"https://trade-service.wealthsimple.com/bank-accounts",authenticated:!0,onSuccess:(s=w()(v().mark((function t(e){var r;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:return r=t.sent,t.abrupt("return",r.results);case 4:case"end":return t.stop()}}),t)}))),function(t){return s.apply(this,arguments)}),onFailure:x.onFailure},EXCHANGE_RATES:{method:"GET",url:"https://trade-service.wealthsimple.com/forex",authenticated:!0,onSuccess:x.onSuccess,onFailure:x.onFailure},SECURITY:{method:"GET",url:"https://trade-service.wealthsimple.com/securities?query={0}",authenticated:!0,parameters:{0:"ticker"},onSuccess:(c=w()(v().mark((function t(e){var r;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:if(0!==(r=t.sent).results.length){t.next=5;break}throw new Error("Security does not exist");case 5:return t.abrupt("return",r.results);case 6:case"end":return t.stop()}}),t)}))),function(t){return c.apply(this,arguments)}),onFailure:x.onFailure},EXTENSIVE_SECURITY_DETAILS:{method:"GET",url:"https://trade-service.wealthsimple.com/securities/{0}",authenticated:!0,parameters:{0:"id"},onSuccess:x.onSuccess,onFailure:x.onFailure},QUOTES_HISTORY:{method:"GET",url:"https://trade-service.wealthsimple.com/securities/{0}/historical_quotes/{1}?mic=XNAS",authenticated:!0,parameters:{0:"id",1:"interval"},onSuccess:x.onSuccess,onFailure:x.onFailure},POSITIONS:{method:"GET",url:"https://trade-service.wealthsimple.com/account/positions?account_id={0}",authenticated:!0,parameters:{0:"accountId"},onSuccess:(i=w()(v().mark((function t(e){var r;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:return r=t.sent,t.abrupt("return",r.results);case 4:case"end":return t.stop()}}),t)}))),function(t){return i.apply(this,arguments)}),onFailure:x.onFailure},ORDERS_BY_PAGE:{method:"GET",url:"https://trade-service.wealthsimple.com/orders?offset={0}&account_id={1}",authenticated:!0,parameters:{0:"offset",1:"accountId"},onSuccess:(o=w()(v().mark((function t(e){var r;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:return r=t.sent,t.abrupt("return",{total:r.total,orders:r.results});case 4:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)}),onFailure:x.onFailure},CANCEL_ORDER:{method:"DELETE",url:"https://trade-service.wealthsimple.com/orders/{0}",authenticated:!0,parameters:{0:"orderId"},onSuccess:x.onSuccess,onFailure:x.onFailure},PLACE_ORDER:{method:"POST",url:"https://trade-service.wealthsimple.com/orders",authenticated:!0,onSuccess:x.onSuccess,onFailure:x.onFailure}}},464:(t,e,r)=>{"use strict";r.d(e,{Z:()=>h});var n=r(757),a=r.n(n),o=r(926),i=r.n(o),c=r(713),s=r.n(c),u=r(714),p=r(726),f=r(628);function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}const h={otp:null,on:function(t,e){this[t]=e},use:function(t){return f.Z.store(t)},tokens:function(){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){s()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},f.Z)},login:function(t,e){var r=this;return i()(a().mark((function n(){var o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=null,"function"!=typeof r.otp){n.next=4;break}return n.next=4,(0,u.Z)(p.Z.LOGIN,{email:t,password:e}).catch((function(){}));case 4:if(n.prev=4,n.t0=u.Z,n.t1=p.Z.LOGIN,n.t2=t,n.t3=e,"function"!=typeof r.otp){n.next=15;break}return n.next=12,r.otp();case 12:n.t4=n.sent,n.next=16;break;case 15:n.t4=r.otp;case 16:return n.t5=n.t4,n.t6={email:n.t2,password:n.t3,otp:n.t5},n.next=20,(0,n.t0)(n.t1,n.t6);case 20:o=n.sent,n.next=28;break;case 23:if(n.prev=23,n.t7=n.catch(4),r.otp){n.next=27;break}throw new Error("OTP not provided!");case 27:throw n.t7;case 28:r.use(o.tokens);case 29:case"end":return n.stop()}}),n,null,[[4,23]])})))()},refresh:(d=i()(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.w)());case 1:case"end":return t.stop()}}),t)}))),function(){return d.apply(this,arguments)})};var d},500:(t,e,r)=>{"use strict";r.d(e,{e:()=>a,Z:()=>o});var n=["securities_cache"],a=function(t){return!n.includes(t)};function o(t){if(null!=t&&t.startsWith("no_")){var e=t.substring(t.indexOf("_")+1);a(e)&&n.push(e)}else a(t)||n.splice(n.indexOf(t),1)}},657:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});var n=r(38),a=r.n(n),o=r(575),i=r.n(o),c=r(913),s=r.n(c),u=["NASDAQ","NYSE","TSX","TSX-V","NEO","CC"];const p=function(){function t(e){var r;if(i()(this,t),this.symbol=null,this.exchange=null,this.id=null,this.crypto=!1,"string"==typeof e){if(""===e)throw new Error("Empty ticker");var n=e.split(":"),o=a()(n,2);this.symbol=o[0],this.exchange=o[1]}else{if(!e.symbol&&!e.id)throw new Error("Invalid ticker '".concat(e,"'"));this.symbol=e.symbol||null,this.exchange=e.exchange||null,this.id=e.id||null}if(this.exchange&&!u.includes(this.exchange))throw new Error("Invalid exchange '".concat(this.exchange,"'!"));("CC"===this.exchange||null!==(r=this.id)&&void 0!==r&&r.startsWith("sec-z"))&&(this.crypto=!0),"NEO"===this.exchange&&(this.exchange="AEQUITAS NEO EXCHANGE")}return s()(t,[{key:"format",value:function(){return this.id?this.id:"AEQUITAS NEO EXCHANGE"===this.exchange?"".concat(this.symbol,":NEO"):"".concat(this.symbol).concat(this.exchange?":".concat(this.exchange):"")}},{key:"weakEquals",value:function(t){return!(!this.id||this.id!==t.id)||!(!this.symbol||this.symbol!==t.symbol||this.crypto!==t.crypto)}}]),t}()},628:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={access:null,refresh:null,expires:null,store:function(t){this.access=t.access||this.access,this.refresh=t.refresh||this.refresh,this.expires=t.expires||this.expires},expired:function(){return this.expires&&parseInt(Date.now()/1e3,10)>=this.expires}}},752:(t,e,r)=>{"use strict";r.d(e,{Z:()=>x});var n=r(38),a=r.n(n),o=r(757),i=r.n(o),c=r(926),s=r.n(c),u=r(726),p=r(714),f=r(657),l=r(500),h=r(575),d=r.n(h),y=r(913),v=r.n(y),m=new(function(){function t(e){d()(this,t),this.cache=new Map,this.size=e}return v()(t,[{key:"insert",value:function(t,e){this.cache.size>=this.size&&this.cache.delete(this.cache.keys().next().value),this.cache.set(t,e)}},{key:"get",value:function(t){return this.cache.get(t)}}]),t}())(10);const w=function(t){var e=m.get(new f.Z(t).format());return void 0===e?null:e},x={exchangeRates:(g=s()(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.Z)(u.Z.EXCHANGE_RATES,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return g.apply(this,arguments)}),getSecurity:(b=s()(i().mark((function t(e,r){var n,o,c,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null,o=new f.Z(e),r||!(0,l.e)("securities_cache")){t.next=6;break}if(!(n=w(o))){t.next=6;break}return t.abrupt("return",n);case 6:if(!o.id){t.next=12;break}return t.next=9,(0,p.Z)(u.Z.EXTENSIVE_SECURITY_DETAILS,{id:o.id});case 9:n=t.sent,t.next=28;break;case 12:return t.next=14,(0,p.Z)(u.Z.SECURITY,{ticker:o.symbol});case 14:if(n=(n=t.sent).filter((function(t){return t.stock.symbol===o.symbol})),o.crypto?n=n.filter((function(t){return"cryptocurrency"===t.security_type})):o.exchange&&(n=n.filter((function(t){return t.stock.primary_exchange===o.exchange}))),!(n.length>1)){t.next=19;break}throw new Error("Multiple securities matched query.");case 19:if(0!==n.length){t.next=21;break}throw new Error("No securities matched query.");case 21:if(c=n,s=a()(c,1),n=s[0],!r){t.next=28;break}return t.next=27,(0,p.Z)(u.Z.EXTENSIVE_SECURITY_DETAILS,{id:n.id});case 27:n=t.sent;case 28:return(0,l.e)("securities_cache")&&null===w(o)&&(i=o,h=n,m.insert(new f.Z(i).format(),h)),t.abrupt("return",n);case 30:case"end":return t.stop()}var i,h}),t)}))),function(t,e){return b.apply(this,arguments)})};var b,g},568:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var n=r(319),a=r.n(n),o=new(r(545).Headers);const i={add:function(t,e){return o.append(t,e)},remove:function(t){return o.delete(t)},clear:function(){return a()(o).forEach((function(t){return o.delete(t[0])}))},values:function(){return a()(o)}}},352:(t,e,r)=>{r(949).install();var n=r(464).Z,a=r(568).Z,o=r(391).Z,i=r(826).Z,c=r(752).Z,s=r(889).Z,u=r(500).Z;t.exports={auth:n,headers:a,accounts:o,orders:i,quotes:s,data:c,config:u}},714:(t,e,r)=>{"use strict";r.d(e,{Z:()=>k,w:()=>O});var n=r(757),a=r.n(n),o=r(319),i=r.n(o),c=r(926),s=r.n(c),u=r(713),p=r.n(u),f=r(545),l=r.n(f),h=r(568),d=r(628),y=r(726),v=r(500);function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var w=200,x=201;function b(t,e){var r=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){p()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},e),n=t.url;if(t.parameters)for(var a=0;a<Object.keys(t.parameters).length;a++){var o=t.parameters[a];if(null===r[o]||void 0===r[o])throw new Error("URL Path parameter '".concat(o,"' missing!"));n=n.replace("{".concat(a,"}"),r[t.parameters[a]]),delete r[t.parameters[a]]}return["GET","HEAD"].includes(t.method)?{url:n,payload:void 0}:{url:n,payload:JSON.stringify(r)}}function g(t,e){return E.apply(this,arguments)}function E(){return(E=s()(a().mark((function t(e,r){var n,o,c,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=new f.Headers).append("Content-Type","application/json"),!e.authenticated){t.next=9;break}if(d.Z.access){t.next=5;break}throw new Error("Authentication required for '".concat(e.url,"'"));case 5:if(!(0,v.e)("implicit_token_refresh")){t.next=8;break}return t.next=8,Z();case 8:n.append("Authorization",d.Z.access);case 9:return h.Z.values().forEach((function(t){return n.append.apply(n,i()(t))})),o=b(e,r),c=o.url,s=o.payload,t.abrupt("return",l()(c,{body:s,method:e.method,headers:n}));case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(t,e){return _.apply(this,arguments)}function _(){return(_=s()(a().mark((function t(e,r){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e,r);case 2:if(n=t.sent,![w,x].includes(n.status)){t.next=5;break}return t.abrupt("return",e.onSuccess(n));case 5:return t.t0=Promise,t.next=8,e.onFailure(n);case 8:return t.t1=t.sent,t.abrupt("return",t.t0.reject.call(t.t0,t.t1));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(){return S.apply(this,arguments)}function S(){return(S=s()(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(y.Z.REFRESH,{refresh_token:d.Z.refresh});case 2:e=t.sent,d.Z.store(e.tokens);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Z(){return T.apply(this,arguments)}function T(){return(T=s()(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!d.Z.expired()){t.next=13;break}if(!d.Z.refresh){t.next=12;break}return t.prev=2,t.next=5,O();case 5:t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(2),new Error("Unable to refresh expired token: ".concat(t.t0));case 10:t.next=13;break;case 12:throw new Error("Access token expired");case 13:case"end":return t.stop()}}),t,null,[[2,7]])})))).apply(this,arguments)}},826:(t,e,r)=>{"use strict";r.d(e,{Z:()=>R});var n=r(713),a=r.n(n),o=r(319),i=r.n(o),c=r(757),s=r.n(c),u=r(926),p=r.n(u),f=r(726),l=r(714),h=r(657);function d(t,e){return y.apply(this,arguments)}function y(){return(y=p()(s().mark((function t(e,r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.Z)(f.Z.ORDERS_BY_PAGE,{offset:20*(r-1),accountId:e}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){return m.apply(this,arguments)}function m(){return(m=p()(s().mark((function t(e){var r,n,a,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e,1);case 2:if(r=t.sent,!((n=Math.ceil(r.total/20))>1)){t.next=12;break}for(a=[],o=2;o<=n;o++)a.push(d(e,o).then((function(t){return t.orders})));return t.next=9,Promise.all(a);case 9:t.sent.forEach((function(t){var e;return(e=r.orders).push.apply(e,i()(t))})),r.total=r.orders.length;case 12:return t.abrupt("return",r);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t,e,r){return x.apply(this,arguments)}function x(){return(x=p()(s().mark((function t(e,r,n){var a,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e);case 2:return a=t.sent,o=function(t){if(r){var e=new h.Z({symbol:t.symbol,id:t.security_id});if(!new h.Z(r).weakEquals(e))return!1}return t.status===n},a.orders=a.orders.filter(o),a.total=a.orders.length,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}const b={page:d,all:v,pending:(k=p()(s().mark((function t(e,r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",w(e,r,"submitted"));case 1:case"end":return t.stop()}}),t)}))),function(t,e){return k.apply(this,arguments)}),filled:(E=p()(s().mark((function t(e,r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",w(e,r,"posted"));case 1:case"end":return t.stop()}}),t)}))),function(t,e){return E.apply(this,arguments)}),cancelled:(g=p()(s().mark((function t(e,r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",w(e,r,"cancelled"));case 1:case"end":return t.stop()}}),t)}))),function(t,e){return g.apply(this,arguments)})};var g,E,k,_=r(752),O=r(889),S=function(t){return["TSX","TSX-V"].includes(t)};const Z={cancel:(C=p()(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,(0,l.Z)(f.Z.CANCEL_ORDER,{orderId:e});case 3:return t.t1=t.sent,t.abrupt("return",{order:t.t0,response:t.t1});case 5:case"end":return t.stop()}}),t)}))),function(t){return C.apply(this,arguments)}),cancelPending:function(t){var e=this;return p()(s().mark((function r(){var n;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.pending(t);case 2:return n=r.sent,r.abrupt("return",Promise.all(n.orders.map(function(){var t=p()(s().mark((function t(r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.cancel(r.order_id));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())));case 4:case"end":return r.stop()}}),r)})))()},marketBuy:(L=p()(s().mark((function t(e,r,n){var a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.Z.getSecurity(r);case 2:if(a=t.sent,t.t0=l.Z,t.t1=f.Z.PLACE_ORDER,t.t2=a.id,new h.Z(r).crypto){t.next=12;break}return t.next=9,O.Z.get(r);case 9:t.t3=t.sent,t.next=13;break;case 12:t.t3=void 0;case 13:return t.t4=t.t3,t.t5=n,t.t6=e,t.t7={security_id:t.t2,limit_price:t.t4,quantity:t.t5,order_type:"buy_quantity",order_sub_type:"market",time_in_force:"day",account_id:t.t6},t.abrupt("return",(0,t.t0)(t.t1,t.t7));case 18:case"end":return t.stop()}}),t)}))),function(t,e,r){return L.apply(this,arguments)}),limitBuy:(A=p()(s().mark((function t(e,r,n,a){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=l.Z,t.t1=f.Z.PLACE_ORDER,t.next=4,_.Z.getSecurity(r);case 4:return t.t2=t.sent.id,t.t3=n,t.t4=a,t.t5=e,t.t6={security_id:t.t2,limit_price:t.t3,quantity:t.t4,order_type:"buy_quantity",order_sub_type:"limit",time_in_force:"day",account_id:t.t5},t.abrupt("return",(0,t.t0)(t.t1,t.t6));case 10:case"end":return t.stop()}}),t)}))),function(t,e,r,n){return A.apply(this,arguments)}),stopLimitBuy:(I=p()(s().mark((function t(e,r,n,a,o){var i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.Z.getSecurity(r);case 2:if(i=t.sent,!S(i.stock.primary_exchange)||n===a){t.next=5;break}throw new Error("TSX/TSX-V securities must have an equivalent stop and limit price.");case 5:return t.abrupt("return",(0,l.Z)(f.Z.PLACE_ORDER,{security_id:i.id,stop_price:n,limit_price:a,quantity:o,order_type:"buy_quantity",order_sub_type:"stop_limit",time_in_force:"day",account_id:e}));case 6:case"end":return t.stop()}}),t)}))),function(t,e,r,n,a){return I.apply(this,arguments)}),marketSell:(P=p()(s().mark((function t(e,r,n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=l.Z,t.t1=f.Z.PLACE_ORDER,t.next=4,_.Z.getSecurity(r);case 4:if(t.t2=t.sent.id,new h.Z(r).crypto){t.next=11;break}return t.next=8,O.Z.get(r);case 8:t.t3=t.sent,t.next=12;break;case 11:t.t3=void 0;case 12:return t.t4=t.t3,t.t5=n,t.t6=e,t.t7={security_id:t.t2,market_value:t.t4,quantity:t.t5,order_type:"sell_quantity",order_sub_type:"market",time_in_force:"day",account_id:t.t6},t.abrupt("return",(0,t.t0)(t.t1,t.t7));case 17:case"end":return t.stop()}}),t)}))),function(t,e,r){return P.apply(this,arguments)}),limitSell:(j=p()(s().mark((function t(e,r,n,a){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=l.Z,t.t1=f.Z.PLACE_ORDER,t.next=4,_.Z.getSecurity(r);case 4:return t.t2=t.sent.id,t.t3=n,t.t4=a,t.t5=e,t.t6={security_id:t.t2,limit_price:t.t3,quantity:t.t4,order_type:"sell_quantity",order_sub_type:"limit",time_in_force:"day",account_id:t.t5},t.abrupt("return",(0,t.t0)(t.t1,t.t6));case 10:case"end":return t.stop()}}),t)}))),function(t,e,r,n){return j.apply(this,arguments)}),stopLimitSell:(T=p()(s().mark((function t(e,r,n,a,o){var i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.Z.getSecurity(r);case 2:if(i=t.sent,!S(i.stock.primary_exchange)||n===a){t.next=5;break}throw new Error("TSX/TSX-V securities must have an equivalent stop and limit price.");case 5:return t.abrupt("return",(0,l.Z)(f.Z.PLACE_ORDER,{security_id:i.id,stop_price:n,limit_price:a,quantity:o,order_type:"sell_quantity",order_sub_type:"stop_limit",time_in_force:"day",account_id:e}));case 6:case"end":return t.stop()}}),t)}))),function(t,e,r,n,a){return T.apply(this,arguments)})};var T,j,P,I,A,L,C;function F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function N(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?F(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}const R=N(N({},b),Z)},889:(t,e,r)=>{"use strict";r.d(e,{Z:()=>h});var n=r(757),a=r.n(n),o=r(926),i=r.n(o),c=r(752);const s={quote:(u=i()(a().mark((function t(e){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.getSecurity(e,!0);case 2:return r=t.sent,t.abrupt("return",r.quote.amount);case 4:case"end":return t.stop()}}),t)}))),function(t){return u.apply(this,arguments)})};var u,p=r(657),f=r(714),l=r(726);const h={defaultProvider:s,providers:{},use:function(t,e){if("function"!=typeof e.quote)throw new Error("Invalid quote provider for ".concat(t,"!"));this.providers[t]=e},get:function(t){var e=this;return i()(a().mark((function r(){var n,o,i;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=null,!(o=new p.Z(t)).exchange){r.next=6;break}n=o.exchange,r.next=15;break;case 6:if(!o.crypto||!o.id){r.next=10;break}n="CC",r.next=15;break;case 10:if(!(Object.keys(e.providers).length>0)){r.next=15;break}return r.next=13,c.Z.getSecurity(o,!1);case 13:i=r.sent,n=i.stock.primary_exchange;case 15:if(!(n in e.providers)){r.next=17;break}return r.abrupt("return",e.providers[n].quote(o));case 17:return r.abrupt("return",e.defaultProvider.quote(o));case 18:case"end":return r.stop()}}),r)})))()},history:function(t,e){return i()(a().mark((function r(){var n;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((n=new p.Z(t)).id){r.next=5;break}return r.next=4,c.Z.getSecurity(n);case 4:n.id=r.sent.id;case 5:return r.abrupt("return",(0,f.Z)(l.Z.QUOTES_HISTORY,{id:n.id,interval:e}));case 6:case"end":return r.stop()}}),r)})))()}}},666:t=>{var e=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(t,e,r,n){var a=e&&e.prototype instanceof y?e:y,o=Object.create(a.prototype),i=new Z(n||[]);return o._invoke=function(t,e,r){var n=p;return function(a,o){if(n===l)throw new Error("Generator is already running");if(n===h){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=_(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=l;var s=u(t,e,r);if("normal"===s.type){if(n=r.done?h:f,s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=h,r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var p="suspendedStart",f="suspendedYield",l="executing",h="completed",d={};function y(){}function v(){}function m(){}var w={};w[o]=function(){return this};var x=Object.getPrototypeOf,b=x&&x(x(T([])));b&&b!==r&&n.call(b,o)&&(w=b);var g=m.prototype=y.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function k(t,e){function r(a,o,i,c){var s=u(t[a],t,o);if("throw"!==s.type){var p=s.arg,f=p.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){p.value=t,i(p)}),(function(t){return r("throw",t,i,c)}))}c(s.arg)}var a;this._invoke=function(t,n){function o(){return new e((function(e,a){r(t,n,e,a)}))}return a=a?a.then(o,o):o()}}function _(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method))return d;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var a=u(n,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,d;var o=a.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Z(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(t){if(t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}return{next:j}}function j(){return{value:e,done:!0}}return v.prototype=g.constructor=m,m.constructor=v,m[c]=v.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},E(k.prototype),k.prototype[i]=function(){return this},t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(g),g[c]="Generator",g[o]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=T,Z.prototype={constructor:Z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;S(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}},545:t=>{"use strict";t.exports=e},949:e=>{"use strict";e.exports=t}},n={};function a(t){if(n[t])return n[t].exports;var e=n[t]={exports:{}};return r[t](e,e.exports,a),e.exports}return a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a(352)})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93c3RyYWRlLWFwaS93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hcnJheUxpa2VUb0FycmF5LmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXJyYXlXaXRoSG9sZXMuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hcnJheVdpdGhvdXRIb2xlcy5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL25vbkl0ZXJhYmxlUmVzdC5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL25vbkl0ZXJhYmxlU3ByZWFkLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheS5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5LmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvYWNjb3VudHMuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvYXBpL2VuZHBvaW50cy5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9hdXRoLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9jb3JlL3RpY2tlci5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9oZWxwZXJzL3RpbWUuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvY29yZS90b2tlbnMuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvb3B0aW9uYWwvc2VjdXJpdGllcy1jYWNoZS5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9jb3JlL2NhY2hlLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL2RhdGEuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvaGVhZGVycy5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9uZXR3b3JrL2h0dHBzLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL29yZGVycy9oaXN0b3J5LmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL29yZGVycy9zdWJtaXQuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvb3JkZXJzL2luZGV4LmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL3F1b3Rlcy9kZWZhdWx0LmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL3F1b3Rlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9yZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvZXh0ZXJuYWwge1wiY29tbW9uanNcIjpcIm5vZGUtZmV0Y2hcIixcImNvbW1vbmpzMlwiOlwibm9kZS1mZXRjaFwiLFwiYW1kXCI6XCJub2RlLWZldGNoXCIsXCJyb290XCI6XCJfXCJ9Iiwid2VicGFjazovL3dzdHJhZGUtYXBpL2V4dGVybmFsIHtcImNvbW1vbmpzXCI6XCJzb3VyY2UtbWFwLXN1cHBvcnRcIixcImNvbW1vbmpzMlwiOlwic291cmNlLW1hcC1zdXBwb3J0XCIsXCJhbWRcIjpcInNvdXJjZS1tYXAtc3VwcG9ydFwiLFwicm9vdFwiOlwiX1wifSIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS93ZWJwYWNrL3N0YXJ0dXAiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3dzdHJhZGUtYXBpL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsImdsb2JhbCIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzk0OV9fIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fNTQ1X18iLCJhcnIiLCJsZW4iLCJsZW5ndGgiLCJpIiwiYXJyMiIsIkFycmF5IiwiaXNBcnJheSIsImFycmF5TGlrZVRvQXJyYXkiLCJhc3luY0dlbmVyYXRvclN0ZXAiLCJnZW4iLCJyZXNvbHZlIiwicmVqZWN0IiwiX25leHQiLCJfdGhyb3ciLCJrZXkiLCJhcmciLCJpbmZvIiwidmFsdWUiLCJlcnJvciIsImRvbmUiLCJQcm9taXNlIiwidGhlbiIsImZuIiwic2VsZiIsInRoaXMiLCJhcmdzIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJlcnIiLCJ1bmRlZmluZWQiLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsIm9iaiIsIml0ZXIiLCJTeW1ib2wiLCJpdGVyYXRvciIsImZyb20iLCJfYXJyIiwiX24iLCJfZCIsIl9lIiwiX3MiLCJfaSIsIm5leHQiLCJwdXNoIiwiYXJyYXlXaXRoSG9sZXMiLCJpdGVyYWJsZVRvQXJyYXlMaW1pdCIsInVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5Iiwibm9uSXRlcmFibGVSZXN0IiwiYXJyYXlXaXRob3V0SG9sZXMiLCJpdGVyYWJsZVRvQXJyYXkiLCJub25JdGVyYWJsZVNwcmVhZCIsIm8iLCJtaW5MZW4iLCJuIiwidG9TdHJpbmciLCJjYWxsIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJ0ZXN0IiwiYWxsIiwiaGFuZGxlUmVxdWVzdCIsImVuZHBvaW50cyIsImFjY291bnRzIiwidGZzYSIsImZpbmQiLCJhY2NvdW50Iiwic3RhcnRzV2l0aCIsInJyc3AiLCJjcnlwdG8iLCJwZXJzb25hbCIsImRhdGEiLCJtZSIsInBlcnNvbiIsImhpc3RvcnkiLCJpbnRlcnZhbCIsImFjY291bnRJZCIsImFjdGl2aXRpZXMiLCJnZXRCYW5rQWNjb3VudHMiLCJkZXBvc2l0cyIsInBvc2l0aW9ucyIsImRlZmF1bHRFbmRwb2ludEJlaGF2aW91ciIsIm9uRmFpbHVyZSIsInJlc3BvbnNlIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsImpzb24iLCJyZWFzb24iLCJib2R5Iiwib25TdWNjZXNzIiwiTE9HSU4iLCJtZXRob2QiLCJ1cmwiLCJhdXRoZW50aWNhdGVkIiwiYWNjZXNzIiwiaGVhZGVycyIsImdldCIsInJlZnJlc2giLCJleHBpcmVzIiwicGFyc2VJbnQiLCJ0b2tlbnMiLCJhY2NvdW50SW5mbyIsIlJFRlJFU0giLCJBQ0NPVU5UX0lEUyIsInJlc3VsdHMiLCJtYXAiLCJpZCIsIkxJU1RfQUNDT1VOVCIsIk1FIiwiUEVSU09OIiwiSElTVE9SWV9BQ0NPVU5UIiwicGFyYW1ldGVycyIsIjAiLCIxIiwiQUNUSVZJVElFUyIsIkRFUE9TSVRTIiwiQkFOS19BQ0NPVU5UUyIsIkVYQ0hBTkdFX1JBVEVTIiwiU0VDVVJJVFkiLCJFcnJvciIsIkVYVEVOU0lWRV9TRUNVUklUWV9ERVRBSUxTIiwiUVVPVEVTX0hJU1RPUlkiLCJQT1NJVElPTlMiLCJPUkRFUlNfQllfUEFHRSIsInRvdGFsIiwib3JkZXJzIiwiQ0FOQ0VMX09SREVSIiwiUExBQ0VfT1JERVIiLCJvdHAiLCJvbiIsImV2ZW50IiwidGh1bmsiLCJ1c2UiLCJzdGF0ZSIsImxvZ2luIiwiZW1haWwiLCJwYXNzd29yZCIsInJlZnJlc2hBdXRoZW50aWNhdGlvbiIsImRpc2FibGVkIiwiY29uZmlnRW5hYmxlZCIsImZlYXR1cmUiLCJpbmNsdWRlcyIsImNvbmZpZyIsImN1dCIsInN1YnN0cmluZyIsImluZGV4T2YiLCJzcGxpY2UiLCJleGNoYW5nZXMiLCJzeW1ib2wiLCJleGNoYW5nZSIsInNwbGl0Iiwib3RoZXIiLCJzdG9yZSIsImV4cGlyZWQiLCJEYXRlIiwibm93IiwiY2FjaGUiLCJzaXplIiwiTWFwIiwia2V5cyIsInNldCIsInNlY3VyaXR5IiwicmVzdWx0IiwiVGlja2VyIiwiZm9ybWF0IiwiZXhjaGFuZ2VSYXRlcyIsImdldFNlY3VyaXR5IiwidXNlclRpY2tlciIsImV4dGVuc2l2ZSIsInRpY2tlciIsImZpbHRlciIsInN0b2NrIiwic2VjdXJpdHlfdHlwZSIsInByaW1hcnlfZXhjaGFuZ2UiLCJpbnNlcnQiLCJjdXN0b21IZWFkZXJzIiwiSGVhZGVycyIsImFkZCIsImFwcGVuZCIsInJlbW92ZSIsImNsZWFyIiwiZm9yRWFjaCIsImhlYWRlciIsInZhbHVlcyIsImF1dGgiLCJxdW90ZXMiLCJIVFRQX09LIiwiSFRUUF9DUkVBVEVEIiwiZmluYWxpemVSZXF1ZXN0IiwiZW5kcG9pbnQiLCJwYXJhbXMiLCJpbmRleCIsInBhcmFtZXRlck5hbWUiLCJyZXBsYWNlIiwicGF5bG9hZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0YWxrIiwiaW1wbGljaXRUb2tlblJlZnJlc2giLCJmZXRjaCIsInJlZnJlc2hfdG9rZW4iLCJwYWdlIiwicGFnZU51bSIsIm9mZnNldCIsInBhZ2VzIiwiTWF0aCIsImNlaWwiLCJ0YXNrcyIsImxpc3QiLCJmaWx0ZXJlZE9yZGVycyIsIm9yZGVyRmlsdGVyIiwib3JkZXIiLCJzZWN1cml0eV9pZCIsIndlYWtFcXVhbHMiLCJwZW5kaW5nIiwiZmlsbGVkIiwiY2FuY2VsbGVkIiwiaXNDYW5hZGlhblNlY3VyaXR5IiwiY2FuY2VsIiwib3JkZXJJZCIsImNhbmNlbFBlbmRpbmciLCJvcmRlcl9pZCIsIm1hcmtldEJ1eSIsInF1YW50aXR5IiwiZGV0YWlscyIsImxpbWl0X3ByaWNlIiwib3JkZXJfdHlwZSIsIm9yZGVyX3N1Yl90eXBlIiwidGltZV9pbl9mb3JjZSIsImFjY291bnRfaWQiLCJsaW1pdEJ1eSIsImxpbWl0Iiwic3RvcExpbWl0QnV5Iiwic3RvcCIsInN0b3BfcHJpY2UiLCJtYXJrZXRTZWxsIiwibWFya2V0X3ZhbHVlIiwibGltaXRTZWxsIiwic3RvcExpbWl0U2VsbCIsInN1Ym1pdCIsInF1b3RlIiwiYW1vdW50IiwiZGVmYXVsdFByb3ZpZGVyIiwidHJhZGUiLCJwcm92aWRlcnMiLCJwcm92aWRlciIsInJ1bnRpbWUiLCJPcCIsImhhc093biIsImhhc093blByb3BlcnR5IiwiJFN5bWJvbCIsIml0ZXJhdG9yU3ltYm9sIiwiYXN5bmNJdGVyYXRvclN5bWJvbCIsImFzeW5jSXRlcmF0b3IiLCJ0b1N0cmluZ1RhZ1N5bWJvbCIsInRvU3RyaW5nVGFnIiwid3JhcCIsImlubmVyRm4iLCJvdXRlckZuIiwidHJ5TG9jc0xpc3QiLCJwcm90b0dlbmVyYXRvciIsIkdlbmVyYXRvciIsImdlbmVyYXRvciIsImNyZWF0ZSIsImNvbnRleHQiLCJDb250ZXh0IiwiX2ludm9rZSIsIkdlblN0YXRlU3VzcGVuZGVkU3RhcnQiLCJHZW5TdGF0ZUV4ZWN1dGluZyIsIkdlblN0YXRlQ29tcGxldGVkIiwiZG9uZVJlc3VsdCIsImRlbGVnYXRlIiwiZGVsZWdhdGVSZXN1bHQiLCJtYXliZUludm9rZURlbGVnYXRlIiwiQ29udGludWVTZW50aW5lbCIsInNlbnQiLCJfc2VudCIsImRpc3BhdGNoRXhjZXB0aW9uIiwiYWJydXB0IiwicmVjb3JkIiwidHJ5Q2F0Y2giLCJ0eXBlIiwiR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCIsIm1ha2VJbnZva2VNZXRob2QiLCJHZW5lcmF0b3JGdW5jdGlvbiIsIkdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlIiwiSXRlcmF0b3JQcm90b3R5cGUiLCJnZXRQcm90byIsImdldFByb3RvdHlwZU9mIiwiTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUiLCJHcCIsImRlZmluZUl0ZXJhdG9yTWV0aG9kcyIsIkFzeW5jSXRlcmF0b3IiLCJQcm9taXNlSW1wbCIsImludm9rZSIsIl9fYXdhaXQiLCJ1bndyYXBwZWQiLCJwcmV2aW91c1Byb21pc2UiLCJjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyIsInJlc3VsdE5hbWUiLCJuZXh0TG9jIiwicHVzaFRyeUVudHJ5IiwibG9jcyIsImVudHJ5IiwidHJ5TG9jIiwiY2F0Y2hMb2MiLCJmaW5hbGx5TG9jIiwiYWZ0ZXJMb2MiLCJ0cnlFbnRyaWVzIiwicmVzZXRUcnlFbnRyeSIsImNvbXBsZXRpb24iLCJyZXNldCIsIml0ZXJhYmxlIiwiaXRlcmF0b3JNZXRob2QiLCJpc05hTiIsImRpc3BsYXlOYW1lIiwiaXNHZW5lcmF0b3JGdW5jdGlvbiIsImdlbkZ1biIsImN0b3IiLCJtYXJrIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJhd3JhcCIsImFzeW5jIiwib2JqZWN0IiwicmV2ZXJzZSIsInBvcCIsInNraXBUZW1wUmVzZXQiLCJwcmV2IiwiY2hhckF0Iiwicm9vdFJlY29yZCIsInJ2YWwiLCJleGNlcHRpb24iLCJoYW5kbGUiLCJsb2MiLCJjYXVnaHQiLCJoYXNDYXRjaCIsImhhc0ZpbmFsbHkiLCJmaW5hbGx5RW50cnkiLCJjb21wbGV0ZSIsImZpbmlzaCIsInRocm93biIsImRlbGVnYXRlWWllbGQiLCJyZWdlbmVyYXRvclJ1bnRpbWUiLCJhY2NpZGVudGFsU3RyaWN0TW9kZSIsIkZ1bmN0aW9uIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJwcm9wIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsRUFBUUcsUUFBUSxzQkFB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QUFPRCxRQUFTaVgsR0FHL0NoWCxFQUFPRCxRQ2pCZixPQ0ZBaVgsRUFBb0J0UyxFQUFLMUUsSUFDeEIsSUFBSW1YLEVBQVNuWCxHQUFVQSxFQUFPb1gsV0FDN0IsSUFBTXBYLEVBQWdCLFFBQ3RCLElBQU1BLEVBRVAsT0FEQWdYLEVBQW9CSyxFQUFFRixFQUFRLENBQUVHLEVBQUdILElBQzVCQSxHQ0xSSCxFQUFvQkssRUFBSSxDQUFDdFgsRUFBU3dYLEtBQ2pDLElBQUksSUFBSWxXLEtBQU9rVyxFQUNYUCxFQUFvQnhTLEVBQUUrUyxFQUFZbFcsS0FBUzJWLEVBQW9CeFMsRUFBRXpFLEVBQVNzQixJQUM1RTBCLE9BQU9DLGVBQWVqRCxFQUFTc0IsRUFBSyxDQUFFdUIsWUFBWSxFQUFNeUUsSUFBS2tRLEVBQVdsVyxNQ0ozRTJWLEVBQW9CeFMsRUFBSSxDQUFDcEIsRUFBS29VLElBQVN6VSxPQUFPSSxVQUFVMk4sZUFBZWxNLEtBQUt4QixFQUFLb1UsR0hHMUVSLEVBQW9CLE0iLCJmaWxlIjoiZGlzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcInNvdXJjZS1tYXAtc3VwcG9ydFwiKSwgcmVxdWlyZShcIm5vZGUtZmV0Y2hcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wic291cmNlLW1hcC1zdXBwb3J0XCIsIFwibm9kZS1mZXRjaFwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJ3c3RyYWRlLWFwaVwiXSA9IGZhY3RvcnkocmVxdWlyZShcInNvdXJjZS1tYXAtc3VwcG9ydFwiKSwgcmVxdWlyZShcIm5vZGUtZmV0Y2hcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIndzdHJhZGUtYXBpXCJdID0gZmFjdG9yeShyb290W1wiX1wiXSwgcm9vdFtcIl9cIl0pO1xufSkoZ2xvYmFsLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX185NDlfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fNTQ1X18pIHtcbnJldHVybiAiLCJmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHtcbiAgICBhcnIyW2ldID0gYXJyW2ldO1xuICB9XG5cbiAgcmV0dXJuIGFycjI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2FycmF5TGlrZVRvQXJyYXk7IiwiZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hcnJheVdpdGhIb2xlczsiLCJ2YXIgYXJyYXlMaWtlVG9BcnJheSA9IHJlcXVpcmUoXCIuL2FycmF5TGlrZVRvQXJyYXlcIik7XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkoYXJyKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfYXJyYXlXaXRob3V0SG9sZXM7IiwiZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykge1xuICB0cnkge1xuICAgIHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTtcbiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlamVjdChlcnJvcik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGluZm8uZG9uZSkge1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXG4gICAgICBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkge1xuICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIF90aHJvdyhlcnIpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7XG4gICAgICB9XG5cbiAgICAgIF9uZXh0KHVuZGVmaW5lZCk7XG4gICAgfSk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2FzeW5jVG9HZW5lcmF0b3I7IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfY2xhc3NDYWxsQ2hlY2s7IiwiZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9jcmVhdGVDbGFzczsiLCJmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfZGVmaW5lUHJvcGVydHk7IiwiZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9pdGVyYWJsZVRvQXJyYXk7IiwiZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkge1xuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkpIHJldHVybjtcbiAgdmFyIF9hcnIgPSBbXTtcbiAgdmFyIF9uID0gdHJ1ZTtcbiAgdmFyIF9kID0gZmFsc2U7XG4gIHZhciBfZSA9IHVuZGVmaW5lZDtcblxuICB0cnkge1xuICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHtcbiAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7XG5cbiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9kID0gdHJ1ZTtcbiAgICBfZSA9IGVycjtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoX2QpIHRocm93IF9lO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBfYXJyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9pdGVyYWJsZVRvQXJyYXlMaW1pdDsiLCJmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9ub25JdGVyYWJsZVJlc3Q7IiwiZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfbm9uSXRlcmFibGVTcHJlYWQ7IiwidmFyIGFycmF5V2l0aEhvbGVzID0gcmVxdWlyZShcIi4vYXJyYXlXaXRoSG9sZXNcIik7XG5cbnZhciBpdGVyYWJsZVRvQXJyYXlMaW1pdCA9IHJlcXVpcmUoXCIuL2l0ZXJhYmxlVG9BcnJheUxpbWl0XCIpO1xuXG52YXIgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkgPSByZXF1aXJlKFwiLi91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheVwiKTtcblxudmFyIG5vbkl0ZXJhYmxlUmVzdCA9IHJlcXVpcmUoXCIuL25vbkl0ZXJhYmxlUmVzdFwiKTtcblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XG4gIHJldHVybiBhcnJheVdpdGhIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBub25JdGVyYWJsZVJlc3QoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfc2xpY2VkVG9BcnJheTsiLCJ2YXIgYXJyYXlXaXRob3V0SG9sZXMgPSByZXF1aXJlKFwiLi9hcnJheVdpdGhvdXRIb2xlc1wiKTtcblxudmFyIGl0ZXJhYmxlVG9BcnJheSA9IHJlcXVpcmUoXCIuL2l0ZXJhYmxlVG9BcnJheVwiKTtcblxudmFyIHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5ID0gcmVxdWlyZShcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXlcIik7XG5cbnZhciBub25JdGVyYWJsZVNwcmVhZCA9IHJlcXVpcmUoXCIuL25vbkl0ZXJhYmxlU3ByZWFkXCIpO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gIHJldHVybiBhcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgbm9uSXRlcmFibGVTcHJlYWQoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfdG9Db25zdW1hYmxlQXJyYXk7IiwidmFyIGFycmF5TGlrZVRvQXJyYXkgPSByZXF1aXJlKFwiLi9hcnJheUxpa2VUb0FycmF5XCIpO1xuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWdlbmVyYXRvci1ydW50aW1lXCIpO1xuIiwiaW1wb3J0IGVuZHBvaW50cyBmcm9tICcuL2FwaS9lbmRwb2ludHMnO1xuaW1wb3J0IGhhbmRsZVJlcXVlc3QgZnJvbSAnLi9uZXR3b3JrL2h0dHBzJztcblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYWxsIGFjY291bnQgaWRzIG9wZW4gdW5kZXIgdGhpcyBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudC5cbiAgICovXG4gIGFsbDogYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGFjY291bnRzID0gYXdhaXQgaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuQUNDT1VOVF9JRFMsIHt9KTtcblxuICAgIHJldHVybiB7XG4gICAgICB0ZnNhOiBhY2NvdW50cy5maW5kKChhY2NvdW50KSA9PiBhY2NvdW50LnN0YXJ0c1dpdGgoJ3Rmc2EnKSksXG4gICAgICBycnNwOiBhY2NvdW50cy5maW5kKChhY2NvdW50KSA9PiBhY2NvdW50LnN0YXJ0c1dpdGgoJ3Jyc3AnKSksXG4gICAgICBjcnlwdG86IGFjY291bnRzLmZpbmQoKGFjY291bnQpID0+IGFjY291bnQuc3RhcnRzV2l0aCgnbm9uLXJlZ2lzdGVyZWQtY3J5cHRvJykpLFxuICAgICAgcGVyc29uYWw6IGFjY291bnRzLmZpbmQoKGFjY291bnQpID0+IGFjY291bnQuc3RhcnRzV2l0aCgnbm9uLXJlZ2lzdGVyZWQnKSAmJiAhYWNjb3VudC5zdGFydHNXaXRoKCdub24tcmVnaXN0ZXJlZC1jcnlwdG8nKSksXG4gICAgfTtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyBhIGxpc3Qgb2YgZGV0YWlscyBhYm91dCB5b3VyIG9wZW4gYWNjb3VudHMsIGxpa2UgYWNjb3VudCB0eXBlLCBidXlpbmcgcG93ZXIsXG4gICAqIGN1cnJlbnQgYmFsYW5jZSwgYW5kIG1vcmUuXG4gICAqL1xuICBkYXRhOiBhc3luYyAoKSA9PiBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5MSVNUX0FDQ09VTlQsIHt9KSxcblxuICAvKipcbiAgICogUmV0cmlldmVzIHNvbWUgc3VyZmFjZSBpbmZvcm1hdGlvbiBhYm91dCB5b3UgbGlrZSB5b3VyIG5hbWUgYW5kIGVtYWlsLCBhY2NvdW50XG4gICAqIHNpZ25hdHVyZXMsIGFuZCBvdGhlciBtZXRhZGF0YS5cbiAgICovXG4gIG1lOiBhc3luYyAoKSA9PiBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5NRSwge30pLFxuXG4gIC8qKlxuICAgKiBEZXRhaWxlZCBpbmZvcm1hdGlvbiBhYm91dCB5b3UgdGhhdCB5b3UgcHJvdmlkZWQgb24gc2lnbnVwLCBsaWtlIHJlc2lkZW50aWFsIGFuZFxuICAgKiBtYWlsaW5nIGFkZHJlc3NlcywgZW1wbG95bWVudCwgcGhvbmUgbnVtYmVycywgYW5kIHNvIG9uLlxuICAgKi9cbiAgcGVyc29uOiBhc3luYyAoKSA9PiBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5QRVJTT04sIHt9KSxcblxuICAvKipcbiAgICogUXVlcnkgdGhlIGhpc3Rvcnkgb2YgdGhlIGFjY291bnQgd2l0aGluIGEgY2VydGFpbiB0aW1lIGludGVydmFsLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGludGVydmFsIFRoZSB0aW1lIGludGVydmFsIGZvciB0aGUgaGlzdG9yeSBxdWVyeVxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgYWNjb3VudCB0byBxdWVyeVxuICAgKi9cbiAgaGlzdG9yeTogYXN5bmMgKGludGVydmFsLCBhY2NvdW50SWQpID0+IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLkhJU1RPUllfQUNDT1VOVCwge1xuICAgIGludGVydmFsLCBhY2NvdW50SWQsXG4gIH0pLFxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIG1vc3QgcmVjZW50IDIwIGFjdGl2aXRpZXMgb24gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBBY2NvdW50LlxuICAgKi9cbiAgYWN0aXZpdGllczogYXN5bmMgKCkgPT4gaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuQUNUSVZJVElFUywge30pLFxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYWxsIGJhbmsgYWNjb3VudHMgbGlua2VkIHRvIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudC5cbiAgICovXG4gIGdldEJhbmtBY2NvdW50czogYXN5bmMgKCkgPT4gaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuQkFOS19BQ0NPVU5UUywge30pLFxuXG4gIC8qKlxuICAgKiBHcmFiIGFsbCBkZXBvc2l0IHJlY29yZHMgb24gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50LlxuICAgKi9cbiAgZGVwb3NpdHM6IGFzeW5jICgpID0+IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLkRFUE9TSVRTLCB7fSksXG5cbiAgLyoqXG4gICAqIExpc3RzIGFsbCBwb3NpdGlvbnMgaW4gdGhlIHNwZWNpZmllZCB0cmFkaW5nIGFjY291bnQgdW5kZXIgdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBBY2NvdW50LlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgc3BlY2lmaWMgYWNjb3VudCBpbiB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnRcbiAgICovXG4gIHBvc2l0aW9uczogYXN5bmMgKGFjY291bnRJZCkgPT4gaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuUE9TSVRJT05TLCB7IGFjY291bnRJZCB9KSxcbn07XG4iLCJjb25zdCBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIgPSB7XG5cbiAgLy8gRGVmYXVsdCBmYWlsdXJlIG1ldGhvZCBmb3IgYWxsIGVuZHBvaW50IGNhbGxzXG4gIG9uRmFpbHVyZTogYXN5bmMgKHJlc3BvbnNlKSA9PiAoe1xuICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgIHJlYXNvbjogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICBib2R5OiBhd2FpdCByZXNwb25zZS5qc29uKCksXG4gIH0pLFxuXG4gIC8vIERlZmF1bHQgc3VjY2VzcyBtZXRob2QgZm9yIGFsbCBlbmRwb2ludCBjYWxsc1xuICBvblN1Y2Nlc3M6IGFzeW5jIChyZXNwb25zZSkgPT4gcmVzcG9uc2UuanNvbigpLFxufTtcblxuY29uc3QgV2VhbHRoc2ltcGxlVHJhZGVFbmRwb2ludHMgPSB7XG5cbiAgLypcbiAgICogVGhlIExPR0lOIGVuZHBvaW50IGludGlhbGl6ZXMgYSBuZXcgc2Vzc2lvbiBmb3IgdGhlIGdpdmVuIGVtYWlsIGFuZFxuICAgKiBwYXNzd29yZCBzZXQuIElmIHRoZSBsb2dpbiBpcyBzdWNjZXNzZnVsLCBhY2Nlc3MgYW5kIHJlZnJlc2ggdG9rZW5zXG4gICAqIGFyZSByZXR1cm5lZCBpbiB0aGUgaGVhZGVycy4gVGhlIGFjY2VzcyB0b2tlbiBpcyB0aGUga2V5IGZvciBpbnZva2luZ1xuICAgKiBhbGwgb3RoZXIgZW5kIHBvaW50cy5cbiAgICovXG4gIExPR0lOOiB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vYXV0aC9sb2dpbicsXG4gICAgYXV0aGVudGljYXRlZDogZmFsc2UsXG4gICAgb25TdWNjZXNzOiBhc3luYyAocmVzcG9uc2UpID0+ICh7XG4gICAgICB0b2tlbnM6IHtcbiAgICAgICAgYWNjZXNzOiByZXNwb25zZS5oZWFkZXJzLmdldCgneC1hY2Nlc3MtdG9rZW4nKSxcbiAgICAgICAgcmVmcmVzaDogcmVzcG9uc2UuaGVhZGVycy5nZXQoJ3gtcmVmcmVzaC10b2tlbicpLFxuICAgICAgICBleHBpcmVzOiBwYXJzZUludChyZXNwb25zZS5oZWFkZXJzLmdldCgneC1hY2Nlc3MtdG9rZW4tZXhwaXJlcycpLCAxMCksXG4gICAgICB9LFxuXG4gICAgICBhY2NvdW50SW5mbzogYXdhaXQgcmVzcG9uc2UuanNvbigpLFxuICAgIH0pLFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBHZW5lcmF0ZXMgYSBuZXcgc2V0IG9mIGFjY2VzcyBhbmQgcmVmcmVzaCB0b2tlbnMuXG4gICAqL1xuICBSRUZSRVNIOiB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vYXV0aC9yZWZyZXNoJyxcbiAgICBhdXRoZW50aWNhdGVkOiBmYWxzZSxcbiAgICBvblN1Y2Nlc3M6IGFzeW5jIChyZXNwb25zZSkgPT4gKHtcbiAgICAgIHRva2Vuczoge1xuICAgICAgICBhY2Nlc3M6IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCd4LWFjY2Vzcy10b2tlbicpLFxuICAgICAgICByZWZyZXNoOiByZXNwb25zZS5oZWFkZXJzLmdldCgneC1yZWZyZXNoLXRva2VuJyksXG4gICAgICAgIGV4cGlyZXM6IHBhcnNlSW50KHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCd4LWFjY2Vzcy10b2tlbi1leHBpcmVzJyksIDEwKSxcbiAgICAgIH0sXG4gICAgfSksXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIEdyYWJzIGFsbCBhY2NvdW50IGlkcyBpbiB0aGlzIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50LlxuICAgKi9cbiAgQUNDT1VOVF9JRFM6IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL2FjY291bnQvbGlzdCcsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBvblN1Y2Nlc3M6IGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQ29sbGVjdCBhbGwgYWNjb3VudCBpZHMgcmVnaXN0ZXJlZCB1bmRlciB0aGlzIFdlYWx0aHNpbXBsZSBUcmFkZSBBY2NvdW50XG4gICAgICByZXR1cm4gZGF0YS5yZXN1bHRzLm1hcCgoYWNjb3VudCkgPT4gYWNjb3VudC5pZCk7XG4gICAgfSxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogVGhlIExJU1RfQUNDT1VOVCBlbmRwb2ludCByZXRyaWV2ZXMgZ2VuZXJhbCBtZXRhZGF0YSBvZiB0aGVcbiAgICogV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnQsIGluY2x1ZGluZyBiYWxhbmNlcywgYWNjb3VudCBpZCwgYW5kXG4gICAqIG1vcmUuXG4gICAqL1xuICBMSVNUX0FDQ09VTlQ6IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL2FjY291bnQvbGlzdCcsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBvblN1Y2Nlc3M6IGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIHJldHVybiBkYXRhLnJlc3VsdHM7XG4gICAgfSxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogVGhlIE1FIGVuZHBvaW50IHJldHJpZXZlcyBzb21lIHN1cmZhY2UgaW5mb3JtYXRpb24gYWJvdXQgeW91IGxpa2VcbiAgICogeW91ciBuYW1lIGFuZCBlbWFpbC5cbiAgICovXG4gIE1FOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9tZScsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBvblN1Y2Nlc3M6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vblN1Y2Nlc3MsXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIFRoZSBQRVJTT04gZW5kcG9pbnQgcmV0cmlldmVzIGRldGFpbGVkIGluZm9ybWF0aW9uIGFib3V0IHlvdSB0aGF0XG4gICAqIHlvdSBwcm92aWRlZCBvbiBzaWdudXAsIGxpa2UgcmVzaWRlbnRpYWwgYW5kIG1haWxpbmcgYWRkcmVzc2VzLFxuICAgKiBlbXBsb3ltZW50LCBwaG9uZSBudW1iZXJzLCBhbmQgc28gb24uXG4gICAqL1xuICBQRVJTT046IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL3BlcnNvbicsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBvblN1Y2Nlc3M6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vblN1Y2Nlc3MsXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIFRoZSBISVNUT1JZX0FDQ09VTlQgZW5kcG9pbnQgcHJvdmlkZXMgaGlzdG9yaWNhbCBzbmFwc2hvdHMgb2YgdGhlXG4gICAqIFdlYWx0aHNpbXBsZSBhY2NvdW50IGZvciBhIHNwZWNpZmllZCB0aW1lZnJhbWUuXG4gICAqL1xuICBISVNUT1JZX0FDQ09VTlQ6IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL2FjY291bnQvaGlzdG9yeS97MH0/YWNjb3VudF9pZD17MX0nLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgcGFyYW1ldGVyczoge1xuICAgICAgMDogJ2ludGVydmFsJyxcbiAgICAgIDE6ICdhY2NvdW50SWQnLFxuICAgIH0sXG4gICAgb25TdWNjZXNzOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25TdWNjZXNzLFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBQcm92aWRlcyB0aGUgbW9zdCByZWNlbnQgMjAgYWN0aXZpdGllcyAoZGVwb3NpdHMsIGRpdmlkZW5kcywgb3JkZXJzLCBldGMpIG9uIHRoZSBXZWFsdGhzaW1wbGVcbiAgICogVHJhZGUgYWNjb3VudC5cbiAgICovXG4gIEFDVElWSVRJRVM6IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL2FjY291bnQvYWN0aXZpdGllcycsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBvblN1Y2Nlc3M6IGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIHJldHVybiBkYXRhLnJlc3VsdHM7XG4gICAgfSxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogQWxsIGRlcG9zaXRzIHVuZGVyIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudFxuICAgKi9cbiAgREVQT1NJVFM6IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL2RlcG9zaXRzJyxcbiAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgIG9uU3VjY2VzczogYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgcmV0dXJuIGRhdGEucmVzdWx0cztcbiAgICB9LFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBBbGwgbGlua2VkIGJhbmsgYWNjb3VudHMgdW5kZXIgdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50XG4gICAqL1xuICBCQU5LX0FDQ09VTlRTOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9iYW5rLWFjY291bnRzJyxcbiAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgIG9uU3VjY2VzczogYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgcmV0dXJuIGRhdGEucmVzdWx0cztcbiAgICB9LFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBDdXJyZW50IFdlYWx0aHNpbXBsZSBUcmFkZSBVU0QvQ0FEIGV4Y2hhbmdlIHJhdGVzXG4gICAqL1xuICBFWENIQU5HRV9SQVRFUzoge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vZm9yZXgnLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgb25TdWNjZXNzOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25TdWNjZXNzLFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBHcmFicyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgc2VjdXJpdHkgcmVzZW1ibGVkIGJ5IHRoZSB0aWNrZXIuXG4gICAqL1xuICBTRUNVUklUWToge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vc2VjdXJpdGllcz9xdWVyeT17MH0nLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgcGFyYW1ldGVyczoge1xuICAgICAgMDogJ3RpY2tlcicsXG4gICAgfSxcbiAgICBvblN1Y2Nlc3M6IGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgaWYgKGRhdGEucmVzdWx0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZWN1cml0eSBkb2VzIG5vdCBleGlzdCcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YS5yZXN1bHRzO1xuICAgIH0sXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIEZldGNoZXMgZGV0YWlsZWQgaW5mb3JtYXRpb24gYWJvdXQgYSBzZWN1cml0eSB1c2luZyBpdHMgdW5pcXVlXG4gICAqIHNlY3VyaXR5IGlkZW50aWZpZXIuIE1hcmtldCBxdW90ZSwgYmlkIGFuZCBhc2sgc2l6ZSwgYW5kIG90aGVyIGluZm9ybWF0aW9uXG4gICAqIGFyZSByZXR1cm5lZC5cbiAgICovXG4gIEVYVEVOU0lWRV9TRUNVUklUWV9ERVRBSUxTOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9zZWN1cml0aWVzL3swfScsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAwOiAnaWQnLFxuICAgIH0sXG4gICAgb25TdWNjZXNzOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25TdWNjZXNzLFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBGZXRjaGVzIGhpc3RvcmljYWwgcXVvdGVzIGZvciBhIHNlY3VyaXR5IGluIHRoZSBzcGVjaWZpZWQgaW50ZXJ2YWwuXG4gICAqL1xuICBRVU9URVNfSElTVE9SWToge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vc2VjdXJpdGllcy97MH0vaGlzdG9yaWNhbF9xdW90ZXMvezF9P21pYz1YTkFTJyxcbiAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgIDA6ICdpZCcsXG4gICAgICAxOiAnaW50ZXJ2YWwnLFxuICAgIH0sXG4gICAgb25TdWNjZXNzOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25TdWNjZXNzLFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBMaXN0cyBhbGwgcG9zaXRpb25zIHVuZGVyIGEgdHJhZGluZyBhY2NvdW50LlxuICAgKi9cbiAgUE9TSVRJT05TOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9hY2NvdW50L3Bvc2l0aW9ucz9hY2NvdW50X2lkPXswfScsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAwOiAnYWNjb3VudElkJyxcbiAgICB9LFxuICAgIG9uU3VjY2VzczogYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgcmV0dXJuIGRhdGEucmVzdWx0cztcbiAgICB9LFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBHcmFiIGEgcGFnZSBvZiBvcmRlcnMgKDIwIG9yZGVycykuXG4gICAqL1xuICBPUkRFUlNfQllfUEFHRToge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vb3JkZXJzP29mZnNldD17MH0mYWNjb3VudF9pZD17MX0nLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgcGFyYW1ldGVyczoge1xuICAgICAgMDogJ29mZnNldCcsXG4gICAgICAxOiAnYWNjb3VudElkJyxcbiAgICB9LFxuICAgIG9uU3VjY2VzczogYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG90YWw6IGRhdGEudG90YWwsXG4gICAgICAgIG9yZGVyczogZGF0YS5yZXN1bHRzLFxuICAgICAgfTtcbiAgICB9LFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBDYW5jZWxzIGEgc3BlY2lmaWMgb3JkZXIgYnkgaXRzIGlkLlxuICAgKi9cbiAgQ0FOQ0VMX09SREVSOiB7XG4gICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9vcmRlcnMvezB9JyxcbiAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgIDA6ICdvcmRlcklkJyxcbiAgICB9LFxuICAgIG9uU3VjY2VzczogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uU3VjY2VzcyxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogUGxhY2VzIGFuIG9yZGVyIGZvciBhIHNlY3VyaXR5LlxuICAgKi9cbiAgUExBQ0VfT1JERVI6IHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9vcmRlcnMnLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgb25TdWNjZXNzOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25TdWNjZXNzLFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFdlYWx0aHNpbXBsZVRyYWRlRW5kcG9pbnRzO1xuIiwiaW1wb3J0IGhhbmRsZVJlcXVlc3QsIHsgcmVmcmVzaEF1dGhlbnRpY2F0aW9uIH0gZnJvbSAnLi9uZXR3b3JrL2h0dHBzJztcbmltcG9ydCBlbmRwb2ludHMgZnJvbSAnLi9hcGkvZW5kcG9pbnRzJztcbmltcG9ydCB0b2tlbnMgZnJvbSAnLi9jb3JlL3Rva2Vucyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAvLyBUaHVuayBmb3IgcmV0cmlldmluZyB0aGUgb25lLXRpbWUgcGFzc3dvcmQuXG4gIG90cDogbnVsbCxcblxuICAvKipcbiAgICogUmVnaXN0ZXIgYSBmdW5jdGlvbiB0byBydW4gb24gYSBjZXJ0YWluIGV2ZW50XG4gICAqIEBwYXJhbSB7Kn0gZXZlbnQgVGhlIHRyaWdnZXIgZm9yIHRoZSBmdW5jdGlvblxuICAgKiBAcGFyYW0geyp9IHRodW5rIFRoZSBmdW5jdGlvbiBibG9jayB0byBleGVjdXRlIG9uIGV2ZW50IHRyaWdnZXJcbiAgICovXG4gIG9uKGV2ZW50LCB0aHVuaykge1xuICAgIHRoaXNbZXZlbnRdID0gdGh1bms7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIGF1dGhlbnRpY2F0aW9uIHRva2VucyB3aXRoIGFuIGV4aXN0aW5nIHN0YXRlLlxuICAgKiBUaGUgc3RhdGUgcHJvdmlkZWQgc2hvdWxkIGNvbnRhaW4gYWNjZXNzLCByZWZyZXNoLCBhbmQgZXhwaXJlcyBwcm9wZXJ0aWVzLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHN0YXRlIFByZS1leGlzdGluZyBhdXRoZW50aWNhdGlvbiBzdGF0ZVxuICAgKi9cbiAgdXNlOiAoc3RhdGUpID0+IHRva2Vucy5zdG9yZShzdGF0ZSksXG5cbiAgLyoqXG4gICAqIFNuYXBzaG90IG9mIHRoZSBjdXJyZW50IGF1dGhlbnRpY2F0aW9uIHN0YXRlLlxuICAgKi9cbiAgdG9rZW5zOiAoKSA9PiAoeyAuLi50b2tlbnMgfSksXG5cbiAgLyoqXG4gICAqIEF0dGVtcHRzIHRvIGVzdGFibGlzaCBhIHNlc3Npb24gZm9yIHRoZSBwcm92aWRlZCBlbWFpbCBhbmQgcGFzc3dvcmQuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gZW1haWwgZW1haWxlZCByZWdpc3RlcmVkIGJ5IHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudFxuICAgKiBAcGFyYW0geyp9IHBhc3N3b3JkIFRoZSBwYXNzd29yZCBvZiB0aGUgYWNjb3VudFxuICAgKi9cbiAgYXN5bmMgbG9naW4oZW1haWwsIHBhc3N3b3JkKSB7XG4gICAgbGV0IHJlc3BvbnNlID0gbnVsbDtcblxuICAgIC8qXG4gICAgICogSWYgd2UgYXJlIGdpdmVuIGEgZnVuY3Rpb24gZm9yIG90cCwgdGhlbiB3ZSBtdXN0IGZhaWwgYSBsb2cgaW4gdG9cbiAgICAgKiB0cmlnZ2VyIGFuIE9UUCBldmVudCB3aXRoIFdlYWx0aHNpbXBsZSBUcmFkZS4gVGhpcyB3aWxsIGFsbG93IHRoZSB1c2VyXG4gICAgICogb3RwIHRodW5rIHRvIHJldHJpZXZlIHRoZSBjb2RlLlxuICAgICAqXG4gICAgICogSWYgYSBsaXRlcmFsIHZhbHVlIGlzIHByb3ZpZGVkIGZvciBvdHAsIGl0IG1lYW5zIHRoZSB1c2VyIGhhcyBtYW51YWxseVxuICAgICAqIHByb3ZpZGVkIHVzIHdpdGggdGhlIG90cCBjb2RlLiBXZSBjYW4gc2tpcCB0aGlzIGxvZ2luIGF0dGVtcHQuXG4gICAgICovXG4gICAgaWYgKHR5cGVvZiAodGhpcy5vdHApID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhd2FpdCBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5MT0dJTiwge1xuICAgICAgICBlbWFpbCxcbiAgICAgICAgcGFzc3dvcmQsXG4gICAgICB9KS5jYXRjaCgoKSA9PiB7fSk7XG4gICAgfVxuXG4gICAgLy8gVHJ5IHRvIGxvZyBpbiBmb3IgcmVhbCB0aGlzIHRpbWUuXG4gICAgdHJ5IHtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuTE9HSU4sIHtcbiAgICAgICAgZW1haWwsXG4gICAgICAgIHBhc3N3b3JkLFxuICAgICAgICBvdHA6IHR5cGVvZiAodGhpcy5vdHApID09PSAnZnVuY3Rpb24nID8gYXdhaXQgdGhpcy5vdHAoKSA6IHRoaXMub3RwLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIHdlIG1pZ2h0IGhhdmUgZmFpbGVkIGJlY2F1c2UgT1RQIHdhcyBub3QgcHJvdmlkZWRcbiAgICAgIGlmICghdGhpcy5vdHApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPVFAgbm90IHByb3ZpZGVkIScpO1xuICAgICAgfVxuXG4gICAgICAvLyBTZWVtcyB0byBiZSBpbmNvcnJlY3QgY3JlZGVudGlhbHMgb3IgT1RQLlxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gICAgLy8gQ2FwdHVyZSB0aGUgdG9rZW5zIGZvciBsYXRlciB1c2FnZS5cbiAgICB0aGlzLnVzZShyZXNwb25zZS50b2tlbnMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgYSBuZXcgc2V0IG9mIGFjY2VzcyBhbmQgcmVmcmVzaCB0b2tlbnMuXG4gICAqL1xuICByZWZyZXNoOiBhc3luYyAoKSA9PiByZWZyZXNoQXV0aGVudGljYXRpb24oKSxcbn07XG4iLCIvLyBIb2xkcyBvcHRpb25hbCBmZWF0dXJlcyB0aGF0IGhhdmUgYmVlbiBkaXNhYmxlZC5cbmNvbnN0IGRpc2FibGVkID0gWydzZWN1cml0aWVzX2NhY2hlJ107XG5cbmV4cG9ydCBjb25zdCBjb25maWdFbmFibGVkID0gKGZlYXR1cmUpID0+ICFkaXNhYmxlZC5pbmNsdWRlcyhmZWF0dXJlKTtcblxuLyoqXG4gKiBFbmFibGUgb3IgZGlzYWJsZSBhIG9wdGlvbmFsIGZlYXR1cmUgd2l0aGluIHdzdHJhZGUtYXBpLlxuICpcbiAqIEV4YW1wbGVzOlxuICogLS0tXG4gKiBjb25maWcoJ3BhbmNha2VzJylcbiAqIEVuYWJsZXMgdGhlIGZpY3RpdGlvdXMgcGFuY2FrZXMgZmVhdHVyZS5cbiAqXG4gKiBjb25maWcoJ25vX3BhbmNha2VzJylcbiAqIERpc2FibGVzIHRoZSBmaWN0aXRpb3VzIHBhbmNha2VzIGZlYXR1cmUuXG4gKlxuICogQHBhcmFtIHsqfSBmZWF0dXJlIFRoZSBzdHJpbmcgaWRlbnRpZmllciBmb3IgdGhlIGZlYXR1cmUsIHN0YXJ0aW5nIHdpdGggXCJub19cIiBpZlxuICogICAgICAgICAgICAgICAgICAgIHlvdSB3aXNoIHRvIGRpc2FibGUgaXQuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbmZpZyhmZWF0dXJlKSB7XG4gIGlmIChmZWF0dXJlPy5zdGFydHNXaXRoKCdub18nKSkge1xuICAgIGNvbnN0IGN1dCA9IGZlYXR1cmUuc3Vic3RyaW5nKGZlYXR1cmUuaW5kZXhPZignXycpICsgMSk7XG5cbiAgICAvLyBXZSB3aWxsIG9ubHkgYXBwZW5kIHRoaXMgaWYgaXQgaXNuJ3QgYWxyZWFkeSBpbiB0aGVyZS5cbiAgICBpZiAoY29uZmlnRW5hYmxlZChjdXQpKSB7XG4gICAgICBkaXNhYmxlZC5wdXNoKGN1dCk7XG4gICAgfVxuXG4gIC8vIE9ubHkgZGVsZXRlIHRoZSBmZWF0dXJlIGlmIGl0J3MgYWxyZWFkeSBkaXNhYmxlZC5cbiAgfSBlbHNlIGlmICghY29uZmlnRW5hYmxlZChmZWF0dXJlKSkge1xuICAgIGRpc2FibGVkLnNwbGljZShkaXNhYmxlZC5pbmRleE9mKGZlYXR1cmUpLCAxKTtcbiAgfVxufVxuIiwiLy8gRXhjaGFuZ2VzIHN1cHBvcnRlZCBieSBXZWFsdGhzaW1wbGUgVHJhZGVcbi8vICdDQycgaXMgbm90IGFuIGV4Y2hhbmdlOyBpdCBzdGFuZHMgZm9yIENyeXB0byBjdXJyZW5jeSBhbmRcbi8vIGl0IGFsbG93cyB1cyB0byBkaXN0aW5ndWlzaCBpdCBmcm9tIGNvbnZlbnRpb25hbCBzZWN1cml0aWVzLlxuY29uc3QgZXhjaGFuZ2VzID0gWydOQVNEQVEnLCAnTllTRScsICdUU1gnLCAnVFNYLVYnLCAnTkVPJywgJ0NDJ107XG5cbi8qKlxuICogVGlja2VyIHByb3ZpZGVzIGEgbG9naWNhbCBlbmNhcHN1bGF0aW9uIGZvciB0aGUgYWxsb3dlZCBmb3Jtc1xuICogb2YgYSBzZWN1cml0eSB0aWNrZXIgd2l0aGluIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYXBwbGljYXRpb24uXG4gKlxuICogSXQgcHJvdmlkZXMgdmFsaWRhdGlvbiBvZiB0aGUgZm9ybWF0IG9mIHRoZSB0aWNrZXIsIGFuZCB0aGVcbiAqIHZhbHVlIG9mIHRoZSBleGNoYW5nZSwgaWYgcHJvdmlkZWQuXG4gKlxuICogVGlja2VycyBtYXkgYmUgc3BlY2lmaWVkIGFzIHR3byBkYXRhIHR5cGVzOlxuICpcbiAqIC0gc3RyaW5nOiBUaGUgdGlja2VyIG1heSBiZSBhIHNpbXBsZSBzdHJpbmcgY29udGFpbmluZyB0aGUgc3ltYm9sLCBvciBhIGNvbWJpbmF0aW9uIG9mXG4gKiB0aGUgc3ltYm9sIGFuZCBleGNoYW5nZSBzZXBhcmF0ZWQgYnkgYSBjb2xvbi5cbiAqIC0gb2JqZWN0OiBUaGUgdGlja2VyIG1heSBiZSBhbiBvYmplY3Qgd2l0aCBzeW1ib2wsIGV4Y2hhbmdlLCBvciBpZCBwcm9wZXJ0aWVzLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqIFwiQUFQTFwiXG4gKiBcIlVCRVI6TllTRVwiXG4gKiB7IHN5bWJvbDogXCJBQVBMXCIgfVxuICogeyBzeW1ib2w6IFwiVUJFUlwiLCBleGNoYW5nZTogXCJOWVNFXCIgfVxuICogeyBpZDogXCJzZWMtcy03NmE3MTU1MjQyZTg0Nzc4ODBjYmI0MzI2OTIzNWNiNlwiIH1cbiAqL1xuY2xhc3MgVGlja2VyIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgdGhlIHRpY2tlciBvYmplY3QuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHNlY3VyaXR5IHRpY2tlciB2YWx1ZSwgcHJvdmlkZWQgYXMgYSBzdHJpbmcgb3IgYW4gb2JqZWN0IHdpdGggc3ltYm9sLFxuICAgKiBleGNoYW5nZSwgb3IgaWQuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgIHRoaXMuc3ltYm9sID0gbnVsbDtcbiAgICB0aGlzLmV4Y2hhbmdlID0gbnVsbDtcbiAgICB0aGlzLmlkID0gbnVsbDtcbiAgICB0aGlzLmNyeXB0byA9IGZhbHNlO1xuXG4gICAgaWYgKHR5cGVvZiAodmFsdWUpID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gRW1wdHkgdGlja2VycyBhcmUgbm90IGFsbG93ZWRcbiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbXB0eSB0aWNrZXInKTtcbiAgICAgIH1cblxuICAgICAgW3RoaXMuc3ltYm9sLCB0aGlzLmV4Y2hhbmdlXSA9IHZhbHVlLnNwbGl0KCc6Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFlvdSBuZWVkIGF0IGxlYXN0IGEgc3ltYm9sIG9yIGlkIHRvIGZvcm0gYSB0aWNrZXIuXG4gICAgICBpZiAoIXZhbHVlLnN5bWJvbCAmJiAhdmFsdWUuaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHRpY2tlciAnJHt2YWx1ZX0nYCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3ltYm9sID0gdmFsdWUuc3ltYm9sIHx8IG51bGw7XG4gICAgICB0aGlzLmV4Y2hhbmdlID0gdmFsdWUuZXhjaGFuZ2UgfHwgbnVsbDtcbiAgICAgIHRoaXMuaWQgPSB2YWx1ZS5pZCB8fCBudWxsO1xuICAgIH1cblxuICAgIC8vIEd1YXJhbnRlZSB0aGF0IHRoZSBleGNoYW5nZSBpcyB2YWxpZCBpZiBub3QgbnVsbFxuICAgIGlmICh0aGlzLmV4Y2hhbmdlICYmICFleGNoYW5nZXMuaW5jbHVkZXModGhpcy5leGNoYW5nZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBleGNoYW5nZSAnJHt0aGlzLmV4Y2hhbmdlfSchYCk7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSBjcnlwdG8gcHJvcGVydHkgdG8gdHJ1ZSB0byB0cmVhdCB0aGlzIHNlY3VyaXR5IGFzIGNyeXB0b2N1cnJlbmN5XG4gICAgaWYgKHRoaXMuZXhjaGFuZ2UgPT09ICdDQycgfHwgdGhpcy5pZD8uc3RhcnRzV2l0aCgnc2VjLXonKSkge1xuICAgICAgdGhpcy5jcnlwdG8gPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIFdlYWx0aHNpbXBsZSBUcmFkZSBkb2Vzbid0IGhhdmUgYSBzaG9ydCBleGNoYW5nZSBpZCAoJ05FTycpIGZvclxuICAgIC8vIEFFUVVJVEFTIE5FTyBFWENIQU5HRSBmb3Igc29tZSByZWFzb24uLi5cbiAgICAvLyBXZSBoYXZlIHRvIG1hcCBpdCB0byB0aGUgZnVsbCBuYW1lIGZvciBjb21wYXJpc29ucyB0byB3b3JrLlxuICAgIGlmICh0aGlzLmV4Y2hhbmdlID09PSAnTkVPJykge1xuICAgICAgdGhpcy5leGNoYW5nZSA9ICdBRVFVSVRBUyBORU8gRVhDSEFOR0UnO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWR1Y2VzIHRoZSB0aWNrZXIgb2JqZWN0IHRvIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICAgKi9cbiAgZm9ybWF0KCkge1xuICAgIGlmICh0aGlzLmlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5pZDtcbiAgICB9XG5cbiAgICAvLyBXZSBtdXN0IHJldHJhbnNsYXRlIHRoZSBmdWxsIG5hbWUgb2YgdGhlIE5FTyBleGNoYW5nZSBiYWNrIHRvIE5FT1xuICAgIGlmICh0aGlzLmV4Y2hhbmdlID09PSAnQUVRVUlUQVMgTkVPIEVYQ0hBTkdFJykge1xuICAgICAgcmV0dXJuIGAke3RoaXMuc3ltYm9sfTpORU9gO1xuICAgIH1cblxuICAgIHJldHVybiBgJHt0aGlzLnN5bWJvbH0ke3RoaXMuZXhjaGFuZ2UgPyBgOiR7dGhpcy5leGNoYW5nZX1gIDogJyd9YDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wYXJlcyBzeW1ib2wgb3IgaWQgd2l0aCBhbm90aGVyIHRpY2tlci4gVGhpcyBpcyB3ZWFrIGJlY2F1c2VcbiAgICogZXhjaGFuZ2UgaXMgbm90IGNvbXBhcmVkIGhlcmUsIGFsbG93aW5nIGZvciBmYWxzZSBwb3NpdGl2ZXNcbiAgICogb2Ygc3ltYm9scyBvbiBkaWZmZXJlbnQgZXhjaGFuZ2VzLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IG90aGVyIFRpY2tlciB0byBjb21wYXJlIHVzIHdpdGhcbiAgICovXG4gIHdlYWtFcXVhbHMob3RoZXIpIHtcbiAgICBpZiAodGhpcy5pZCAmJiB0aGlzLmlkID09PSBvdGhlci5pZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3ltYm9sICYmIHRoaXMuc3ltYm9sID09PSBvdGhlci5zeW1ib2wgJiYgdGhpcy5jcnlwdG8gPT09IG90aGVyLmNyeXB0bykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpY2tlcjtcbiIsIi8qKlxuICogQ29tcHV0ZXMgdGhlIGN1cnJlbnQgdGltZSBpbiBlcG9jaCBzZWNvbmRzLlxuICovXG5jb25zdCBlcG9jaFNlY29uZHMgPSAoKSA9PiBwYXJzZUludChEYXRlLm5vdygpIC8gMTAwMCwgMTApO1xuZXhwb3J0IGRlZmF1bHQgZXBvY2hTZWNvbmRzO1xuIiwiaW1wb3J0IGVwb2NoU2Vjb25kcyBmcm9tICcuLi9oZWxwZXJzL3RpbWUnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGFjY2VzczogbnVsbCxcbiAgcmVmcmVzaDogbnVsbCxcbiAgZXhwaXJlczogbnVsbCxcblxuICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdG9rZW5zXG4gICAgICovXG4gIHN0b3JlKHRva2Vucykge1xuICAgIHRoaXMuYWNjZXNzID0gdG9rZW5zLmFjY2VzcyB8fCB0aGlzLmFjY2VzcztcbiAgICB0aGlzLnJlZnJlc2ggPSB0b2tlbnMucmVmcmVzaCB8fCB0aGlzLnJlZnJlc2g7XG4gICAgdGhpcy5leHBpcmVzID0gdG9rZW5zLmV4cGlyZXMgfHwgdGhpcy5leHBpcmVzO1xuICB9LFxuXG4gIGV4cGlyZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXhwaXJlcyAmJiBlcG9jaFNlY29uZHMoKSA+PSB0aGlzLmV4cGlyZXM7XG4gIH0sXG59O1xuIiwiaW1wb3J0IEFQSUNhY2hlIGZyb20gJy4uL2NvcmUvY2FjaGUnO1xuaW1wb3J0IFRpY2tlciBmcm9tICcuLi9jb3JlL3RpY2tlcic7XG5cbmNvbnN0IGNhY2hlID0gbmV3IEFQSUNhY2hlKDEwKTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICAvKipcbiAgICAgKiBRdWVyeSB0aGUgY2FjaGUgZm9yIHRoZSBzZWN1cml0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gc2VjdXJpdHlcbiAgICAgKi9cbiAgZ2V0KHNlY3VyaXR5KSB7XG4gICAgLy8gTXVzdCBkaWdlc3QgdGhlIHNlY3VyaXR5IGludG8gdGhlIHN0YW5kYXJkIGZvcm1hdFxuICAgIGNvbnN0IHJlc3VsdCA9IGNhY2hlLmdldChuZXcgVGlja2VyKHNlY3VyaXR5KS5mb3JtYXQoKSk7XG5cbiAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG5cbiAgLyoqXG4gICAgICogUmVtZW1iZXIgdGhlIHNlY3VyaXR5IGZvciBhIGZ1dHVyZSBxdWljayByZXRyaWV2YWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IGtleVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICAgKi9cbiAgaW5zZXJ0KGtleSwgdmFsdWUpIHtcbiAgICBjYWNoZS5pbnNlcnQobmV3IFRpY2tlcihrZXkpLmZvcm1hdCgpLCB2YWx1ZSk7XG4gIH0sXG59O1xuIiwiLypcbiAqIEFQSUNhY2hlIGlzIGFuIGludGVybmFsIGVmZm9ydCB0byBtaW5pbWl6ZSB1bm5lY2Vzc2FyeSBBUEkgY2FsbHMgd2hlcmVcbiAqIHBvc3NpYmxlLiBBIHNwZWNpZmljIHVzZWNhc2Ugd2hlcmUgYSBjYWNoZSBpcyB1c2VmdWwgaXMgZmlndXJpbmcgb3V0IHRoZVxuICogZXhjaGFuZ2UgYSBzZWN1cml0eSBiZWxvbmdzIHRvLiBBIGNhY2hlIHdvdWxkIGFsbG93IHVzIHRvIG1lbW9yaXplXG4gKiB0aGlzIHN0YXRpYyBkYXRhIGZvciBhIHBlcmlvZCBvZiB0aW1lIHRvIGF2b2lkIHVubmVjZXNzYXJ5IEFQSSBjYWxscy5cbiAqXG4gKiBUaGUgY2xhc3MgZW5jYXBzdWxhdGVzIHRoZSBmb2xsb3dpbmcgY2FjaGUgYmVoYXZpb3VyOlxuICogLSBBIG1heGltdW0gZW50cmllcyBwcm92aWRlZCBhcyBhIGNvbnN0cnVjdG9yIGFyZ3VtZW50XG4gKiAtIEZpcnN0IGluLCBGaXJzdCBvdXQgKEZJRk8pIG1vZGVsXG4gKlxuICogVGhlIGludGVybmVsIGRhdGEgc3RydWN0dXJlIGlzIGEgSGFzaFNldCwgc28gbG9va3VwIHRpbWUgY29zdCBpcyBmYWlybHlcbiAqIG1pbmltYWwuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFQSUNhY2hlIHtcbiAgY29uc3RydWN0b3Ioc2l6ZSkge1xuICAgIHRoaXMuY2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgfVxuXG4gIC8qKlxuICAgICAqIFN0b3JlIHRoZSBrZXktdmFsdWUgcGFpciBpbnRvIHRoaXMgY2FjaGUuIFRoZSBvbGRlc3QgZW50cnkgaXMgZXZpY3RlZCBpZlxuICAgICAqIHdlJ3JlIG91dCBvZiBzcGFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0ga2V5XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqL1xuICBpbnNlcnQoa2V5LCB2YWx1ZSkge1xuICAgIGlmICh0aGlzLmNhY2hlLnNpemUgPj0gdGhpcy5zaXplKSB7XG4gICAgICB0aGlzLmNhY2hlLmRlbGV0ZSh0aGlzLmNhY2hlLmtleXMoKS5uZXh0KCkudmFsdWUpO1xuICAgIH1cblxuICAgIHRoaXMuY2FjaGUuc2V0KGtleSwgdmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAgICogUmV0cmlldmUgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IGFzc29jaWF0ZWQgd2l0aCB0aGUga2V5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBrZXlcbiAgICAgKi9cbiAgZ2V0KGtleSkge1xuICAgIHJldHVybiB0aGlzLmNhY2hlLmdldChrZXkpO1xuICB9XG59XG4iLCJpbXBvcnQgZW5kcG9pbnRzIGZyb20gJy4vYXBpL2VuZHBvaW50cyc7XG5pbXBvcnQgaGFuZGxlUmVxdWVzdCBmcm9tICcuL25ldHdvcmsvaHR0cHMnO1xuaW1wb3J0IFRpY2tlciBmcm9tICcuL2NvcmUvdGlja2VyJztcbmltcG9ydCB7IGNvbmZpZ0VuYWJsZWQgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgY2FjaGUgZnJvbSAnLi9vcHRpb25hbC9zZWN1cml0aWVzLWNhY2hlJztcblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIC8qKlxuICAgKiBBIHNuYXBzaG90IG9mIHRoZSBjdXJyZW50IFVTRC9DQUQgZXhjaGFuZ2UgcmF0ZXMgb24gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZVxuICAgKiBwbGF0Zm9ybS5cbiAgICovXG4gIGV4Y2hhbmdlUmF0ZXM6IGFzeW5jICgpID0+IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLkVYQ0hBTkdFX1JBVEVTLCB7fSksXG5cbiAgLyoqXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IGEgc2VjdXJpdHkgb24gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBQbGF0Zm9ybS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSB1c2VyVGlja2VyIFRoZSBzZWN1cml0eSBpZFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGV4dGVuc2l2ZSBQdWxscyBhIG1vcmUgZGV0YWlsZWQgcmVwb3J0IG9mIHRoZSBzZWN1cml0eSB1c2luZyB0aGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgL3NlY3VyaXRpZXMve2lkfSBBUElcbiAgICovXG4gIGdldFNlY3VyaXR5OiBhc3luYyAodXNlclRpY2tlciwgZXh0ZW5zaXZlKSA9PiB7XG4gICAgbGV0IHJlc3VsdCA9IG51bGw7XG5cbiAgICAvLyBSdW4gc29tZSB2YWxpZGF0aW9uIG9uIHRoZSB0aWNrZXJcbiAgICBjb25zdCB0aWNrZXIgPSBuZXcgVGlja2VyKHVzZXJUaWNrZXIpO1xuXG4gICAgaWYgKCFleHRlbnNpdmUgJiYgY29uZmlnRW5hYmxlZCgnc2VjdXJpdGllc19jYWNoZScpKSB7XG4gICAgICByZXN1bHQgPSBjYWNoZS5nZXQodGlja2VyKTtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGlja2VyLmlkKSB7XG4gICAgICAvLyBXZSB3aWxsIGltbWVkaWF0ZWx5IGNhbGwgdGhlIGV4dGVuc2l2ZSBkZXRhaWxzIEFQSSBzaW5jZSB3ZSBoYXZlIHRoZSB1bmlxdWUgaWQuXG4gICAgICByZXN1bHQgPSBhd2FpdCBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5FWFRFTlNJVkVfU0VDVVJJVFlfREVUQUlMUywgeyBpZDogdGlja2VyLmlkIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBhd2FpdCBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5TRUNVUklUWSwgeyB0aWNrZXI6IHRpY2tlci5zeW1ib2wgfSk7XG4gICAgICByZXN1bHQgPSByZXN1bHQuZmlsdGVyKChzZWN1cml0eSkgPT4gc2VjdXJpdHkuc3RvY2suc3ltYm9sID09PSB0aWNrZXIuc3ltYm9sKTtcblxuICAgICAgaWYgKHRpY2tlci5jcnlwdG8pIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmZpbHRlcigoc2VjdXJpdHkpID0+IHNlY3VyaXR5LnNlY3VyaXR5X3R5cGUgPT09ICdjcnlwdG9jdXJyZW5jeScpO1xuICAgICAgfSBlbHNlIGlmICh0aWNrZXIuZXhjaGFuZ2UpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmZpbHRlcigoc2VjdXJpdHkpID0+IHNlY3VyaXR5LnN0b2NrLnByaW1hcnlfZXhjaGFuZ2UgPT09IHRpY2tlci5leGNoYW5nZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ011bHRpcGxlIHNlY3VyaXRpZXMgbWF0Y2hlZCBxdWVyeS4nKTtcbiAgICAgIH0gaWYgKHJlc3VsdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBzZWN1cml0aWVzIG1hdGNoZWQgcXVlcnkuJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbnZlcnQgcmVzdWx0IGZyb20gYSBzaW5nbGV0b24gbGlzdCB0byBpdHMgcmF3IGVudHJ5XG4gICAgICBbcmVzdWx0XSA9IHJlc3VsdDtcblxuICAgICAgaWYgKGV4dGVuc2l2ZSkge1xuICAgICAgICAvLyBUaGUgY2FsbGVyIGhhcyBvcHRlZCB0byByZWNlaXZlIHRoZSBleHRlbnNpdmUgZGV0YWlscyBhYm91dCB0aGUgc2VjdXJpdHkuXG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLkVYVEVOU0lWRV9TRUNVUklUWV9ERVRBSUxTLCB7IGlkOiByZXN1bHQuaWQgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZ0VuYWJsZWQoJ3NlY3VyaXRpZXNfY2FjaGUnKSAmJiBjYWNoZS5nZXQodGlja2VyKSA9PT0gbnVsbCkge1xuICAgICAgY2FjaGUuaW5zZXJ0KHRpY2tlciwgcmVzdWx0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LFxufTtcbiIsImltcG9ydCB7IEhlYWRlcnMgfSBmcm9tICdub2RlLWZldGNoJztcblxuY29uc3QgY3VzdG9tSGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAvKipcbiAgICogQXBwZW5kcyBhIGhlYWRlciBuYW1lLXZhbHVlIHBhaXIgdG8gYWxsIHJlcXVlc3RzLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IG5hbWUgSGVhZGVyIGtleVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIEhlYWRlciB2YWx1ZVxuICAgKi9cbiAgYWRkOiAobmFtZSwgdmFsdWUpID0+IGN1c3RvbUhlYWRlcnMuYXBwZW5kKG5hbWUsIHZhbHVlKSxcblxuICAvKipcbiAgICogUmVtb3ZlcyBhIGN1c3RvbSBoZWFkZXIgZnJvbSBhbGwgcmVxdWVzdHMuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gbmFtZSBIZWFkZXIga2V5XG4gICAqL1xuICByZW1vdmU6IChuYW1lKSA9PiBjdXN0b21IZWFkZXJzLmRlbGV0ZShuYW1lKSxcblxuICAvKipcbiAgICogQ2xlYXJzIGFsbCBjdXN0b20gaGVhZGVycy5cbiAgICovXG4gIGNsZWFyOiAoKSA9PiBbLi4uY3VzdG9tSGVhZGVyc10uZm9yRWFjaCgoaGVhZGVyKSA9PiBjdXN0b21IZWFkZXJzLmRlbGV0ZShoZWFkZXJbMF0pKSxcblxuICAvKipcbiAgICogUHJvZHVjZXMgYSBsaXN0IG9mIGN1c3RvbSBoZWFkZXJzLlxuICAgKi9cbiAgdmFsdWVzOiAoKSA9PiBbLi4uY3VzdG9tSGVhZGVyc10sXG59O1xuIiwicmVxdWlyZSgnc291cmNlLW1hcC1zdXBwb3J0JykuaW5zdGFsbCgpO1xuXG5jb25zdCBhdXRoID0gcmVxdWlyZSgnLi9hdXRoJykuZGVmYXVsdDtcbmNvbnN0IGhlYWRlcnMgPSByZXF1aXJlKCcuL2hlYWRlcnMnKS5kZWZhdWx0O1xuY29uc3QgYWNjb3VudHMgPSByZXF1aXJlKCcuL2FjY291bnRzJykuZGVmYXVsdDtcbmNvbnN0IG9yZGVycyA9IHJlcXVpcmUoJy4vb3JkZXJzJykuZGVmYXVsdDtcbmNvbnN0IGRhdGEgPSByZXF1aXJlKCcuL2RhdGEnKS5kZWZhdWx0O1xuY29uc3QgcXVvdGVzID0gcmVxdWlyZSgnLi9xdW90ZXMnKS5kZWZhdWx0O1xuY29uc3QgY29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcnKS5kZWZhdWx0O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYXV0aCxcbiAgaGVhZGVycyxcbiAgYWNjb3VudHMsXG4gIG9yZGVycyxcbiAgcXVvdGVzLFxuICBkYXRhLFxuICBjb25maWcsXG59O1xuIiwiaW1wb3J0IGZldGNoLCB7IEhlYWRlcnMgfSBmcm9tICdub2RlLWZldGNoJztcbmltcG9ydCBjdXN0b21IZWFkZXJzIGZyb20gJy4uL2hlYWRlcnMnO1xuaW1wb3J0IHRva2VucyBmcm9tICcuLi9jb3JlL3Rva2Vucyc7XG5pbXBvcnQgZW5kcG9pbnRzIGZyb20gJy4uL2FwaS9lbmRwb2ludHMnO1xuaW1wb3J0IHsgY29uZmlnRW5hYmxlZCB9IGZyb20gJy4uL2NvbmZpZyc7XG5cbmNvbnN0IFtIVFRQX09LLCBIVFRQX0NSRUFURURdID0gWzIwMCwgMjAxXTtcblxuLypcbiAqIENvbXBsZXRlIHRoZSBVUkwgYnkgZmlsbGluZyB0aGUgcGFyYW1ldGVyIHBsYWNlaG9sZGVycyB3aXRoIHRoZVxuICogZGF0YSBhcmd1bWVudHMuXG4gKi9cbmZ1bmN0aW9uIGZpbmFsaXplUmVxdWVzdChlbmRwb2ludCwgZGF0YSkge1xuICAvLyBNYWtlIGEgY29weSBzbyB3ZSBkb24ndCBtb2RpZnkgdGhlIG9yaWdpbmFsIG9uZS5cbiAgY29uc3QgcGFyYW1zID0geyAuLi5kYXRhIH07XG4gIGxldCB7IHVybCB9ID0gZW5kcG9pbnQ7XG5cbiAgLy8gTm8gbmVlZCB0byBkbyBhbnl0aGluZyBpZiB0aGUgVVJMIGlzIHN0YXRpYyAobm8gcGFyYW1ldGVycylcbiAgaWYgKGVuZHBvaW50LnBhcmFtZXRlcnMpIHtcbiAgICAvLyBTd2FwIGFsbCB0aGUgcGFyYW1ldGVyIHBsYWNlaG9sZGVycyB3aXRoIHRoZSBhcmd1bWVudHMuXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IE9iamVjdC5rZXlzKGVuZHBvaW50LnBhcmFtZXRlcnMpLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgY29uc3QgcGFyYW1ldGVyTmFtZSA9IGVuZHBvaW50LnBhcmFtZXRlcnNbaW5kZXhdO1xuXG4gICAgICAvLyB3ZSBoYXZlIHRvIGV4cGxpY2l0bHkgY2hlY2sgZm9yIG51bGwgYW5kIHVuZGVmaW5lZCBzaW5jZSBwYXJhbWV0ZXJcbiAgICAgIC8vIHZhbHVlcyBtaWdodCBiZSAwLlxuICAgICAgaWYgKHBhcmFtc1twYXJhbWV0ZXJOYW1lXSA9PT0gbnVsbCB8fCBwYXJhbXNbcGFyYW1ldGVyTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVSTCBQYXRoIHBhcmFtZXRlciAnJHtwYXJhbWV0ZXJOYW1lfScgbWlzc2luZyFgKTtcbiAgICAgIH1cblxuICAgICAgdXJsID0gdXJsLnJlcGxhY2UoYHske2luZGV4fX1gLCBwYXJhbXNbZW5kcG9pbnQucGFyYW1ldGVyc1tpbmRleF1dKTtcblxuICAgICAgLy8gTXVzdCByZW1vdmUgdGhpcyBrZXkgZnJvbSB0aGUgcGF5bG9hZCBhcyBpdCBoYXMgYmVlbiBjb25zdW1lZCBieSB0aGUgVVJMXG4gICAgICBkZWxldGUgcGFyYW1zW2VuZHBvaW50LnBhcmFtZXRlcnNbaW5kZXhdXTtcbiAgICB9XG4gIH1cblxuICAvLyBObyBwYXlsb2FkIGF0dGFjaGVkIHRvIEdFVC9ERUxFVEUgcmVxdWVzdHNcbiAgaWYgKFsnR0VUJywgJ0hFQUQnXS5pbmNsdWRlcyhlbmRwb2ludC5tZXRob2QpKSB7XG4gICAgcmV0dXJuIHsgdXJsLCBwYXlsb2FkOiB1bmRlZmluZWQgfTtcbiAgfVxuXG4gIHJldHVybiB7IHVybCwgcGF5bG9hZDogSlNPTi5zdHJpbmdpZnkocGFyYW1zKSB9O1xufVxuXG4vKlxuICogSW1wbGVtZW50cyB0aGUgbmV0d29yayBsZXZlbCBwcm90b2NvbCBmb3IgdGFsa2luZyB0byB0aGVcbiAqIFdlYWx0aHNpbXBsZSBUcmFkZSBIVFRQUyBBUEkuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHRhbGsoZW5kcG9pbnQsIGRhdGEpIHtcbiAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gIGhlYWRlcnMuYXBwZW5kKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gIGlmIChlbmRwb2ludC5hdXRoZW50aWNhdGVkKSB7XG4gICAgLy8gbm8gYWNjZXNzIHRva2VuIG1lYW5zIHdlIHdpbGwgcHJlbWF0dXJlbHkgZmFpbCB0aGUgcmVxdWVzdCBiZWNhdXNlXG4gICAgLy8gdGhpcyBpcyBhIHByaXZpbGVnZWQgZW5kcG9pbnQuXG4gICAgaWYgKCF0b2tlbnMuYWNjZXNzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkIGZvciAnJHtlbmRwb2ludC51cmx9J2ApO1xuICAgIH1cblxuICAgIGlmIChjb25maWdFbmFibGVkKCdpbXBsaWNpdF90b2tlbl9yZWZyZXNoJykpIHtcbiAgICAgIGF3YWl0IGltcGxpY2l0VG9rZW5SZWZyZXNoKCk7XG4gICAgfVxuXG4gICAgaGVhZGVycy5hcHBlbmQoJ0F1dGhvcml6YXRpb24nLCB0b2tlbnMuYWNjZXNzKTtcbiAgfVxuXG4gIC8vIEFwcGx5IGFsbCBjdXN0b20gaGVhZGVyc1xuICBjdXN0b21IZWFkZXJzLnZhbHVlcygpLmZvckVhY2goKGhlYWRlcikgPT4gaGVhZGVycy5hcHBlbmQoLi4uaGVhZGVyKSk7XG5cbiAgLy8gZmlsbCBwYXRoIGFuZCBxdWVyeSBwYXJhbWV0ZXJzIGluIHRoZSBVUkxcbiAgY29uc3QgeyB1cmwsIHBheWxvYWQgfSA9IGZpbmFsaXplUmVxdWVzdChlbmRwb2ludCwgZGF0YSk7XG5cbiAgcmV0dXJuIGZldGNoKHVybCwge1xuICAgIGJvZHk6IHBheWxvYWQsXG4gICAgbWV0aG9kOiBlbmRwb2ludC5tZXRob2QsXG4gICAgaGVhZGVycyxcbiAgfSk7XG59XG5cbi8qXG4gKiBGdWxmaWxsIHRoZSBlbmRwb2ludCByZXF1ZXN0IGdpdmVuIHRoZSBlbmRwb2ludCBjb25maWd1cmF0aW9uLCBvcHRpb25hbFxuICogZGF0YS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmVxdWVzdChlbmRwb2ludCwgZGF0YSkge1xuICAvLyBTdWJtaXQgdGhlIEhUVFAgcmVxdWVzdCB0byB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIFNlcnZlcnNcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0YWxrKGVuZHBvaW50LCBkYXRhKTtcblxuICBpZiAoW0hUVFBfT0ssIEhUVFBfQ1JFQVRFRF0uaW5jbHVkZXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgIHJldHVybiBlbmRwb2ludC5vblN1Y2Nlc3MocmVzcG9uc2UpO1xuICB9XG5cbiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGF3YWl0IGVuZHBvaW50Lm9uRmFpbHVyZShyZXNwb25zZSkpO1xufVxuXG4vKipcbiAqIE9idGFpbiBhIG5ldyBzZXQgb2YgYXV0aGVudGljYXRpb24gdG9rZW5zIHVzaW5nIHRoZVxuICogZXhpc3RpbmcgcmVmcmVzaCB0b2tlbi5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlZnJlc2hBdXRoZW50aWNhdGlvbigpIHtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5SRUZSRVNILCB7XG4gICAgcmVmcmVzaF90b2tlbjogdG9rZW5zLnJlZnJlc2gsXG4gIH0pO1xuXG4gIHRva2Vucy5zdG9yZShyZXNwb25zZS50b2tlbnMpO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBleGlzdGluZyBzZXQgb2YgdG9rZW5zIGhhdmUgZXhwaXJlZCwgYXV0b21hdGljYWxseVxuICogdHJpZ2dlcmluZyBhIHJlZnJlc2ggaWYgdGhleSBoYXZlIGV4cGlyZWQuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGltcGxpY2l0VG9rZW5SZWZyZXNoKCkge1xuICBpZiAodG9rZW5zLmV4cGlyZWQoKSkge1xuICAgIGlmICh0b2tlbnMucmVmcmVzaCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gTGV0J3MgaW1wbGljaXRseSByZWZyZXNoIHRoZSBhY2Nlc3MgdG9rZW4gdXNpbmcgdGhlIHJlZnJlc2ggdG9rZW4uXG4gICAgICAgIGF3YWl0IHJlZnJlc2hBdXRoZW50aWNhdGlvbigpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gVGhlIHJlZnJlc2ggdG9rZW4gaXMgbm90IHZhbGlkLlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byByZWZyZXNoIGV4cGlyZWQgdG9rZW46ICR7ZXJyb3J9YCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFdlIGFyZSBmb3JjZWQgdG8gcmVqZWN0IGFzIG91ciBhY2Nlc3MgdG9rZW4gaGFzIGV4cGlyZWQgYW5kIHdlXG4gICAgICAvLyBkbyBub3QgaGF2ZSBhIHJlZnJlc2ggdG9rZW4uXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjY2VzcyB0b2tlbiBleHBpcmVkJyk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgZW5kcG9pbnRzIGZyb20gJy4uL2FwaS9lbmRwb2ludHMnO1xuaW1wb3J0IGhhbmRsZVJlcXVlc3QgZnJvbSAnLi4vbmV0d29yay9odHRwcyc7XG5pbXBvcnQgVGlja2VyIGZyb20gJy4uL2NvcmUvdGlja2VyJztcblxuLy8gVGhlIG1heGltdW0gbnVtYmVyIG9mIG9yZGVycyByZXRyaWV2ZWQgYnkgdGhlIC9vcmRlcnMgQVBJLlxuY29uc3QgT1JERVJTX1BFUl9QQUdFID0gMjA7XG5cbi8qKlxuICogQ29sbGVjdHMgb3JkZXJzIChmaWxsZWQsIHBlbmRpbmcsIGNhbmNlbGxlZCkgZm9yIHRoZSBwcm92aWRlZCBwYWdlIGFuZFxuICogYWNjb3VudCBpZC5cbiAqXG4gKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgc3BlY2lmaWMgYWNjb3VudCBpbiB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnRcbiAqIEBwYXJhbSB7Kn0gcGFnZU51bSBUaGUgb3JkZXJzIHBhZ2UgaW5kZXggdG8gc2VlayB0b1xuICovXG5hc3luYyBmdW5jdGlvbiBwYWdlKGFjY291bnRJZCwgcGFnZU51bSkge1xuICByZXR1cm4gaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuT1JERVJTX0JZX1BBR0UsIHtcbiAgICBvZmZzZXQ6IChwYWdlTnVtIC0gMSkgKiBPUkRFUlNfUEVSX1BBR0UsXG4gICAgYWNjb3VudElkLFxuICB9KTtcbn1cblxuLyoqXG4gKiBDb2xsZWN0cyBhbGwgb3JkZXJzIChmaWxsZWQsIHBlbmRpbmcsIGNhbmNlbGxlZCkgZm9yIHRoZSBzcGVjaWZpYyBhY2NvdW50LlxuICpcbiAqIEBwYXJhbSB7Kn0gYWNjb3VudElkIFRoZSBzcGVjaWZpYyBhY2NvdW50IGluIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudFxuICovXG5hc3luYyBmdW5jdGlvbiBhbGwoYWNjb3VudElkKSB7XG4gIC8vIFdlIHN0YXJ0IGJ5IGNhcHR1cmluZyB0aGUgZmlyc3QgcGFnZSBvZiBvcmRlcnMgaW4gb3JkZXIgdG9cbiAgLy8gZGV0ZXJtaW5lIHRoZSBudW1iZXIgb2YgcGFnZXMgYXZhaWxhYmxlXG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBwYWdlKGFjY291bnRJZCwgMSk7XG4gIGNvbnN0IHBhZ2VzID0gTWF0aC5jZWlsKGRhdGEudG90YWwgLyBPUkRFUlNfUEVSX1BBR0UpO1xuXG4gIGlmIChwYWdlcyA+IDEpIHtcbiAgICBjb25zdCB0YXNrcyA9IFtdO1xuXG4gICAgLy8gQnVpbGQgdGhlIHRhc2sgcXVldWUgdGhhdCB3aWxsIHJldHJpZXZlIHRoZSByZW1haW5pbmcgcGFnZXMgb2Ygb3JkZXJzXG4gICAgZm9yIChsZXQgcGFnZU51bSA9IDI7IHBhZ2VOdW0gPD0gcGFnZXM7IHBhZ2VOdW0rKykge1xuICAgICAgdGFza3MucHVzaChwYWdlKGFjY291bnRJZCwgcGFnZU51bSkudGhlbigocmVzdWx0KSA9PiByZXN1bHQub3JkZXJzKSk7XG4gICAgfVxuXG4gICAgLy8gT3V0LW9mLW9yZGVyIGludm9jYXRpb24gaXMgZGVzaXJlZC4gV2hhdCBtYXR0ZXJzIGlzIHRoYXQgUHJvbWlzZS5hbGwgd2lsbFxuICAgIC8vIGd1YXJhbnRlZSB0aGF0IHRoZSBkYXRhIG9yZGVyIGlzIHByZXNlcnZlZC5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQcm9taXNlLmFsbCh0YXNrcyk7XG4gICAgcmVzdWx0LmZvckVhY2goKGxpc3QpID0+IGRhdGEub3JkZXJzLnB1c2goLi4ubGlzdCkpO1xuXG4gICAgLy8gVXBkYXRlIHRoZSB0b3RhbCBhdHRyaWJ1dGUgdG8gcmVmbGVjdCB0aGUgbmV3IHNpemVcbiAgICBkYXRhLnRvdGFsID0gZGF0YS5vcmRlcnMubGVuZ3RoO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qXG4gKiBSZXRyaWV2ZSBmaWx0ZXJlZCBvcmRlcnMgYnkgdGlja2VyIGFuZCBzdGF0dXMuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGZpbHRlcmVkT3JkZXJzKGFjY291bnRJZCwgdGlja2VyLCBzdGF0dXMpIHtcbiAgLy8gRmV0Y2ggYWxsIG9yZGVyc1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBhbGwoYWNjb3VudElkKTtcblxuICBjb25zdCBvcmRlckZpbHRlciA9IChvcmRlcikgPT4ge1xuICAgIGlmICh0aWNrZXIpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IG5ldyBUaWNrZXIoeyBzeW1ib2w6IG9yZGVyLnN5bWJvbCwgaWQ6IG9yZGVyLnNlY3VyaXR5X2lkIH0pO1xuICAgICAgLy8gb3JkZXIgb2JqZWN0cyBkb24ndCBpbmNsdWRlIGV4Y2hhbmdlcywgc28gd2UgYXJlIHVuYWJsZSB0byBtYWtlXG4gICAgICAvLyBhIHN0cm9uZyBjb21wYXJpc29uIHdpdGhvdXQgcmVxdWlyaW5nIGEgbGluZWFyIGluY3JlYXNlIG9mXG4gICAgICAvLyBlbmRwb2ludCBjYWxscyAod2hpY2ggaXMgbm90IHJlYXNvbmFibGUpLlxuICAgICAgLy9cbiAgICAgIC8vIFRoZSB1c2VyIHNob3VsZCBwcm92aWRlIHRoZSBzZWN1cml0eSBpZCBmb3IgYSBzdHJvbmcgY29tcGFyaXNvbiBoZXJlLlxuICAgICAgaWYgKCFuZXcgVGlja2VyKHRpY2tlcikud2Vha0VxdWFscyh0YXJnZXQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3JkZXIuc3RhdHVzID09PSBzdGF0dXM7XG4gIH07XG5cbiAgLy8gQXBwbHkgZmlsdGVyIHRvIHRoZSByZXN1bHRcbiAgcmVzdWx0Lm9yZGVycyA9IHJlc3VsdC5vcmRlcnMuZmlsdGVyKG9yZGVyRmlsdGVyKTtcbiAgcmVzdWx0LnRvdGFsID0gcmVzdWx0Lm9yZGVycy5sZW5ndGg7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICBwYWdlLFxuICBhbGwsXG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBwZW5kaW5nIG9yZGVycyBmb3IgdGhlIHNwZWNpZmllZCBzZWN1cml0eSBpbiB0aGUgYWNjb3VudC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIHNwZWNpZmljIGFjY291bnQgaW4gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50XG4gICAqIEBwYXJhbSB7Kn0gdGlja2VyIChvcHRpb25hbCkgVGhlIHNlY3VyaXR5IHN5bWJvbFxuICAgKi9cbiAgcGVuZGluZzogYXN5bmMgKGFjY291bnRJZCwgdGlja2VyKSA9PiBmaWx0ZXJlZE9yZGVycyhhY2NvdW50SWQsIHRpY2tlciwgJ3N1Ym1pdHRlZCcpLFxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgZmlsbGVkIG9yZGVycyBmb3IgdGhlIHNwZWNpZmllZCBzZWN1cml0eSBpbiB0aGUgYWNjb3VudC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIHNwZWNpZmljIGFjY291bnQgaW4gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50XG4gICAqIEBwYXJhbSB7Kn0gdGlja2VyIChvcHRpb25hbCkgVGhlIHNlY3VyaXR5IHN5bWJvbFxuICAgKi9cbiAgZmlsbGVkOiBhc3luYyAoYWNjb3VudElkLCB0aWNrZXIpID0+IGZpbHRlcmVkT3JkZXJzKGFjY291bnRJZCwgdGlja2VyLCAncG9zdGVkJyksXG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBjYW5jZWxsZWQgb3JkZXJzIGZvciB0aGUgc3BlY2lmaWVkIHNlY3VyaXR5IGluIHRoZSBhY2NvdW50LlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgc3BlY2lmaWMgYWNjb3VudCBpbiB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnRcbiAgICogQHBhcmFtIHsqfSB0aWNrZXIgKG9wdGlvbmFsKSBUaGUgc2VjdXJpdHkgc3ltYm9sXG4gICAqL1xuICBjYW5jZWxsZWQ6IGFzeW5jIChhY2NvdW50SWQsIHRpY2tlcikgPT4gZmlsdGVyZWRPcmRlcnMoYWNjb3VudElkLCB0aWNrZXIsICdjYW5jZWxsZWQnKSxcbn07XG4iLCJpbXBvcnQgZW5kcG9pbnRzIGZyb20gJy4uL2FwaS9lbmRwb2ludHMnO1xuaW1wb3J0IGhhbmRsZVJlcXVlc3QgZnJvbSAnLi4vbmV0d29yay9odHRwcyc7XG5pbXBvcnQgaGlzdG9yeSBmcm9tICcuL2hpc3RvcnknO1xuaW1wb3J0IGRhdGEgZnJvbSAnLi4vZGF0YSc7XG5pbXBvcnQgcXVvdGVzIGZyb20gJy4uL3F1b3Rlcyc7XG5pbXBvcnQgVGlja2VyIGZyb20gJy4uL2NvcmUvdGlja2VyJztcblxuY29uc3QgaXNDYW5hZGlhblNlY3VyaXR5ID0gKGV4Y2hhbmdlKSA9PiBbJ1RTWCcsICdUU1gtViddLmluY2x1ZGVzKGV4Y2hhbmdlKTtcblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIC8qKlxuICAgKiBDYW5jZWxzIHRoZSBwZW5kaW5nIG9yZGVyIHNwZWNpZmllZCBieSB0aGUgb3JkZXIgaWQuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gb3JkZXJJZCBUaGUgcGVuZGluZyBvcmRlciB0byBjYW5jZWxcbiAgICovXG4gIGNhbmNlbDogYXN5bmMgKG9yZGVySWQpID0+ICh7XG4gICAgb3JkZXI6IG9yZGVySWQsXG4gICAgcmVzcG9uc2U6IGF3YWl0IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLkNBTkNFTF9PUkRFUiwgeyBvcmRlcklkIH0pLFxuICB9KSxcblxuICAvKipcbiAgICogQ2FuY2VscyBhbGwgcGVuZGluZyBvcmRlcnMgdW5kZXIgdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBBY2NvdW50LlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgc3BlY2lmaWMgYWNjb3VudCBpbiB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnRcbiAgICovXG4gIGFzeW5jIGNhbmNlbFBlbmRpbmcoYWNjb3VudElkKSB7XG4gICAgY29uc3QgcGVuZGluZyA9IGF3YWl0IGhpc3RvcnkucGVuZGluZyhhY2NvdW50SWQpO1xuICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nLm9yZGVycy5tYXAoYXN5bmMgKG9yZGVyKSA9PiB0aGlzLmNhbmNlbChvcmRlci5vcmRlcl9pZCkpKTtcbiAgfSxcblxuICAvKipcbiAgICogTWFya2V0IGJ1eSBhIHNlY3VyaXR5IHRocm91Z2ggdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhcHBsaWNhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIGFjY291bnQgdG8gbWFrZSB0aGUgdHJhbnNhY3Rpb24gZnJvbVxuICAgKiBAcGFyYW0geyp9IHRpY2tlciBUaGUgc2VjdXJpdHkgc3ltYm9sXG4gICAqIEBwYXJhbSB7Kn0gcXVhbnRpdHkgVGhlIG51bWJlciBvZiBzZWN1cml0aWVzIHRvIHB1cmNoYXNlXG4gICAqL1xuICBtYXJrZXRCdXk6IGFzeW5jIChhY2NvdW50SWQsIHRpY2tlciwgcXVhbnRpdHkpID0+IHtcbiAgICBjb25zdCBkZXRhaWxzID0gYXdhaXQgZGF0YS5nZXRTZWN1cml0eSh0aWNrZXIpO1xuXG4gICAgcmV0dXJuIGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLlBMQUNFX09SREVSLCB7XG4gICAgICBzZWN1cml0eV9pZDogZGV0YWlscy5pZCxcbiAgICAgIGxpbWl0X3ByaWNlOiAhKG5ldyBUaWNrZXIodGlja2VyKS5jcnlwdG8pID8gYXdhaXQgcXVvdGVzLmdldCh0aWNrZXIpIDogdW5kZWZpbmVkLFxuICAgICAgcXVhbnRpdHksXG4gICAgICBvcmRlcl90eXBlOiAnYnV5X3F1YW50aXR5JyxcbiAgICAgIG9yZGVyX3N1Yl90eXBlOiAnbWFya2V0JyxcbiAgICAgIHRpbWVfaW5fZm9yY2U6ICdkYXknLFxuICAgICAgYWNjb3VudF9pZDogYWNjb3VudElkLFxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBMaW1pdCBidXkgYSBzZWN1cml0eSB0aHJvdWdoIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYXBwbGljYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gYWNjb3VudElkIFRoZSBhY2NvdW50IHRvIG1ha2UgdGhlIHRyYW5zYWN0aW9uIGZyb21cbiAgICogQHBhcmFtIHsqfSB0aWNrZXIgVGhlIHNlY3VyaXR5IHN5bWJvbFxuICAgKiBAcGFyYW0geyp9IGxpbWl0IFRoZSBtYXhpbXVtIHByaWNlIHRvIHB1cmNoYXNlIHRoZSBzZWN1cml0eSBhdFxuICAgKiBAcGFyYW0geyp9IHF1YW50aXR5IFRoZSBudW1iZXIgb2Ygc2VjdXJpdGllcyB0byBwdXJjaGFzZVxuICAgKi9cbiAgbGltaXRCdXk6IGFzeW5jIChhY2NvdW50SWQsIHRpY2tlciwgbGltaXQsIHF1YW50aXR5KSA9PiBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5QTEFDRV9PUkRFUiwge1xuICAgIHNlY3VyaXR5X2lkOiAoYXdhaXQgZGF0YS5nZXRTZWN1cml0eSh0aWNrZXIpKS5pZCxcbiAgICBsaW1pdF9wcmljZTogbGltaXQsXG4gICAgcXVhbnRpdHksXG4gICAgb3JkZXJfdHlwZTogJ2J1eV9xdWFudGl0eScsXG4gICAgb3JkZXJfc3ViX3R5cGU6ICdsaW1pdCcsXG4gICAgdGltZV9pbl9mb3JjZTogJ2RheScsXG4gICAgYWNjb3VudF9pZDogYWNjb3VudElkLFxuICB9KSxcblxuICAvKipcbiAgICogU3RvcCBsaW1pdCBidXkgYSBzZWN1cml0eSB0aHJvdWdoIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYXBwbGljYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gYWNjb3VudElkIFRoZSBhY2NvdW50IHRvIG1ha2UgdGhlIHRyYW5zYWN0aW9uIGZyb21cbiAgICogQHBhcmFtIHsqfSB0aWNrZXIgVGhlIHNlY3VyaXR5IHN5bWJvbFxuICAgKiBAcGFyYW0geyp9IHN0b3AgVGhlIHByaWNlIGF0IHdoaWNoIHRoZSBvcmRlciBjb252ZXJ0cyB0byBhIGxpbWl0IG9yZGVyXG4gICAqIEBwYXJhbSB7Kn0gbGltaXQgVGhlIG1heGltdW0gcHJpY2UgdG8gcHVyY2hhc2UgdGhlIHNlY3VyaXR5IGF0XG4gICAqIEBwYXJhbSB7Kn0gcXVhbnRpdHkgVGhlIG51bWJlciBvZiBzZWN1cml0aWVzIHRvIHB1cmNoYXNlXG4gICAqL1xuICBzdG9wTGltaXRCdXk6IGFzeW5jIChhY2NvdW50SWQsIHRpY2tlciwgc3RvcCwgbGltaXQsIHF1YW50aXR5KSA9PiB7XG4gICAgY29uc3Qgc2VjdXJpdHkgPSBhd2FpdCBkYXRhLmdldFNlY3VyaXR5KHRpY2tlcik7XG5cbiAgICAvLyBUaGUgV2VhbHRoc2ltcGxlIFRyYWRlIGJhY2tlbmQgZG9lc24ndCBjaGVjayBmb3IgdGhpcywgZXZlbiB0aG91Z2ggdGhlIGFwcCBkb2VzLi5cbiAgICBpZiAoaXNDYW5hZGlhblNlY3VyaXR5KHNlY3VyaXR5LnN0b2NrLnByaW1hcnlfZXhjaGFuZ2UpICYmIHN0b3AgIT09IGxpbWl0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RTWC9UU1gtViBzZWN1cml0aWVzIG11c3QgaGF2ZSBhbiBlcXVpdmFsZW50IHN0b3AgYW5kIGxpbWl0IHByaWNlLicpO1xuICAgIH1cblxuICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5QTEFDRV9PUkRFUiwge1xuICAgICAgc2VjdXJpdHlfaWQ6IHNlY3VyaXR5LmlkLFxuICAgICAgc3RvcF9wcmljZTogc3RvcCxcbiAgICAgIGxpbWl0X3ByaWNlOiBsaW1pdCxcbiAgICAgIHF1YW50aXR5LFxuICAgICAgb3JkZXJfdHlwZTogJ2J1eV9xdWFudGl0eScsXG4gICAgICBvcmRlcl9zdWJfdHlwZTogJ3N0b3BfbGltaXQnLFxuICAgICAgdGltZV9pbl9mb3JjZTogJ2RheScsXG4gICAgICBhY2NvdW50X2lkOiBhY2NvdW50SWQsXG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1hcmtldCBzZWxsIGEgc2VjdXJpdHkgdGhyb3VnaCB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgYWNjb3VudCB0byBtYWtlIHRoZSB0cmFuc2FjdGlvbiBmcm9tXG4gICAqIEBwYXJhbSB7Kn0gdGlja2VyIFRoZSBzZWN1cml0eSBzeW1ib2xcbiAgICogQHBhcmFtIHsqfSBxdWFudGl0eSBUaGUgbnVtYmVyIG9mIHNlY3VyaXRpZXMgdG8gcHVyY2hhc2VcbiAgICovXG4gIG1hcmtldFNlbGw6IGFzeW5jIChhY2NvdW50SWQsIHRpY2tlciwgcXVhbnRpdHkpID0+IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLlBMQUNFX09SREVSLCB7XG4gICAgc2VjdXJpdHlfaWQ6IChhd2FpdCBkYXRhLmdldFNlY3VyaXR5KHRpY2tlcikpLmlkLFxuICAgIG1hcmtldF92YWx1ZTogIShuZXcgVGlja2VyKHRpY2tlcikuY3J5cHRvKSA/IGF3YWl0IHF1b3Rlcy5nZXQodGlja2VyKSA6IHVuZGVmaW5lZCxcbiAgICBxdWFudGl0eSxcbiAgICBvcmRlcl90eXBlOiAnc2VsbF9xdWFudGl0eScsXG4gICAgb3JkZXJfc3ViX3R5cGU6ICdtYXJrZXQnLFxuICAgIHRpbWVfaW5fZm9yY2U6ICdkYXknLFxuICAgIGFjY291bnRfaWQ6IGFjY291bnRJZCxcbiAgfSksXG5cbiAgLyoqXG4gICAqIExpbWl0IHNlbGwgYSBzZWN1cml0eSB0aHJvdWdoIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYXBwbGljYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gYWNjb3VudElkIFRoZSBhY2NvdW50IHRvIG1ha2UgdGhlIHRyYW5zYWN0aW9uIGZyb21cbiAgICogQHBhcmFtIHsqfSB0aWNrZXIgVGhlIHNlY3VyaXR5IHN5bWJvbFxuICAgKiBAcGFyYW0geyp9IGxpbWl0IFRoZSBtaW5pbXVtIHByaWNlIHRvIHNlbGwgdGhlIHNlY3VyaXR5IGF0XG4gICAqIEBwYXJhbSB7Kn0gcXVhbnRpdHkgVGhlIG51bWJlciBvZiBzZWN1cml0aWVzIHRvIHNlbGxcbiAgICovXG4gIGxpbWl0U2VsbDogYXN5bmMgKGFjY291bnRJZCwgdGlja2VyLCBsaW1pdCwgcXVhbnRpdHkpID0+IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLlBMQUNFX09SREVSLCB7XG4gICAgc2VjdXJpdHlfaWQ6IChhd2FpdCBkYXRhLmdldFNlY3VyaXR5KHRpY2tlcikpLmlkLFxuICAgIGxpbWl0X3ByaWNlOiBsaW1pdCxcbiAgICBxdWFudGl0eSxcbiAgICBvcmRlcl90eXBlOiAnc2VsbF9xdWFudGl0eScsXG4gICAgb3JkZXJfc3ViX3R5cGU6ICdsaW1pdCcsXG4gICAgdGltZV9pbl9mb3JjZTogJ2RheScsXG4gICAgYWNjb3VudF9pZDogYWNjb3VudElkLFxuICB9KSxcblxuICAvKipcbiAgICogU3RvcCBsaW1pdCBzZWxsIGEgc2VjdXJpdHkgdGhyb3VnaCB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgYWNjb3VudCB0byBtYWtlIHRoZSB0cmFuc2FjdGlvbiBmcm9tXG4gICAqIEBwYXJhbSB7Kn0gdGlja2VyIFRoZSBzZWN1cml0eSBzeW1ib2xcbiAgICogQHBhcmFtIHsqfSBzdG9wIFRoZSBwcmljZSBhdCB3aGljaCB0aGUgb3JkZXIgY29udmVydHMgdG8gYSBsaW1pdCBvcmRlclxuICAgKiBAcGFyYW0geyp9IGxpbWl0IFRoZSBtaW5pbXVtIHByaWNlIHRvIHNlbGwgdGhlIHNlY3VyaXR5IGF0XG4gICAqIEBwYXJhbSB7Kn0gcXVhbnRpdHkgVGhlIG51bWJlciBvZiBzZWN1cml0aWVzIHRvIHNlbGxcbiAgICovXG4gIHN0b3BMaW1pdFNlbGw6IGFzeW5jIChhY2NvdW50SWQsIHRpY2tlciwgc3RvcCwgbGltaXQsIHF1YW50aXR5KSA9PiB7XG4gICAgY29uc3Qgc2VjdXJpdHkgPSBhd2FpdCBkYXRhLmdldFNlY3VyaXR5KHRpY2tlcik7XG5cbiAgICAvLyBUaGUgV2VhbHRoc2ltcGxlIFRyYWRlIGJhY2tlbmQgZG9lc24ndCBjaGVjayBmb3IgdGhpcywgZXZlbiB0aG91Z2ggdGhlIGFwcCBkb2VzLi5cbiAgICBpZiAoaXNDYW5hZGlhblNlY3VyaXR5KHNlY3VyaXR5LnN0b2NrLnByaW1hcnlfZXhjaGFuZ2UpICYmIHN0b3AgIT09IGxpbWl0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RTWC9UU1gtViBzZWN1cml0aWVzIG11c3QgaGF2ZSBhbiBlcXVpdmFsZW50IHN0b3AgYW5kIGxpbWl0IHByaWNlLicpO1xuICAgIH1cblxuICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5QTEFDRV9PUkRFUiwge1xuICAgICAgc2VjdXJpdHlfaWQ6IHNlY3VyaXR5LmlkLFxuICAgICAgc3RvcF9wcmljZTogc3RvcCxcbiAgICAgIGxpbWl0X3ByaWNlOiBsaW1pdCxcbiAgICAgIHF1YW50aXR5LFxuICAgICAgb3JkZXJfdHlwZTogJ3NlbGxfcXVhbnRpdHknLFxuICAgICAgb3JkZXJfc3ViX3R5cGU6ICdzdG9wX2xpbWl0JyxcbiAgICAgIHRpbWVfaW5fZm9yY2U6ICdkYXknLFxuICAgICAgYWNjb3VudF9pZDogYWNjb3VudElkLFxuICAgIH0pO1xuICB9LFxufTtcbiIsImltcG9ydCBoaXN0b3J5IGZyb20gJy4vaGlzdG9yeSc7XG5pbXBvcnQgc3VibWl0IGZyb20gJy4vc3VibWl0JztcblxuZXhwb3J0IGRlZmF1bHQge1xuICAuLi5oaXN0b3J5LFxuICAuLi5zdWJtaXQsXG59O1xuIiwiLyoqXG4gKiBUaGUgZGVmYXVsdCBwcm92aWRlciBmb3IgcXVvdGVzIGlzIFdlYWx0aHNpbXBsZSBUcmFkZS5cbiAqL1xuXG5pbXBvcnQgZGF0YSBmcm9tICcuLi9kYXRhJztcblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIC8qKlxuICAgICAqIFF1b3RlIGZvciBhIHRpY2tlciBmcm9tIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgZW5kcG9pbnQuXG4gICAgICpcbiAgICAgKiBSZW1lbWJlciB0aGF0IHRoaXMgcXVvdGUgaXMgTk9UIHJlYWwtdGltZSFcbiAgICAgKi9cbiAgcXVvdGU6IGFzeW5jICh0aWNrZXIpID0+IHtcbiAgICBjb25zdCBpbmZvID0gYXdhaXQgZGF0YS5nZXRTZWN1cml0eSh0aWNrZXIsIHRydWUpO1xuICAgIHJldHVybiBpbmZvLnF1b3RlLmFtb3VudDtcbiAgfSxcbn07XG4iLCJpbXBvcnQgdHJhZGUgZnJvbSAnLi9kZWZhdWx0JztcbmltcG9ydCBkYXRhIGZyb20gJy4uL2RhdGEnO1xuaW1wb3J0IFRpY2tlciBmcm9tICcuLi9jb3JlL3RpY2tlcic7XG5pbXBvcnQgaGFuZGxlUmVxdWVzdCBmcm9tICcuLi9uZXR3b3JrL2h0dHBzJztcbmltcG9ydCBlbmRwb2ludHMgZnJvbSAnLi4vYXBpL2VuZHBvaW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAvLyBXZWFsdGhzaW1wbGUgVHJhZGUgaXMgb3VyIGRlZmF1bHQgc291cmNlIGZvciBxdW90ZXMsIGRlc3BpdGVcbiAgLy8gaGF2aW5nIGEgMTUgbWluIGRlbGF5XG4gIGRlZmF1bHRQcm92aWRlcjogdHJhZGUsXG5cbiAgLy8gTWFpbnRhaW5zIHF1b3RlIHByb3ZpZGVycyBvbiBhbiBleGNoYW5nZSBiYXNpc1xuICBwcm92aWRlcnM6IHt9LFxuXG4gIC8qKlxuICAgICAqIExvYWQgYSBjdXN0b20gcHJvdmlkZXIgZm9yIHRoZSBleGNoYW5nZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gZXhjaGFuZ2UgVGhlIGV4Y2hhbmdlIHRoYXQgdGhlIHByb3ZpZGVyIGZldGNoZXMgcXVvdGVzIGZvclxuICAgICAqIEBwYXJhbSB7Kn0gcHJvdmlkZXIgVGhlIHByb3ZpZGVyIG9iamVjdCBjb250YWluaW5nIHRoZSBxdW90ZSgpIGltcGxlbWVudGF0aW9uLlxuICAgICAqL1xuICB1c2UoZXhjaGFuZ2UsIHByb3ZpZGVyKSB7XG4gICAgaWYgKHR5cGVvZiAocHJvdmlkZXIucXVvdGUpICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBUaGUgcHJvdmlkZXIgbXVzdCBoYXZlIGEgcXVvdGUoKSBpbXBsZW1lbnRhdGlvbiB0aGF0IHdlIGNhbiBjYWxsIGxhdGVyIVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHF1b3RlIHByb3ZpZGVyIGZvciAke2V4Y2hhbmdlfSFgKTtcbiAgICB9XG5cbiAgICB0aGlzLnByb3ZpZGVyc1tleGNoYW5nZV0gPSBwcm92aWRlcjtcbiAgfSxcblxuICAvKipcbiAgICAgKiBPYnRhaW5zIGEgcXVvdGUgZm9yIHRoZSB0aWNrZXIuIFRoZSBzb3VyY2Ugb2YgdGhlIHF1b3RlIG1heSBiZSBhIGN1c3RvbVxuICAgICAqIHByb3ZpZGVyIGlmIGEgdmFsaWQgcHJvdmlkZXIgaXMgcmVnaXN0ZXJlZCBmb3IgdGhlIGV4Y2hhbmdlIHRoYXQgdGhlXG4gICAgICogdGlja2VyIHRyYWRlcyBvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gc2VjdXJpdHkgVGhlIHNlY3VyaXR5IHRvIGdldCBhIHF1b3RlIGZvci5cbiAgICAgKi9cbiAgYXN5bmMgZ2V0KHNlY3VyaXR5KSB7XG4gICAgbGV0IGV4Y2hhbmdlID0gbnVsbDtcbiAgICBjb25zdCB0aWNrZXIgPSBuZXcgVGlja2VyKHNlY3VyaXR5KTtcblxuICAgIGlmICh0aWNrZXIuZXhjaGFuZ2UpIHtcbiAgICAgIC8vIFdlIG5lZWQgdGhlIGV4Y2hhbmdlIGluIHRoZSBuZXh0IHN0ZXAgaWYgdGhlIHVzZXIgaGFzIHNwZWNpZmllZFxuICAgICAgLy8gYSBjdXN0b20gcHJvdmlkZXIgZm9yIGFuIGV4Y2hhbmdlLiBTbyBpZiB0aGUgdXNlciBoYXNuJ3QgcHJvdmlkZWRcbiAgICAgIC8vIGl0LCB3ZSB3aWxsIGhhdmUgdG8gcGluZyBXZWFsdGhzaW1wbGUgdHJhZGUgdG8gZ2V0IGl0LlxuICAgICAgZXhjaGFuZ2UgPSB0aWNrZXIuZXhjaGFuZ2U7XG4gICAgfSBlbHNlIGlmICh0aWNrZXIuY3J5cHRvICYmIHRpY2tlci5pZCkge1xuICAgICAgLy8gSWYgdGhlIGlkIGlzIG9ubHkgZ2l2ZW4gYnV0IHdlIGtub3cgaXQncyBhIGNyeXB0byBpZCxcbiAgICAgIC8vIHdlIHdpbGwgYXV0b21hdGljYWxseSBzZXQgZXhjaGFuZ2UgdG8gJ0NDJy5cbiAgICAgIGV4Y2hhbmdlID0gJ0NDJztcbiAgICB9IGVsc2UgaWYgKE9iamVjdC5rZXlzKHRoaXMucHJvdmlkZXJzKS5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBpbmZvID0gYXdhaXQgZGF0YS5nZXRTZWN1cml0eSh0aWNrZXIsIGZhbHNlKTtcbiAgICAgIGV4Y2hhbmdlID0gaW5mby5zdG9jay5wcmltYXJ5X2V4Y2hhbmdlO1xuICAgIH1cblxuICAgIC8vIEEgY3VzdG9tIHByb3ZpZGVyIHdpbGwgdGFrZSBwcmVjZWRlbmNlIG92ZXIgdGhlIGRlZmF1bHQgc291cmNlXG4gICAgaWYgKGV4Y2hhbmdlIGluIHRoaXMucHJvdmlkZXJzKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm92aWRlcnNbZXhjaGFuZ2VdLnF1b3RlKHRpY2tlcik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmRlZmF1bHRQcm92aWRlci5xdW90ZSh0aWNrZXIpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIGhpc3RvcmljYWwgcXVvdGVzIHdpdGhpbiBhIHNwZWNpZmllZCBpbnRlcnZhbCBmb3IgdGhlIHRpY2tlci5cbiAgICogVGhlIHNvdXJjZSBvZiB0aGUgaGlzdG9yaWNhbCBkYXRhIGlzIG5vdCBjdXN0b21pemFibGUgYXQgdGhpcyB0aW1lIGJlY2F1c2VcbiAgICogdGhlcmUgaXMgbm8gbmVlZCBmb3IgaXQgdG8gYmUgc28uXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdGlja2VyIFRoZSB0aWNrZXIgdG8gc2VhcmNoIGhpc3RvcmljYWwgcXVvdGVzIGZvclxuICAgKiBAcGFyYW0geyp9IGludGVydmFsIFRoZSB0aW1lIHJhbmdlIG9mIHRoZSBxdW90ZXNcbiAgICovXG4gIGFzeW5jIGhpc3Rvcnkoc2VjdXJpdHksIGludGVydmFsKSB7XG4gICAgLy8gdmFsaWRhdGUgdGhlIHVzZXItZ2l2ZW4gc2VjdXJpdHlcbiAgICBjb25zdCB0aWNrZXIgPSBuZXcgVGlja2VyKHNlY3VyaXR5KTtcbiAgICBpZiAoIXRpY2tlci5pZCkge1xuICAgICAgdGlja2VyLmlkID0gKGF3YWl0IGRhdGEuZ2V0U2VjdXJpdHkodGlja2VyKSkuaWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLlFVT1RFU19ISVNUT1JZLCB7IGlkOiB0aWNrZXIuaWQsIGludGVydmFsIH0pO1xuICB9LFxufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxudmFyIHJ1bnRpbWUgPSAoZnVuY3Rpb24gKGV4cG9ydHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIE9wID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgdmFyIGhhc093biA9IE9wLmhhc093blByb3BlcnR5O1xuICB2YXIgdW5kZWZpbmVkOyAvLyBNb3JlIGNvbXByZXNzaWJsZSB0aGFuIHZvaWQgMC5cbiAgdmFyICRTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgPyBTeW1ib2wgOiB7fTtcbiAgdmFyIGl0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIjtcbiAgdmFyIGFzeW5jSXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIjtcbiAgdmFyIHRvU3RyaW5nVGFnU3ltYm9sID0gJFN5bWJvbC50b1N0cmluZ1RhZyB8fCBcIkBAdG9TdHJpbmdUYWdcIjtcblxuICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCBhbmQgb3V0ZXJGbi5wcm90b3R5cGUgaXMgYSBHZW5lcmF0b3IsIHRoZW4gb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IuXG4gICAgdmFyIHByb3RvR2VuZXJhdG9yID0gb3V0ZXJGbiAmJiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG91dGVyRm4gOiBHZW5lcmF0b3I7XG4gICAgdmFyIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKTtcbiAgICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTtcblxuICAgIC8vIFRoZSAuX2ludm9rZSBtZXRob2QgdW5pZmllcyB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMuXG4gICAgZ2VuZXJhdG9yLl9pbnZva2UgPSBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuXG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuICBleHBvcnRzLndyYXAgPSB3cmFwO1xuXG4gIC8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvblxuICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGRcbiAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXG4gIC8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nXG4gIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXG4gIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZVxuICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoXG4gIC8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS5cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogZm4uY2FsbChvYmosIGFyZykgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiBlcnIgfTtcbiAgICB9XG4gIH1cblxuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XG4gIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9IFwiZXhlY3V0aW5nXCI7XG4gIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9IFwiY29tcGxldGVkXCI7XG5cbiAgLy8gUmV0dXJuaW5nIHRoaXMgb2JqZWN0IGZyb20gdGhlIGlubmVyRm4gaGFzIHRoZSBzYW1lIGVmZmVjdCBhc1xuICAvLyBicmVha2luZyBvdXQgb2YgdGhlIGRpc3BhdGNoIHN3aXRjaCBzdGF0ZW1lbnQuXG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG5cbiAgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvclxuICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91clxuICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge31cblxuICAvLyBUaGlzIGlzIGEgcG9seWZpbGwgZm9yICVJdGVyYXRvclByb3RvdHlwZSUgZm9yIGVudmlyb25tZW50cyB0aGF0XG4gIC8vIGRvbid0IG5hdGl2ZWx5IHN1cHBvcnQgaXQuXG4gIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuICBJdGVyYXRvclByb3RvdHlwZVtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuICB2YXIgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90byAmJiBnZXRQcm90byhnZXRQcm90byh2YWx1ZXMoW10pKSk7XG4gIGlmIChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAmJlxuICAgICAgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgIT09IE9wICYmXG4gICAgICBoYXNPd24uY2FsbChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wpKSB7XG4gICAgLy8gVGhpcyBlbnZpcm9ubWVudCBoYXMgYSBuYXRpdmUgJUl0ZXJhdG9yUHJvdG90eXBlJTsgdXNlIGl0IGluc3RlYWRcbiAgICAvLyBvZiB0aGUgcG9seWZpbGwuXG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBOYXRpdmVJdGVyYXRvclByb3RvdHlwZTtcbiAgfVxuXG4gIHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9XG4gICAgR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUpO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHcC5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uO1xuICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZVt0b1N0cmluZ1RhZ1N5bWJvbF0gPVxuICAgIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gXCJHZW5lcmF0b3JGdW5jdGlvblwiO1xuXG4gIC8vIEhlbHBlciBmb3IgZGVmaW5pbmcgdGhlIC5uZXh0LCAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMgb2YgdGhlXG4gIC8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuXG4gIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHtcbiAgICBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgIHByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIHZhciBjdG9yID0gdHlwZW9mIGdlbkZ1biA9PT0gXCJmdW5jdGlvblwiICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gY3RvclxuICAgICAgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fFxuICAgICAgICAvLyBGb3IgdGhlIG5hdGl2ZSBHZW5lcmF0b3JGdW5jdGlvbiBjb25zdHJ1Y3RvciwgdGhlIGJlc3Qgd2UgY2FuXG4gICAgICAgIC8vIGRvIGlzIHRvIGNoZWNrIGl0cyAubmFtZSBwcm9wZXJ0eS5cbiAgICAgICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiXG4gICAgICA6IGZhbHNlO1xuICB9O1xuXG4gIGV4cG9ydHMubWFyayA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihnZW5GdW4sIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2VuRnVuLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICAgICAgaWYgKCEodG9TdHJpbmdUYWdTeW1ib2wgaW4gZ2VuRnVuKSkge1xuICAgICAgICBnZW5GdW5bdG9TdHJpbmdUYWdTeW1ib2xdID0gXCJHZW5lcmF0b3JGdW5jdGlvblwiO1xuICAgICAgfVxuICAgIH1cbiAgICBnZW5GdW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHcCk7XG4gICAgcmV0dXJuIGdlbkZ1bjtcbiAgfTtcblxuICAvLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG9cbiAgLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3RcbiAgLy8gYGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIilgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpc1xuICAvLyBtZWFudCB0byBiZSBhd2FpdGVkLlxuICBleHBvcnRzLmF3cmFwID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHsgX19hd2FpdDogYXJnIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IsIFByb21pc2VJbXBsKSB7XG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpO1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgcmVqZWN0KHJlY29yZC5hcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlY29yZC5hcmc7XG4gICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlICYmXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIikpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJuZXh0XCIsIHZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgaW52b2tlKFwidGhyb3dcIiwgZXJyLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24odW53cmFwcGVkKSB7XG4gICAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXNcbiAgICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGVcbiAgICAgICAgICAvLyBjdXJyZW50IGl0ZXJhdGlvbi5cbiAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIC8vIElmIGEgcmVqZWN0ZWQgUHJvbWlzZSB3YXMgeWllbGRlZCwgdGhyb3cgdGhlIHJlamVjdGlvbiBiYWNrXG4gICAgICAgICAgLy8gaW50byB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIHNvIGl0IGNhbiBiZSBoYW5kbGVkIHRoZXJlLlxuICAgICAgICAgIHJldHVybiBpbnZva2UoXCJ0aHJvd1wiLCBlcnJvciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHByZXZpb3VzUHJvbWlzZTtcblxuICAgIGZ1bmN0aW9uIGVucXVldWUobWV0aG9kLCBhcmcpIHtcbiAgICAgIGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2VJbXBsKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPVxuICAgICAgICAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAgIC8vIGFsbCBwcmV2aW91cyBQcm9taXNlcyBoYXZlIGJlZW4gcmVzb2x2ZWQgYmVmb3JlIGNhbGxpbmcgaW52b2tlLFxuICAgICAgICAvLyBzbyB0aGF0IHJlc3VsdHMgYXJlIGFsd2F5cyBkZWxpdmVyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIElmXG4gICAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAgIC8vIGNhbGwgaW52b2tlIGltbWVkaWF0ZWx5LCB3aXRob3V0IHdhaXRpbmcgb24gYSBjYWxsYmFjayB0byBmaXJlLFxuICAgICAgICAvLyBzbyB0aGF0IHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gaGFzIHRoZSBvcHBvcnR1bml0eSB0byBkb1xuICAgICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAgIC8vIGlzIHdoeSB0aGUgUHJvbWlzZSBjb25zdHJ1Y3RvciBzeW5jaHJvbm91c2x5IGludm9rZXMgaXRzXG4gICAgICAgIC8vIGV4ZWN1dG9yIGNhbGxiYWNrLCBhbmQgd2h5IGFzeW5jIGZ1bmN0aW9ucyBzeW5jaHJvbm91c2x5XG4gICAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAgIC8vIGFzeW5jIGZ1bmN0aW9ucyBpbiB0ZXJtcyBvZiBhc3luYyBnZW5lcmF0b3JzLCBpdCBpcyBlc3BlY2lhbGx5XG4gICAgICAgIC8vIGltcG9ydGFudCB0byBnZXQgdGhpcyByaWdodCwgZXZlbiB0aG91Z2ggaXQgcmVxdWlyZXMgY2FyZS5cbiAgICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsXG4gICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnkgbGF0ZXJcbiAgICAgICAgICAvLyBpbnZvY2F0aW9ucyBvZiB0aGUgaXRlcmF0b3IuXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmdcbiAgICAgICAgKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS5cbiAgICB0aGlzLl9pbnZva2UgPSBlbnF1ZXVlO1xuICB9XG5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKTtcbiAgQXN5bmNJdGVyYXRvci5wcm90b3R5cGVbYXN5bmNJdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIGV4cG9ydHMuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3I7XG5cbiAgLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZlxuICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2ZcbiAgLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuXG4gIGV4cG9ydHMuYXN5bmMgPSBmdW5jdGlvbihpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCwgUHJvbWlzZUltcGwpIHtcbiAgICBpZiAoUHJvbWlzZUltcGwgPT09IHZvaWQgMCkgUHJvbWlzZUltcGwgPSBQcm9taXNlO1xuXG4gICAgdmFyIGl0ZXIgPSBuZXcgQXN5bmNJdGVyYXRvcihcbiAgICAgIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpLFxuICAgICAgUHJvbWlzZUltcGxcbiAgICApO1xuXG4gICAgcmV0dXJuIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbihvdXRlckZuKVxuICAgICAgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICAgICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQubWV0aG9kID0gbWV0aG9kO1xuICAgICAgY29udGV4dC5hcmcgPSBhcmc7XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIHZhciBkZWxlZ2F0ZVJlc3VsdCA9IG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZVJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgLy8gU2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgY29udGV4dC5hcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuYXJnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7XG5cbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09XG4gICAgICAgICAgLy8gR2VuU3RhdGVFeGVjdXRpbmcgYW5kIGxvb3AgYmFjayBmb3IgYW5vdGhlciBpbnZvY2F0aW9uLlxuICAgICAgICAgIHN0YXRlID0gY29udGV4dC5kb25lXG4gICAgICAgICAgICA/IEdlblN0YXRlQ29tcGxldGVkXG4gICAgICAgICAgICA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgfTtcblxuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgIC8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGVcbiAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKSBjYWxsIGFib3ZlLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBDYWxsIGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXShjb250ZXh0LmFyZykgYW5kIGhhbmRsZSB0aGVcbiAgLy8gcmVzdWx0LCBlaXRoZXIgYnkgcmV0dXJuaW5nIGEgeyB2YWx1ZSwgZG9uZSB9IHJlc3VsdCBmcm9tIHRoZVxuICAvLyBkZWxlZ2F0ZSBpdGVyYXRvciwgb3IgYnkgbW9kaWZ5aW5nIGNvbnRleHQubWV0aG9kIGFuZCBjb250ZXh0LmFyZyxcbiAgLy8gc2V0dGluZyBjb250ZXh0LmRlbGVnYXRlIHRvIG51bGwsIGFuZCByZXR1cm5pbmcgdGhlIENvbnRpbnVlU2VudGluZWwuXG4gIGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdO1xuICAgIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQSAudGhyb3cgb3IgLnJldHVybiB3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gLnRocm93XG4gICAgICAvLyBtZXRob2QgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIC8vIE5vdGU6IFtcInJldHVyblwiXSBtdXN0IGJlIHVzZWQgZm9yIEVTMyBwYXJzaW5nIGNvbXBhdGliaWxpdHkuXG4gICAgICAgIGlmIChkZWxlZ2F0ZS5pdGVyYXRvcltcInJldHVyblwiXSkge1xuICAgICAgICAgIC8vIElmIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgYSByZXR1cm4gbWV0aG9kLCBnaXZlIGl0IGFcbiAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIC8vIElmIG1heWJlSW52b2tlRGVsZWdhdGUoY29udGV4dCkgY2hhbmdlZCBjb250ZXh0Lm1ldGhvZCBmcm9tXG4gICAgICAgICAgICAvLyBcInJldHVyblwiIHRvIFwidGhyb3dcIiwgbGV0IHRoYXQgb3ZlcnJpZGUgdGhlIFR5cGVFcnJvciBiZWxvdy5cbiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kXCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpO1xuXG4gICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7XG5cbiAgICBpZiAoISBpbmZvKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICAvLyBBc3NpZ24gdGhlIHJlc3VsdCBvZiB0aGUgZmluaXNoZWQgZGVsZWdhdGUgdG8gdGhlIHRlbXBvcmFyeVxuICAgICAgLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlO1xuXG4gICAgICAvLyBSZXN1bWUgZXhlY3V0aW9uIGF0IHRoZSBkZXNpcmVkIGxvY2F0aW9uIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0Lm5leHQgPSBkZWxlZ2F0ZS5uZXh0TG9jO1xuXG4gICAgICAvLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgXCJ0aHJvd1wiIGJ1dCB0aGUgZGVsZWdhdGUgaGFuZGxlZCB0aGVcbiAgICAgIC8vIGV4Y2VwdGlvbiwgbGV0IHRoZSBvdXRlciBnZW5lcmF0b3IgcHJvY2VlZCBub3JtYWxseS4gSWZcbiAgICAgIC8vIGNvbnRleHQubWV0aG9kIHdhcyBcIm5leHRcIiwgZm9yZ2V0IGNvbnRleHQuYXJnIHNpbmNlIGl0IGhhcyBiZWVuXG4gICAgICAvLyBcImNvbnN1bWVkXCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXNcbiAgICAgIC8vIFwicmV0dXJuXCIsIGFsbG93IHRoZSBvcmlnaW5hbCAucmV0dXJuIGNhbGwgdG8gY29udGludWUgaW4gdGhlXG4gICAgICAvLyBvdXRlciBnZW5lcmF0b3IuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgIT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmUteWllbGQgdGhlIHJlc3VsdCByZXR1cm5lZCBieSB0aGUgZGVsZWdhdGUgbWV0aG9kLlxuICAgICAgcmV0dXJuIGluZm87XG4gICAgfVxuXG4gICAgLy8gVGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGlzIGZpbmlzaGVkLCBzbyBmb3JnZXQgaXQgYW5kIGNvbnRpbnVlIHdpdGhcbiAgICAvLyB0aGUgb3V0ZXIgZ2VuZXJhdG9yLlxuICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICB9XG5cbiAgLy8gRGVmaW5lIEdlbmVyYXRvci5wcm90b3R5cGUue25leHQsdGhyb3cscmV0dXJufSBpbiB0ZXJtcyBvZiB0aGVcbiAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLlxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuXG4gIEdwW3RvU3RyaW5nVGFnU3ltYm9sXSA9IFwiR2VuZXJhdG9yXCI7XG5cbiAgLy8gQSBHZW5lcmF0b3Igc2hvdWxkIGFsd2F5cyByZXR1cm4gaXRzZWxmIGFzIHRoZSBpdGVyYXRvciBvYmplY3Qgd2hlbiB0aGVcbiAgLy8gQEBpdGVyYXRvciBmdW5jdGlvbiBpcyBjYWxsZWQgb24gaXQuIFNvbWUgYnJvd3NlcnMnIGltcGxlbWVudGF0aW9ucyBvZiB0aGVcbiAgLy8gaXRlcmF0b3IgcHJvdG90eXBlIGNoYWluIGluY29ycmVjdGx5IGltcGxlbWVudCB0aGlzLCBjYXVzaW5nIHRoZSBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0IHRvIG5vdCBiZSByZXR1cm5lZCBmcm9tIHRoaXMgY2FsbC4gVGhpcyBlbnN1cmVzIHRoYXQgZG9lc24ndCBoYXBwZW4uXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvaXNzdWVzLzI3NCBmb3IgbW9yZSBkZXRhaWxzLlxuICBHcFtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBHcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7XG4gICAgdmFyIGVudHJ5ID0geyB0cnlMb2M6IGxvY3NbMF0gfTtcblxuICAgIGlmICgxIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXTtcbiAgICB9XG5cbiAgICBpZiAoMiBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTtcbiAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTtcbiAgICB9XG5cbiAgICB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307XG4gICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xuICAgIGRlbGV0ZSByZWNvcmQuYXJnO1xuICAgIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gIH1cblxuICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoXG4gICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbVxuICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC5cbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dO1xuICAgIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKTtcbiAgICB0aGlzLnJlc2V0KHRydWUpO1xuICB9XG5cbiAgZXhwb3J0cy5rZXlzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAga2V5cy5yZXZlcnNlKCk7XG5cbiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxuICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcbiAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cbiAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIGV4cG9ydHMudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG5cbiAgICByZXNldDogZnVuY3Rpb24oc2tpcFRlbXBSZXNldCkge1xuICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgIHRoaXMubmV4dCA9IDA7XG4gICAgICAvLyBSZXNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpO1xuXG4gICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczpcbiAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09IFwidFwiICYmXG4gICAgICAgICAgICAgIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmXG4gICAgICAgICAgICAgICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHtcbiAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcblxuICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcblxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcblxuICAgICAgICBpZiAoY2F1Z2h0KSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jayxcbiAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISEgY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uKHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmXG4gICAgICAgICAgICB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkgJiZcbiAgICAgICAgICAodHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgIHR5cGUgPT09IFwiY29udGludWVcIikgJiZcbiAgICAgICAgICBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJlxuICAgICAgICAgIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cbiAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICBpZiAoZmluYWxseUVudHJ5KSB7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICB9LFxuXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gXCJlbmRcIjtcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24odHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndFxuICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuXG4gICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG5cbiAgLy8gUmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZVxuICAvLyBvciBub3QsIHJldHVybiB0aGUgcnVudGltZSBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gZGVjbGFyZSB0aGUgdmFyaWFibGVcbiAgLy8gcmVnZW5lcmF0b3JSdW50aW1lIGluIHRoZSBvdXRlciBzY29wZSwgd2hpY2ggYWxsb3dzIHRoaXMgbW9kdWxlIHRvIGJlXG4gIC8vIGluamVjdGVkIGVhc2lseSBieSBgYmluL3JlZ2VuZXJhdG9yIC0taW5jbHVkZS1ydW50aW1lIHNjcmlwdC5qc2AuXG4gIHJldHVybiBleHBvcnRzO1xuXG59KFxuICAvLyBJZiB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGUsIHVzZSBtb2R1bGUuZXhwb3J0c1xuICAvLyBhcyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIG5hbWVzcGFjZS4gT3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBlbXB0eVxuICAvLyBvYmplY3QuIEVpdGhlciB3YXksIHRoZSByZXN1bHRpbmcgb2JqZWN0IHdpbGwgYmUgdXNlZCB0byBpbml0aWFsaXplXG4gIC8vIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgdmFyaWFibGUgYXQgdGhlIHRvcCBvZiB0aGlzIGZpbGUuXG4gIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgPyBtb2R1bGUuZXhwb3J0cyA6IHt9XG4pKTtcblxudHJ5IHtcbiAgcmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbn0gY2F0Y2ggKGFjY2lkZW50YWxTdHJpY3RNb2RlKSB7XG4gIC8vIFRoaXMgbW9kdWxlIHNob3VsZCBub3QgYmUgcnVubmluZyBpbiBzdHJpY3QgbW9kZSwgc28gdGhlIGFib3ZlXG4gIC8vIGFzc2lnbm1lbnQgc2hvdWxkIGFsd2F5cyB3b3JrIHVubGVzcyBzb21ldGhpbmcgaXMgbWlzY29uZmlndXJlZC4gSnVzdFxuICAvLyBpbiBjYXNlIHJ1bnRpbWUuanMgYWNjaWRlbnRhbGx5IHJ1bnMgaW4gc3RyaWN0IG1vZGUsIHdlIGNhbiBlc2NhcGVcbiAgLy8gc3RyaWN0IG1vZGUgdXNpbmcgYSBnbG9iYWwgRnVuY3Rpb24gY2FsbC4gVGhpcyBjb3VsZCBjb25jZWl2YWJseSBmYWlsXG4gIC8vIGlmIGEgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgZm9yYmlkcyB1c2luZyBGdW5jdGlvbiwgYnV0IGluIHRoYXQgY2FzZVxuICAvLyB0aGUgcHJvcGVyIHNvbHV0aW9uIGlzIHRvIGZpeCB0aGUgYWNjaWRlbnRhbCBzdHJpY3QgbW9kZSBwcm9ibGVtLiBJZlxuICAvLyB5b3UndmUgbWlzY29uZmlndXJlZCB5b3VyIGJ1bmRsZXIgdG8gZm9yY2Ugc3RyaWN0IG1vZGUgYW5kIGFwcGxpZWQgYVxuICAvLyBDU1AgdG8gZm9yYmlkIEZ1bmN0aW9uLCBhbmQgeW91J3JlIG5vdCB3aWxsaW5nIHRvIGZpeCBlaXRoZXIgb2YgdGhvc2VcbiAgLy8gcHJvYmxlbXMsIHBsZWFzZSBkZXRhaWwgeW91ciB1bmlxdWUgcHJlZGljYW1lbnQgaW4gYSBHaXRIdWIgaXNzdWUuXG4gIEZ1bmN0aW9uKFwiclwiLCBcInJlZ2VuZXJhdG9yUnVudGltZSA9IHJcIikocnVudGltZSk7XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzU0NV9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fOTQ5X187IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBtb2R1bGUgZXhwb3J0cyBtdXN0IGJlIHJldHVybmVkIGZyb20gcnVudGltZSBzbyBlbnRyeSBpbmxpbmluZyBpcyBkaXNhYmxlZFxuLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG5yZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygzNTIpO1xuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gbW9kdWxlWydkZWZhdWx0J10gOlxuXHRcdCgpID0+IG1vZHVsZTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIl0sInNvdXJjZVJvb3QiOiIifQ==