!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("source-map-support"),require("node-fetch")):"function"==typeof define&&define.amd?define(["source-map-support","node-fetch"],e):"object"==typeof exports?exports["wstrade-api"]=e(require("source-map-support"),require("node-fetch")):t["wstrade-api"]=e(t._,t._)}(global,(function(t,e){return(()=>{var r={228:t=>{t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}},858:t=>{t.exports=function(t){if(Array.isArray(t))return t}},646:(t,e,r)=>{var n=r(228);t.exports=function(t){if(Array.isArray(t))return n(t)}},926:t=>{function e(t,e,r,n,a,o,i){try{var c=t[o](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,a)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise((function(a,o){var i=t.apply(r,n);function c(t){e(i,a,o,c,s,"next",t)}function s(t){e(i,a,o,c,s,"throw",t)}c(void 0)}))}}},575:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},913:t=>{function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}},713:t=>{t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},860:t=>{t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},884:t=>{t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}}},521:t=>{t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},206:t=>{t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},38:(t,e,r)=>{var n=r(858),a=r(884),o=r(379),i=r(521);t.exports=function(t,e){return n(t)||a(t,e)||o(t,e)||i()}},319:(t,e,r)=>{var n=r(646),a=r(860),o=r(379),i=r(206);t.exports=function(t){return n(t)||a(t)||o(t)||i()}},379:(t,e,r)=>{var n=r(228);t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}},757:(t,e,r)=>{t.exports=r(666)},391:(t,e,r)=>{"use strict";r.d(e,{Z:()=>h});var n=r(319),a=r.n(n),o=r(757),i=r.n(o),c=r(926),s=r.n(c),u=r(726),p=r(714),l=99,f=["sell","deposit","withdrawal","dividend","institutional_transfer","internal_transfer","refund","referral_bonus","affiliate","buy"];const h={all:(k=s()(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,p.Z)(u.Z.ACCOUNT_IDS,{});case 2:return e=t.sent,t.abrupt("return",{tfsa:e.find((function(t){return t.startsWith("tfsa")})),rrsp:e.find((function(t){return t.startsWith("rrsp")})),crypto:e.find((function(t){return t.startsWith("non-registered-crypto")})),personal:e.find((function(t){return t.startsWith("non-registered")&&!t.startsWith("non-registered-crypto")}))});case 4:case"end":return t.stop()}}),t)}))),function(){return k.apply(this,arguments)}),data:(g=s()(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.Z)(u.Z.LIST_ACCOUNT,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return g.apply(this,arguments)}),me:(b=s()(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.Z)(u.Z.ME,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return b.apply(this,arguments)}),person:(x=s()(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.Z)(u.Z.PERSON,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return x.apply(this,arguments)}),history:(w=s()(i().mark((function t(e,r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.Z)(u.Z.HISTORY_ACCOUNT,{interval:e,accountId:r}));case 1:case"end":return t.stop()}}),t)}))),function(t,e){return w.apply(this,arguments)}),activities:(v=s()(i().mark((function t(){var e,r,n,o,c,s,h,d,y,m,v=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null!=(c=v.length>0&&void 0!==v[0]?v[0]:{})&&c.limit&&c.limit>l)){t.next=3;break}throw new Error("filters.limit can not exceed 99! Leave filters.limit undefined if you want to retrieve all.");case 3:if(null==c||!c.accounts||Array.isArray(c.accounts)){t.next=5;break}throw new Error("filters.accounts must be an array!");case 5:if(null==c||!c.type||Array.isArray(c.type)){t.next=7;break}throw new Error("filters.type must be an array!");case 7:return s=[],t.next=10,(0,p.Z)(u.Z.ACTIVITIES,{limit:null!==(e=null==c?void 0:c.limit)&&void 0!==e?e:l,accountIds:null!==(r=null==c||null===(n=c.accounts)||void 0===n?void 0:n.join())&&void 0!==r?r:"",bookmark:"",type:null!==(o=null==c?void 0:c.type)&&void 0!==o?o:f});case 10:if(h=t.sent,s.push.apply(s,a()(h.results)),null!=c&&c.limit){t.next=22;break}case 13:if(s.length%l!=0){t.next=22;break}return t.next=16,(0,p.Z)(u.Z.ACTIVITIES,{limit:l,accountIds:null!==(d=null==c||null===(y=c.accounts)||void 0===y?void 0:y.join())&&void 0!==d?d:"",bookmark:h.bookmark,type:null!==(m=null==c?void 0:c.type)&&void 0!==m?m:f});case 16:if(0!==(h=t.sent).results.length){t.next=19;break}return t.abrupt("break",22);case 19:s.push.apply(s,a()(h.results)),t.next=13;break;case 22:return t.abrupt("return",s);case 23:case"end":return t.stop()}}),t)}))),function(){return v.apply(this,arguments)}),getBankAccounts:(m=s()(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.Z)(u.Z.BANK_ACCOUNTS,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return m.apply(this,arguments)}),deposits:(y=s()(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.Z)(u.Z.DEPOSITS,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return y.apply(this,arguments)}),positions:(d=s()(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.Z)(u.Z.POSITIONS,{accountId:e}));case 1:case"end":return t.stop()}}),t)}))),function(t){return d.apply(this,arguments)})};var d,y,m,v,w,x,b,g,k},726:(t,e,r)=>{"use strict";r.d(e,{Z:()=>x});var n,a,o,i,c,s,u,p,l,f,h,d=r(757),y=r.n(d),m=r(926),v=r.n(m),w={onFailure:(a=v()(y().mark((function t(e){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e.status,t.t1=e.statusText,t.next=4,e.json();case 4:return t.t2=t.sent,t.abrupt("return",{status:t.t0,reason:t.t1,body:t.t2});case 6:case"end":return t.stop()}}),t)}))),function(t){return a.apply(this,arguments)}),onSuccess:(n=v()(y().mark((function t(e){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.json());case 1:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})};const x={LOGIN:{method:"POST",url:"https://trade-service.wealthsimple.com/auth/login",authenticated:!1,onSuccess:(h=v()(y().mark((function t(e){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0={access:e.headers.get("x-access-token"),refresh:e.headers.get("x-refresh-token"),expires:parseInt(e.headers.get("x-access-token-expires"),10)},t.next=3,e.json();case 3:return t.t1=t.sent,t.abrupt("return",{tokens:t.t0,accountInfo:t.t1});case 5:case"end":return t.stop()}}),t)}))),function(t){return h.apply(this,arguments)}),onFailure:w.onFailure},REFRESH:{method:"POST",url:"https://trade-service.wealthsimple.com/auth/refresh",authenticated:!1,onSuccess:(f=v()(y().mark((function t(e){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{tokens:{access:e.headers.get("x-access-token"),refresh:e.headers.get("x-refresh-token"),expires:parseInt(e.headers.get("x-access-token-expires"),10)}});case 1:case"end":return t.stop()}}),t)}))),function(t){return f.apply(this,arguments)}),onFailure:w.onFailure},ACCOUNT_IDS:{method:"GET",url:"https://trade-service.wealthsimple.com/account/list",authenticated:!0,onSuccess:(l=v()(y().mark((function t(e){var r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:return r=t.sent,t.abrupt("return",r.results.map((function(t){return t.id})));case 4:case"end":return t.stop()}}),t)}))),function(t){return l.apply(this,arguments)}),onFailure:w.onFailure},LIST_ACCOUNT:{method:"GET",url:"https://trade-service.wealthsimple.com/account/list",authenticated:!0,onSuccess:(p=v()(y().mark((function t(e){var r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:return r=t.sent,t.abrupt("return",r.results);case 4:case"end":return t.stop()}}),t)}))),function(t){return p.apply(this,arguments)}),onFailure:w.onFailure},ME:{method:"GET",url:"https://trade-service.wealthsimple.com/me",authenticated:!0,onSuccess:w.onSuccess,onFailure:w.onFailure},PERSON:{method:"GET",url:"https://trade-service.wealthsimple.com/person",authenticated:!0,onSuccess:w.onSuccess,onFailure:w.onFailure},HISTORY_ACCOUNT:{method:"GET",url:"https://trade-service.wealthsimple.com/account/history/{0}?account_id={1}",authenticated:!0,parameters:{0:"interval",1:"accountId"},onSuccess:w.onSuccess,onFailure:w.onFailure},ACTIVITIES:{method:"GET",url:"https://trade-service.wealthsimple.com/account/activities?limit={0}&account_ids={1}&[2]&bookmark={3}",authenticated:!0,parameters:{0:"limit",1:"accountIds",2:"type",3:"bookmark"},onSuccess:w.onSuccess,onFailure:w.onFailure},DEPOSITS:{method:"GET",url:"https://trade-service.wealthsimple.com/deposits",authenticated:!0,onSuccess:(u=v()(y().mark((function t(e){var r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:return r=t.sent,t.abrupt("return",r.results);case 4:case"end":return t.stop()}}),t)}))),function(t){return u.apply(this,arguments)}),onFailure:w.onFailure},BANK_ACCOUNTS:{method:"GET",url:"https://trade-service.wealthsimple.com/bank-accounts",authenticated:!0,onSuccess:(s=v()(y().mark((function t(e){var r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:return r=t.sent,t.abrupt("return",r.results);case 4:case"end":return t.stop()}}),t)}))),function(t){return s.apply(this,arguments)}),onFailure:w.onFailure},EXCHANGE_RATES:{method:"GET",url:"https://trade-service.wealthsimple.com/forex",authenticated:!0,onSuccess:w.onSuccess,onFailure:w.onFailure},SECURITY:{method:"GET",url:"https://trade-service.wealthsimple.com/securities?query={0}",authenticated:!0,parameters:{0:"ticker"},onSuccess:(c=v()(y().mark((function t(e){var r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:if(0!==(r=t.sent).results.length){t.next=5;break}throw new Error("Security does not exist");case 5:return t.abrupt("return",r.results);case 6:case"end":return t.stop()}}),t)}))),function(t){return c.apply(this,arguments)}),onFailure:w.onFailure},EXTENSIVE_SECURITY_DETAILS:{method:"GET",url:"https://trade-service.wealthsimple.com/securities/{0}",authenticated:!0,parameters:{0:"id"},onSuccess:w.onSuccess,onFailure:w.onFailure},QUOTES_HISTORY:{method:"GET",url:"https://trade-service.wealthsimple.com/securities/{0}/historical_quotes/{1}?mic=XNAS",authenticated:!0,parameters:{0:"id",1:"interval"},onSuccess:w.onSuccess,onFailure:w.onFailure},POSITIONS:{method:"GET",url:"https://trade-service.wealthsimple.com/account/positions?account_id={0}",authenticated:!0,parameters:{0:"accountId"},onSuccess:(i=v()(y().mark((function t(e){var r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:return r=t.sent,t.abrupt("return",r.results);case 4:case"end":return t.stop()}}),t)}))),function(t){return i.apply(this,arguments)}),onFailure:w.onFailure},ORDERS_BY_PAGE:{method:"GET",url:"https://trade-service.wealthsimple.com/orders?offset={0}&account_id={1}",authenticated:!0,parameters:{0:"offset",1:"accountId"},onSuccess:(o=v()(y().mark((function t(e){var r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:return r=t.sent,t.abrupt("return",{total:r.total,orders:r.results});case 4:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)}),onFailure:w.onFailure},CANCEL_ORDER:{method:"DELETE",url:"https://trade-service.wealthsimple.com/orders/{0}",authenticated:!0,parameters:{0:"orderId"},onSuccess:w.onSuccess,onFailure:w.onFailure},PLACE_ORDER:{method:"POST",url:"https://trade-service.wealthsimple.com/orders",authenticated:!0,onSuccess:w.onSuccess,onFailure:w.onFailure}}},464:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});var n=r(757),a=r.n(n),o=r(926),i=r.n(o),c=r(714),s=r(726),u=r(628),p={otp:null};const l={on:function(t,e){if(!(t in p))throw new Error("Unsupported authentication event '".concat(t,"'!"));p[t]=e},use:function(t){return u.Z.store(t)},tokens:function(){return{access:u.Z.access,refresh:u.Z.refresh,expires:u.Z.expires}},login:function(t,e){var r=this;return i()(a().mark((function n(){var o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=null,"function"!=typeof p.otp){n.next=4;break}return n.next=4,(0,c.Z)(s.Z.LOGIN,{email:t,password:e}).catch((function(){}));case 4:if(n.prev=4,n.t0=c.Z,n.t1=s.Z.LOGIN,n.t2=t,n.t3=e,"function"!=typeof p.otp){n.next=15;break}return n.next=12,p.otp();case 12:n.t4=n.sent,n.next=16;break;case 15:n.t4=p.otp;case 16:return n.t5=n.t4,n.t6={email:n.t2,password:n.t3,otp:n.t5},n.next=20,(0,n.t0)(n.t1,n.t6);case 20:o=n.sent,n.next=28;break;case 23:if(n.prev=23,n.t7=n.catch(4),p.otp){n.next=27;break}throw new Error("OTP not provided!");case 27:throw n.t7;case 28:r.use(o.tokens);case 29:case"end":return n.stop()}}),n,null,[[4,23]])})))()},refresh:(f=i()(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.w)());case 1:case"end":return t.stop()}}),t)}))),function(){return f.apply(this,arguments)})};var f},500:(t,e,r)=>{"use strict";r.d(e,{e:()=>o,Z:()=>i});var n=["implicit_token_refresh","securities_cache"],a=["securities_cache"],o=function(t){return!a.includes(t)};function i(t){if(!function(t){return null!=t&&t.startsWith("no_")?n.includes(t.substring("no_".length)):n.includes(t)}(t))throw new Error("'".concat(t,"' is not supported!"));if(null!=t&&t.startsWith("no_")){var e=t.substring(t.indexOf("_")+1);o(e)&&a.push(e)}else o(t)||a.splice(a.indexOf(t),1)}},657:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});var n=r(38),a=r.n(n),o=r(575),i=r.n(o),c=r(913),s=r.n(c),u=["NASDAQ","NYSE","TSX","TSX-V","NEO","CC"];const p=function(){function t(e){var r;if(i()(this,t),this.symbol=null,this.exchange=null,this.id=null,this.crypto=!1,"string"==typeof e){if(""===e)throw new Error("Empty ticker");var n=e.split(":"),o=a()(n,2);this.symbol=o[0],this.exchange=o[1]}else{if(!e.symbol&&!e.id)throw new Error("Invalid ticker '".concat(e,"'"));this.symbol=e.symbol||null,this.exchange=e.exchange||null,this.id=e.id||null}if(this.exchange&&!u.includes(this.exchange))throw new Error("Invalid exchange '".concat(this.exchange,"'!"));("CC"===this.exchange||null!==(r=this.id)&&void 0!==r&&r.startsWith("sec-z"))&&(this.crypto=!0),"NEO"===this.exchange&&(this.exchange="AEQUITAS NEO EXCHANGE")}return s()(t,[{key:"format",value:function(){return this.id?this.id:"AEQUITAS NEO EXCHANGE"===this.exchange?"".concat(this.symbol,":NEO"):"".concat(this.symbol).concat(this.exchange?":".concat(this.exchange):"")}},{key:"weakEquals",value:function(t){return!(!this.id||this.id!==t.id)||!(!this.symbol||this.symbol!==t.symbol||this.crypto!==t.crypto)}}]),t}()},628:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={access:null,refresh:null,expires:null,store:function(t){this.access=t.access,this.refresh=t.refresh,this.expires=t.expires},expired:function(){return this.expires&&parseInt(Date.now()/1e3,10)>=this.expires}}},752:(t,e,r)=>{"use strict";r.d(e,{Z:()=>x});var n=r(38),a=r.n(n),o=r(757),i=r.n(o),c=r(926),s=r.n(c),u=r(726),p=r(714),l=r(657),f=r(500),h=r(575),d=r.n(h),y=r(913),m=r.n(y),v=new(function(){function t(e){d()(this,t),this.cache=new Map,this.size=e}return m()(t,[{key:"insert",value:function(t,e){this.cache.size>=this.size&&this.cache.delete(this.cache.keys().next().value),this.cache.set(t,e)}},{key:"get",value:function(t){return this.cache.get(t)}}]),t}())(10);const w=function(t){var e=v.get(new l.Z(t).format());return void 0===e?null:e},x={exchangeRates:(g=s()(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.Z)(u.Z.EXCHANGE_RATES,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return g.apply(this,arguments)}),getSecurity:(b=s()(i().mark((function t(e,r){var n,o,c,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null,o=new l.Z(e),r||!(0,f.e)("securities_cache")){t.next=6;break}if(!(n=w(o))){t.next=6;break}return t.abrupt("return",n);case 6:if(!o.id){t.next=12;break}return t.next=9,(0,p.Z)(u.Z.EXTENSIVE_SECURITY_DETAILS,{id:o.id});case 9:n=t.sent,t.next=28;break;case 12:return t.next=14,(0,p.Z)(u.Z.SECURITY,{ticker:o.symbol});case 14:if(n=(n=t.sent).filter((function(t){return t.stock.symbol===o.symbol})),o.crypto?n=n.filter((function(t){return"cryptocurrency"===t.security_type})):o.exchange&&(n=n.filter((function(t){return t.stock.primary_exchange===o.exchange}))),!(n.length>1)){t.next=19;break}throw new Error("Multiple securities matched query.");case 19:if(0!==n.length){t.next=21;break}throw new Error("No securities matched query.");case 21:if(c=n,s=a()(c,1),n=s[0],!r){t.next=28;break}return t.next=27,(0,p.Z)(u.Z.EXTENSIVE_SECURITY_DETAILS,{id:n.id});case 27:n=t.sent;case 28:return(0,f.e)("securities_cache")&&null===w(o)&&(i=o,h=n,v.insert(new l.Z(i).format(),h)),t.abrupt("return",n);case 30:case"end":return t.stop()}var i,h}),t)}))),function(t,e){return b.apply(this,arguments)})};var b,g},568:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var n=r(319),a=r.n(n),o=new(r(545).Headers);const i={add:function(t,e){return o.append(t,e)},remove:function(t){return o.delete(t)},clear:function(){return a()(o).forEach((function(t){return o.delete(t[0])}))},values:function(){return a()(o)}}},352:(t,e,r)=>{r(949).install();var n=r(464).Z,a=r(568).Z,o=r(391).Z,i=r(826).Z,c=r(752).Z,s=r(889).Z,u=r(500).Z;t.exports={auth:n,headers:a,accounts:o,orders:i,quotes:s,data:c,config:u}},714:(t,e,r)=>{"use strict";r.d(e,{Z:()=>E,w:()=>S});var n=r(757),a=r.n(n),o=r(319),i=r.n(o),c=r(926),s=r.n(c),u=r(713),p=r.n(u),l=r(545),f=r.n(l),h=r(568),d=r(628),y=r(726),m=r(500);function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var w=200,x=201;function b(t,e){var r=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){p()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},e),n=t.url;if(t.parameters)for(var a=0;a<Object.keys(t.parameters).length;a++){var o=t.parameters[a];if(null===r[o]||void 0===r[o])throw new Error("URL parameter '".concat(o,"' missing!"));if(n.indexOf("{".concat(a,"}"))>=0)n=n.replace("{".concat(a,"}"),r[t.parameters[a]]);else{if(!(n.indexOf("[".concat(a,"]"))>=0))throw new Error("Malformed URL! This is an internal error: raise an issue!");!function(){var e=t.parameters[a],o=r[e].map((function(t){return"".concat(e,"=").concat(t)})).join("&");n=n.replace("[".concat(a,"]"),o)}()}delete r[t.parameters[a]]}return["GET","HEAD"].includes(t.method)?{url:n,payload:void 0}:{url:n,payload:JSON.stringify(r)}}function g(t,e){return k.apply(this,arguments)}function k(){return(k=s()(a().mark((function t(e,r){var n,o,c,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=new l.Headers).append("Content-Type","application/json"),!e.authenticated){t.next=9;break}if(d.Z.access){t.next=5;break}throw new Error("Authentication required for '".concat(e.url,"'"));case 5:if(!(0,m.e)("implicit_token_refresh")){t.next=8;break}return t.next=8,Z();case 8:n.append("Authorization",d.Z.access);case 9:return h.Z.values().forEach((function(t){return n.append.apply(n,i()(t))})),o=b(e,r),c=o.url,s=o.payload,t.abrupt("return",f()(c,{body:s,method:e.method,headers:n}));case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(t,e){return _.apply(this,arguments)}function _(){return(_=s()(a().mark((function t(e,r){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e,r);case 2:if(n=t.sent,![w,x].includes(n.status)){t.next=5;break}return t.abrupt("return",e.onSuccess(n));case 5:return t.t0=Promise,t.next=8,e.onFailure(n);case 8:return t.t1=t.sent,t.abrupt("return",t.t0.reject.call(t.t0,t.t1));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(){return O.apply(this,arguments)}function O(){return(O=s()(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(y.Z.REFRESH,{refresh_token:d.Z.refresh});case 2:e=t.sent,d.Z.store(e.tokens);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Z(){return T.apply(this,arguments)}function T(){return(T=s()(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!d.Z.expired()){t.next=13;break}if(!d.Z.refresh){t.next=12;break}return t.prev=2,t.next=5,S();case 5:t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(2),new Error("Unable to refresh expired token: ".concat(t.t0));case 10:t.next=13;break;case 12:throw new Error("Access token expired");case 13:case"end":return t.stop()}}),t,null,[[2,7]])})))).apply(this,arguments)}},826:(t,e,r)=>{"use strict";r.d(e,{Z:()=>R});var n=r(713),a=r.n(n),o=r(319),i=r.n(o),c=r(757),s=r.n(c),u=r(926),p=r.n(u),l=r(726),f=r(714),h=r(657);function d(t,e){return y.apply(this,arguments)}function y(){return(y=p()(s().mark((function t(e,r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.Z)(l.Z.ORDERS_BY_PAGE,{offset:20*(r-1),accountId:e}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){return v.apply(this,arguments)}function v(){return(v=p()(s().mark((function t(e){var r,n,a,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e,1);case 2:if(r=t.sent,!((n=Math.ceil(r.total/20))>1)){t.next=12;break}for(a=[],o=2;o<=n;o++)a.push(d(e,o).then((function(t){return t.orders})));return t.next=9,Promise.all(a);case 9:t.sent.forEach((function(t){var e;return(e=r.orders).push.apply(e,i()(t))})),r.total=r.orders.length;case 12:return t.abrupt("return",r);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t,e,r){return x.apply(this,arguments)}function x(){return(x=p()(s().mark((function t(e,r,n){var a,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e);case 2:return a=t.sent,o=function(t){if(r){var e=new h.Z({symbol:t.symbol,id:t.security_id});if(!new h.Z(r).weakEquals(e))return!1}return t.status===n},a.orders=a.orders.filter(o),a.total=a.orders.length,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}const b={page:d,all:m,pending:(E=p()(s().mark((function t(e,r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",w(e,r,"submitted"));case 1:case"end":return t.stop()}}),t)}))),function(t,e){return E.apply(this,arguments)}),filled:(k=p()(s().mark((function t(e,r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",w(e,r,"posted"));case 1:case"end":return t.stop()}}),t)}))),function(t,e){return k.apply(this,arguments)}),cancelled:(g=p()(s().mark((function t(e,r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",w(e,r,"cancelled"));case 1:case"end":return t.stop()}}),t)}))),function(t,e){return g.apply(this,arguments)})};var g,k,E,_=r(752),S=r(889),O=function(t){return["TSX","TSX-V"].includes(t)};const Z={cancel:(C=p()(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,(0,f.Z)(l.Z.CANCEL_ORDER,{orderId:e});case 3:return t.t1=t.sent,t.abrupt("return",{order:t.t0,response:t.t1});case 5:case"end":return t.stop()}}),t)}))),function(t){return C.apply(this,arguments)}),cancelPending:function(t){var e=this;return p()(s().mark((function r(){var n;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.pending(t);case 2:return n=r.sent,r.abrupt("return",Promise.all(n.orders.map(function(){var t=p()(s().mark((function t(r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.cancel(r.order_id));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())));case 4:case"end":return r.stop()}}),r)})))()},marketBuy:(L=p()(s().mark((function t(e,r,n){var a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.Z.getSecurity(r);case 2:if(a=t.sent,t.t0=f.Z,t.t1=l.Z.PLACE_ORDER,t.t2=a.id,new h.Z(r).crypto){t.next=12;break}return t.next=9,S.Z.get(r);case 9:t.t3=t.sent,t.next=13;break;case 12:t.t3=void 0;case 13:return t.t4=t.t3,t.t5=n,t.t6=e,t.t7={security_id:t.t2,limit_price:t.t4,quantity:t.t5,order_type:"buy_quantity",order_sub_type:"market",time_in_force:"day",account_id:t.t6},t.abrupt("return",(0,t.t0)(t.t1,t.t7));case 18:case"end":return t.stop()}}),t)}))),function(t,e,r){return L.apply(this,arguments)}),limitBuy:(P=p()(s().mark((function t(e,r,n,a){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=f.Z,t.t1=l.Z.PLACE_ORDER,t.next=4,_.Z.getSecurity(r);case 4:return t.t2=t.sent.id,t.t3=n,t.t4=a,t.t5=e,t.t6={security_id:t.t2,limit_price:t.t3,quantity:t.t4,order_type:"buy_quantity",order_sub_type:"limit",time_in_force:"day",account_id:t.t5},t.abrupt("return",(0,t.t0)(t.t1,t.t6));case 10:case"end":return t.stop()}}),t)}))),function(t,e,r,n){return P.apply(this,arguments)}),stopLimitBuy:(A=p()(s().mark((function t(e,r,n,a,o){var i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.Z.getSecurity(r);case 2:if(i=t.sent,!O(i.stock.primary_exchange)||n===a){t.next=5;break}throw new Error("TSX/TSX-V securities must have an equivalent stop and limit price.");case 5:return t.abrupt("return",(0,f.Z)(l.Z.PLACE_ORDER,{security_id:i.id,stop_price:n,limit_price:a,quantity:o,order_type:"buy_quantity",order_sub_type:"stop_limit",time_in_force:"day",account_id:e}));case 6:case"end":return t.stop()}}),t)}))),function(t,e,r,n,a){return A.apply(this,arguments)}),marketSell:(j=p()(s().mark((function t(e,r,n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=f.Z,t.t1=l.Z.PLACE_ORDER,t.next=4,_.Z.getSecurity(r);case 4:if(t.t2=t.sent.id,new h.Z(r).crypto){t.next=11;break}return t.next=8,S.Z.get(r);case 8:t.t3=t.sent,t.next=12;break;case 11:t.t3=void 0;case 12:return t.t4=t.t3,t.t5=n,t.t6=e,t.t7={security_id:t.t2,market_value:t.t4,quantity:t.t5,order_type:"sell_quantity",order_sub_type:"market",time_in_force:"day",account_id:t.t6},t.abrupt("return",(0,t.t0)(t.t1,t.t7));case 17:case"end":return t.stop()}}),t)}))),function(t,e,r){return j.apply(this,arguments)}),limitSell:(I=p()(s().mark((function t(e,r,n,a){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=f.Z,t.t1=l.Z.PLACE_ORDER,t.next=4,_.Z.getSecurity(r);case 4:return t.t2=t.sent.id,t.t3=n,t.t4=a,t.t5=e,t.t6={security_id:t.t2,limit_price:t.t3,quantity:t.t4,order_type:"sell_quantity",order_sub_type:"limit",time_in_force:"day",account_id:t.t5},t.abrupt("return",(0,t.t0)(t.t1,t.t6));case 10:case"end":return t.stop()}}),t)}))),function(t,e,r,n){return I.apply(this,arguments)}),stopLimitSell:(T=p()(s().mark((function t(e,r,n,a,o){var i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.Z.getSecurity(r);case 2:if(i=t.sent,!O(i.stock.primary_exchange)||n===a){t.next=5;break}throw new Error("TSX/TSX-V securities must have an equivalent stop and limit price.");case 5:return t.abrupt("return",(0,f.Z)(l.Z.PLACE_ORDER,{security_id:i.id,stop_price:n,limit_price:a,quantity:o,order_type:"sell_quantity",order_sub_type:"stop_limit",time_in_force:"day",account_id:e}));case 6:case"end":return t.stop()}}),t)}))),function(t,e,r,n,a){return T.apply(this,arguments)})};var T,I,j,A,P,L,C;function F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function N(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?F(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}const R=N(N({},b),Z)},889:(t,e,r)=>{"use strict";r.d(e,{Z:()=>h});var n=r(757),a=r.n(n),o=r(926),i=r.n(o),c=r(752);const s={quote:(u=i()(a().mark((function t(e){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.getSecurity(e,!0);case 2:return r=t.sent,t.abrupt("return",r.quote.amount);case 4:case"end":return t.stop()}}),t)}))),function(t){return u.apply(this,arguments)})};var u,p=r(657),l=r(714),f=r(726);const h={defaultProvider:s,providers:{},use:function(t,e){if("function"!=typeof e.quote)throw new Error("Invalid quote provider for ".concat(t,"!"));this.providers[t]=e},get:function(t){var e=this;return i()(a().mark((function r(){var n,o,i;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=null,!(o=new p.Z(t)).exchange){r.next=6;break}n=o.exchange,r.next=15;break;case 6:if(!o.crypto||!o.id){r.next=10;break}n="CC",r.next=15;break;case 10:if(!(Object.keys(e.providers).length>0)){r.next=15;break}return r.next=13,c.Z.getSecurity(o,!1);case 13:i=r.sent,n=i.stock.primary_exchange;case 15:if(!(n in e.providers)){r.next=17;break}return r.abrupt("return",e.providers[n].quote(o));case 17:return r.abrupt("return",e.defaultProvider.quote(o));case 18:case"end":return r.stop()}}),r)})))()},history:function(t,e){return i()(a().mark((function r(){var n;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((n=new p.Z(t)).id){r.next=5;break}return r.next=4,c.Z.getSecurity(n);case 4:n.id=r.sent.id;case 5:return r.abrupt("return",(0,l.Z)(f.Z.QUOTES_HISTORY,{id:n.id,interval:e}));case 6:case"end":return r.stop()}}),r)})))()}}},666:t=>{var e=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(t,e,r,n){var a=e&&e.prototype instanceof y?e:y,o=Object.create(a.prototype),i=new Z(n||[]);return o._invoke=function(t,e,r){var n=p;return function(a,o){if(n===f)throw new Error("Generator is already running");if(n===h){if("throw"===a)throw o;return I()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=_(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=f;var s=u(t,e,r);if("normal"===s.type){if(n=r.done?h:l,s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=h,r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var p="suspendedStart",l="suspendedYield",f="executing",h="completed",d={};function y(){}function m(){}function v(){}var w={};w[o]=function(){return this};var x=Object.getPrototypeOf,b=x&&x(x(T([])));b&&b!==r&&n.call(b,o)&&(w=b);var g=v.prototype=y.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function E(t,e){function r(a,o,i,c){var s=u(t[a],t,o);if("throw"!==s.type){var p=s.arg,l=p.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(l).then((function(t){p.value=t,i(p)}),(function(t){return r("throw",t,i,c)}))}c(s.arg)}var a;this._invoke=function(t,n){function o(){return new e((function(e,a){r(t,n,e,a)}))}return a=a?a.then(o,o):o()}}function _(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method))return d;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var a=u(n,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,d;var o=a.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Z(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function T(t){if(t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}return{next:I}}function I(){return{value:e,done:!0}}return m.prototype=g.constructor=v,v.constructor=m,v[c]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},k(E.prototype),E.prototype[i]=function(){return this},t.AsyncIterator=E,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},k(g),g[c]="Generator",g[o]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=T,Z.prototype={constructor:Z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}},545:t=>{"use strict";t.exports=e},949:e=>{"use strict";e.exports=t}},n={};function a(t){if(n[t])return n[t].exports;var e=n[t]={exports:{}};return r[t](e,e.exports,a),e.exports}return a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a(352)})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93c3RyYWRlLWFwaS93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hcnJheUxpa2VUb0FycmF5LmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXJyYXlXaXRoSG9sZXMuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hcnJheVdpdGhvdXRIb2xlcy5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL25vbkl0ZXJhYmxlUmVzdC5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL25vbkl0ZXJhYmxlU3ByZWFkLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheS5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5LmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvYWNjb3VudHMuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvYXBpL2VuZHBvaW50cy5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9hdXRoLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9jb3JlL3RpY2tlci5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9oZWxwZXJzL3RpbWUuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvY29yZS90b2tlbnMuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvb3B0aW9uYWwvc2VjdXJpdGllcy1jYWNoZS5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9jb3JlL2NhY2hlLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL2RhdGEuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvaGVhZGVycy5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9uZXR3b3JrL2h0dHBzLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL29yZGVycy9oaXN0b3J5LmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL29yZGVycy9zdWJtaXQuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvb3JkZXJzL2luZGV4LmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL3F1b3Rlcy9kZWZhdWx0LmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL3F1b3Rlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9yZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvZXh0ZXJuYWwge1wiY29tbW9uanNcIjpcIm5vZGUtZmV0Y2hcIixcImNvbW1vbmpzMlwiOlwibm9kZS1mZXRjaFwiLFwiYW1kXCI6XCJub2RlLWZldGNoXCIsXCJyb290XCI6XCJfXCJ9Iiwid2VicGFjazovL3dzdHJhZGUtYXBpL2V4dGVybmFsIHtcImNvbW1vbmpzXCI6XCJzb3VyY2UtbWFwLXN1cHBvcnRcIixcImNvbW1vbmpzMlwiOlwic291cmNlLW1hcC1zdXBwb3J0XCIsXCJhbWRcIjpcInNvdXJjZS1tYXAtc3VwcG9ydFwiLFwicm9vdFwiOlwiX1wifSIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS93ZWJwYWNrL3N0YXJ0dXAiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3dzdHJhZGUtYXBpL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsImdsb2JhbCIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzk0OV9fIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fNTQ1X18iLCJhcnIiLCJsZW4iLCJsZW5ndGgiLCJpIiwiYXJyMiIsIkFycmF5IiwiaXNBcnJheSIsImFycmF5TGlrZVRvQXJyYXkiLCJhc3luY0dlbmVyYXRvclN0ZXAiLCJnZW4iLCJyZXNvbHZlIiwicmVqZWN0IiwiX25leHQiLCJfdGhyb3ciLCJrZXkiLCJhcmciLCJpbmZvIiwidmFsdWUiLCJlcnJvciIsImRvbmUiLCJQcm9taXNlIiwidGhlbiIsImZuIiwic2VsZiIsInRoaXMiLCJhcmdzIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJlcnIiLCJ1bmRlZmluZWQiLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsIm9iaiIsIml0ZXIiLCJTeW1ib2wiLCJpdGVyYXRvciIsImZyb20iLCJfYXJyIiwiX24iLCJfZCIsIl9lIiwiX3MiLCJfaSIsIm5leHQiLCJwdXNoIiwiYXJyYXlXaXRoSG9sZXMiLCJpdGVyYWJsZVRvQXJyYXlMaW1pdCIsInVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5Iiwibm9uSXRlcmFibGVSZXN0IiwiYXJyYXlXaXRob3V0SG9sZXMiLCJpdGVyYWJsZVRvQXJyYXkiLCJub25JdGVyYWJsZVNwcmVhZCIsIm8iLCJtaW5MZW4iLCJuIiwidG9TdHJpbmciLCJjYWxsIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJ0ZXN0IiwiQUNUSVZJVElFU19NQVhfRFJBVyIsIkFDVElWSVRJRVNfVFlQRVNfQUxMIiwiYWxsIiwiaGFuZGxlUmVxdWVzdCIsImVuZHBvaW50cyIsImFjY291bnRzIiwidGZzYSIsImZpbmQiLCJhY2NvdW50Iiwic3RhcnRzV2l0aCIsInJyc3AiLCJjcnlwdG8iLCJwZXJzb25hbCIsImRhdGEiLCJtZSIsInBlcnNvbiIsImhpc3RvcnkiLCJpbnRlcnZhbCIsImFjY291bnRJZCIsImFjdGl2aXRpZXMiLCJmaWx0ZXJzIiwibGltaXQiLCJFcnJvciIsInR5cGUiLCJyZXN1bHRzIiwiYWNjb3VudElkcyIsImpvaW4iLCJib29rbWFyayIsInJlc3BvbnNlIiwiZ2V0QmFua0FjY291bnRzIiwiZGVwb3NpdHMiLCJwb3NpdGlvbnMiLCJkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIiLCJvbkZhaWx1cmUiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwianNvbiIsInJlYXNvbiIsImJvZHkiLCJvblN1Y2Nlc3MiLCJMT0dJTiIsIm1ldGhvZCIsInVybCIsImF1dGhlbnRpY2F0ZWQiLCJhY2Nlc3MiLCJoZWFkZXJzIiwiZ2V0IiwicmVmcmVzaCIsImV4cGlyZXMiLCJwYXJzZUludCIsInRva2VucyIsImFjY291bnRJbmZvIiwiUkVGUkVTSCIsIkFDQ09VTlRfSURTIiwibWFwIiwiaWQiLCJMSVNUX0FDQ09VTlQiLCJNRSIsIlBFUlNPTiIsIkhJU1RPUllfQUNDT1VOVCIsInBhcmFtZXRlcnMiLCIwIiwiMSIsIkFDVElWSVRJRVMiLCIyIiwiMyIsIkRFUE9TSVRTIiwiQkFOS19BQ0NPVU5UUyIsIkVYQ0hBTkdFX1JBVEVTIiwiU0VDVVJJVFkiLCJFWFRFTlNJVkVfU0VDVVJJVFlfREVUQUlMUyIsIlFVT1RFU19ISVNUT1JZIiwiUE9TSVRJT05TIiwiT1JERVJTX0JZX1BBR0UiLCJ0b3RhbCIsIm9yZGVycyIsIkNBTkNFTF9PUkRFUiIsIlBMQUNFX09SREVSIiwiZXZlbnRzIiwib3RwIiwib24iLCJldmVudCIsImhhbmRsZXIiLCJ1c2UiLCJzdGF0ZSIsImxvZ2luIiwiZW1haWwiLCJwYXNzd29yZCIsInJlZnJlc2hBdXRoZW50aWNhdGlvbiIsInN1cHBvcnRlZEZlYXR1cmVzIiwiZGlzYWJsZWQiLCJjb25maWdFbmFibGVkIiwiZmVhdHVyZSIsImluY2x1ZGVzIiwiY29uZmlnIiwic3Vic3RyaW5nIiwic3VwcG9ydGVkIiwiY3V0IiwiaW5kZXhPZiIsInNwbGljZSIsImV4Y2hhbmdlcyIsInN5bWJvbCIsImV4Y2hhbmdlIiwic3BsaXQiLCJvdGhlciIsInN0b3JlIiwiZXhwaXJlZCIsIkRhdGUiLCJub3ciLCJjYWNoZSIsInNpemUiLCJNYXAiLCJrZXlzIiwic2V0Iiwic2VjdXJpdHkiLCJyZXN1bHQiLCJUaWNrZXIiLCJmb3JtYXQiLCJleGNoYW5nZVJhdGVzIiwiZ2V0U2VjdXJpdHkiLCJ1c2VyVGlja2VyIiwiZXh0ZW5zaXZlIiwidGlja2VyIiwiZmlsdGVyIiwic3RvY2siLCJzZWN1cml0eV90eXBlIiwicHJpbWFyeV9leGNoYW5nZSIsImluc2VydCIsImN1c3RvbUhlYWRlcnMiLCJIZWFkZXJzIiwiYWRkIiwiYXBwZW5kIiwicmVtb3ZlIiwiY2xlYXIiLCJmb3JFYWNoIiwiaGVhZGVyIiwidmFsdWVzIiwiYXV0aCIsInF1b3RlcyIsIkhUVFBfT0siLCJIVFRQX0NSRUFURUQiLCJmaW5hbGl6ZVJlcXVlc3QiLCJlbmRwb2ludCIsInBhcmFtcyIsImluZGV4IiwicGFyYW1ldGVyTmFtZSIsInJlcGxhY2UiLCJxdWVyeVBhcmFtTmFtZSIsInF1ZXJ5UGFyYW0iLCJwYXlsb2FkIiwiSlNPTiIsInN0cmluZ2lmeSIsInRhbGsiLCJpbXBsaWNpdFRva2VuUmVmcmVzaCIsImZldGNoIiwicmVmcmVzaF90b2tlbiIsInBhZ2UiLCJwYWdlTnVtIiwib2Zmc2V0IiwicGFnZXMiLCJNYXRoIiwiY2VpbCIsInRhc2tzIiwibGlzdCIsImZpbHRlcmVkT3JkZXJzIiwib3JkZXJGaWx0ZXIiLCJvcmRlciIsInNlY3VyaXR5X2lkIiwid2Vha0VxdWFscyIsInBlbmRpbmciLCJmaWxsZWQiLCJjYW5jZWxsZWQiLCJpc0NhbmFkaWFuU2VjdXJpdHkiLCJjYW5jZWwiLCJvcmRlcklkIiwiY2FuY2VsUGVuZGluZyIsIm9yZGVyX2lkIiwibWFya2V0QnV5IiwicXVhbnRpdHkiLCJkZXRhaWxzIiwibGltaXRfcHJpY2UiLCJvcmRlcl90eXBlIiwib3JkZXJfc3ViX3R5cGUiLCJ0aW1lX2luX2ZvcmNlIiwiYWNjb3VudF9pZCIsImxpbWl0QnV5Iiwic3RvcExpbWl0QnV5Iiwic3RvcCIsInN0b3BfcHJpY2UiLCJtYXJrZXRTZWxsIiwibWFya2V0X3ZhbHVlIiwibGltaXRTZWxsIiwic3RvcExpbWl0U2VsbCIsInN1Ym1pdCIsInF1b3RlIiwiYW1vdW50IiwiZGVmYXVsdFByb3ZpZGVyIiwidHJhZGUiLCJwcm92aWRlcnMiLCJwcm92aWRlciIsInJ1bnRpbWUiLCJPcCIsImhhc093biIsImhhc093blByb3BlcnR5IiwiJFN5bWJvbCIsIml0ZXJhdG9yU3ltYm9sIiwiYXN5bmNJdGVyYXRvclN5bWJvbCIsImFzeW5jSXRlcmF0b3IiLCJ0b1N0cmluZ1RhZ1N5bWJvbCIsInRvU3RyaW5nVGFnIiwid3JhcCIsImlubmVyRm4iLCJvdXRlckZuIiwidHJ5TG9jc0xpc3QiLCJwcm90b0dlbmVyYXRvciIsIkdlbmVyYXRvciIsImdlbmVyYXRvciIsImNyZWF0ZSIsImNvbnRleHQiLCJDb250ZXh0IiwiX2ludm9rZSIsIkdlblN0YXRlU3VzcGVuZGVkU3RhcnQiLCJHZW5TdGF0ZUV4ZWN1dGluZyIsIkdlblN0YXRlQ29tcGxldGVkIiwiZG9uZVJlc3VsdCIsImRlbGVnYXRlIiwiZGVsZWdhdGVSZXN1bHQiLCJtYXliZUludm9rZURlbGVnYXRlIiwiQ29udGludWVTZW50aW5lbCIsInNlbnQiLCJfc2VudCIsImRpc3BhdGNoRXhjZXB0aW9uIiwiYWJydXB0IiwicmVjb3JkIiwidHJ5Q2F0Y2giLCJHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkIiwibWFrZUludm9rZU1ldGhvZCIsIkdlbmVyYXRvckZ1bmN0aW9uIiwiR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUiLCJJdGVyYXRvclByb3RvdHlwZSIsImdldFByb3RvIiwiZ2V0UHJvdG90eXBlT2YiLCJOYXRpdmVJdGVyYXRvclByb3RvdHlwZSIsIkdwIiwiZGVmaW5lSXRlcmF0b3JNZXRob2RzIiwiQXN5bmNJdGVyYXRvciIsIlByb21pc2VJbXBsIiwiaW52b2tlIiwiX19hd2FpdCIsInVud3JhcHBlZCIsInByZXZpb3VzUHJvbWlzZSIsImNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnIiwicmVzdWx0TmFtZSIsIm5leHRMb2MiLCJwdXNoVHJ5RW50cnkiLCJsb2NzIiwiZW50cnkiLCJ0cnlMb2MiLCJjYXRjaExvYyIsImZpbmFsbHlMb2MiLCJhZnRlckxvYyIsInRyeUVudHJpZXMiLCJyZXNldFRyeUVudHJ5IiwiY29tcGxldGlvbiIsInJlc2V0IiwiaXRlcmFibGUiLCJpdGVyYXRvck1ldGhvZCIsImlzTmFOIiwiZGlzcGxheU5hbWUiLCJpc0dlbmVyYXRvckZ1bmN0aW9uIiwiZ2VuRnVuIiwiY3RvciIsIm1hcmsiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImF3cmFwIiwiYXN5bmMiLCJvYmplY3QiLCJyZXZlcnNlIiwicG9wIiwic2tpcFRlbXBSZXNldCIsInByZXYiLCJjaGFyQXQiLCJyb290UmVjb3JkIiwicnZhbCIsImV4Y2VwdGlvbiIsImhhbmRsZSIsImxvYyIsImNhdWdodCIsImhhc0NhdGNoIiwiaGFzRmluYWxseSIsImZpbmFsbHlFbnRyeSIsImNvbXBsZXRlIiwiZmluaXNoIiwidGhyb3duIiwiZGVsZWdhdGVZaWVsZCIsInJlZ2VuZXJhdG9yUnVudGltZSIsImFjY2lkZW50YWxTdHJpY3RNb2RlIiwiRnVuY3Rpb24iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsInByb3AiXSwibWFwcGluZ3MiOiJDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxFQUFRRyxRQUFRLHNCQUF1QkEsUUFBUSxlQUN2QyxtQkFBWEMsUUFBeUJBLE9BQU9DLElBQzlDRCxPQUFPLENBQUMscUJBQXNCLGNBQWVKLEdBQ25CLGlCQUFaQyxRQUNkQSxRQUFRLGVBQWlCRCxFQUFRRyxRQUFRLHNCQUF1QkEsUUFBUSxlQUV4RUosRUFBSyxlQUFpQkMsRUFBUUQsRUFBUSxFQUFHQSxFQUFRLEdBUm5ELENBU0dPLFFBQVEsU0FBU0MsRUFBa0NDLEdBQ3RELE0scUJDQUFOLEVBQU9ELFFBVlAsU0FBMkJRLEVBQUtDLElBQ25CLE1BQVBBLEdBQWVBLEVBQU1ELEVBQUlFLFVBQVFELEVBQU1ELEVBQUlFLFFBRS9DLElBQUssSUFBSUMsRUFBSSxFQUFHQyxFQUFPLElBQUlDLE1BQU1KLEdBQU1FLEVBQUlGLEVBQUtFLElBQzlDQyxFQUFLRCxHQUFLSCxFQUFJRyxHQUdoQixPQUFPQyxJLFFDSFRYLEVBQU9ELFFBSlAsU0FBeUJRLEdBQ3ZCLEdBQUlLLE1BQU1DLFFBQVFOLEdBQU0sT0FBT0EsSSxjQ0RqQyxJQUFJTyxFQUFtQixFQUFRLEtBTS9CZCxFQUFPRCxRQUpQLFNBQTRCUSxHQUMxQixHQUFJSyxNQUFNQyxRQUFRTixHQUFNLE9BQU9PLEVBQWlCUCxLLFFDSGxELFNBQVNRLEVBQW1CQyxFQUFLQyxFQUFTQyxFQUFRQyxFQUFPQyxFQUFRQyxFQUFLQyxHQUNwRSxJQUNFLElBQUlDLEVBQU9QLEVBQUlLLEdBQUtDLEdBQ2hCRSxFQUFRRCxFQUFLQyxNQUNqQixNQUFPQyxHQUVQLFlBREFQLEVBQU9PLEdBSUxGLEVBQUtHLEtBQ1BULEVBQVFPLEdBRVJHLFFBQVFWLFFBQVFPLEdBQU9JLEtBQUtULEVBQU9DLEdB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WSxLQUNqQyxJQUFJLElBQUkvVyxLQUFPK1csRUFDWFAsRUFBb0JyVCxFQUFFNFQsRUFBWS9XLEtBQVN3VyxFQUFvQnJULEVBQUV6RSxFQUFTc0IsSUFDNUUwQixPQUFPQyxlQUFlakQsRUFBU3NCLEVBQUssQ0FBRXVCLFlBQVksRUFBTW1GLElBQUtxUSxFQUFXL1csTUNKM0V3VyxFQUFvQnJULEVBQUksQ0FBQ3BCLEVBQUtpVixJQUFTdFYsT0FBT0ksVUFBVXlPLGVBQWVoTixLQUFLeEIsRUFBS2lWLEdIRzFFUixFQUFvQixNIiwiZmlsZSI6ImRpc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJzb3VyY2UtbWFwLXN1cHBvcnRcIiksIHJlcXVpcmUoXCJub2RlLWZldGNoXCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcInNvdXJjZS1tYXAtc3VwcG9ydFwiLCBcIm5vZGUtZmV0Y2hcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wid3N0cmFkZS1hcGlcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJzb3VyY2UtbWFwLXN1cHBvcnRcIiksIHJlcXVpcmUoXCJub2RlLWZldGNoXCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJ3c3RyYWRlLWFwaVwiXSA9IGZhY3Rvcnkocm9vdFtcIl9cIl0sIHJvb3RbXCJfXCJdKTtcbn0pKGdsb2JhbCwgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fOTQ5X18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzU0NV9fKSB7XG5yZXR1cm4gIiwiZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYXJyMltpXSA9IGFycltpXTtcbiAgfVxuXG4gIHJldHVybiBhcnIyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hcnJheUxpa2VUb0FycmF5OyIsImZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfYXJyYXlXaXRoSG9sZXM7IiwidmFyIGFycmF5TGlrZVRvQXJyYXkgPSByZXF1aXJlKFwiLi9hcnJheUxpa2VUb0FycmF5XCIpO1xuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KGFycik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2FycmF5V2l0aG91dEhvbGVzOyIsImZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHtcbiAgdHJ5IHtcbiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZWplY3QoZXJyb3IpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpbmZvLmRvbmUpIHtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTtcblxuICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpO1xuICAgICAgfVxuXG4gICAgICBfbmV4dCh1bmRlZmluZWQpO1xuICAgIH0pO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hc3luY1RvR2VuZXJhdG9yOyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2NsYXNzQ2FsbENoZWNrOyIsImZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfY3JlYXRlQ2xhc3M7IiwiZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2RlZmluZVByb3BlcnR5OyIsImZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikge1xuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfaXRlcmFibGVUb0FycmF5OyIsImZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47XG4gIHZhciBfYXJyID0gW107XG4gIHZhciBfbiA9IHRydWU7XG4gIHZhciBfZCA9IGZhbHNlO1xuICB2YXIgX2UgPSB1bmRlZmluZWQ7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfZCA9IHRydWU7XG4gICAgX2UgPSBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gX2Fycjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfaXRlcmFibGVUb0FycmF5TGltaXQ7IiwiZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfbm9uSXRlcmFibGVSZXN0OyIsImZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX25vbkl0ZXJhYmxlU3ByZWFkOyIsInZhciBhcnJheVdpdGhIb2xlcyA9IHJlcXVpcmUoXCIuL2FycmF5V2l0aEhvbGVzXCIpO1xuXG52YXIgaXRlcmFibGVUb0FycmF5TGltaXQgPSByZXF1aXJlKFwiLi9pdGVyYWJsZVRvQXJyYXlMaW1pdFwiKTtcblxudmFyIHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5ID0gcmVxdWlyZShcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXlcIik7XG5cbnZhciBub25JdGVyYWJsZVJlc3QgPSByZXF1aXJlKFwiLi9ub25JdGVyYWJsZVJlc3RcIik7XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgbm9uSXRlcmFibGVSZXN0KCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3NsaWNlZFRvQXJyYXk7IiwidmFyIGFycmF5V2l0aG91dEhvbGVzID0gcmVxdWlyZShcIi4vYXJyYXlXaXRob3V0SG9sZXNcIik7XG5cbnZhciBpdGVyYWJsZVRvQXJyYXkgPSByZXF1aXJlKFwiLi9pdGVyYWJsZVRvQXJyYXlcIik7XG5cbnZhciB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSA9IHJlcXVpcmUoXCIuL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5XCIpO1xuXG52YXIgbm9uSXRlcmFibGVTcHJlYWQgPSByZXF1aXJlKFwiLi9ub25JdGVyYWJsZVNwcmVhZFwiKTtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IG5vbkl0ZXJhYmxlU3ByZWFkKCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3RvQ29uc3VtYWJsZUFycmF5OyIsInZhciBhcnJheUxpa2VUb0FycmF5ID0gcmVxdWlyZShcIi4vYXJyYXlMaWtlVG9BcnJheVwiKTtcblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXk7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVnZW5lcmF0b3ItcnVudGltZVwiKTtcbiIsImltcG9ydCBlbmRwb2ludHMgZnJvbSAnLi9hcGkvZW5kcG9pbnRzJztcbmltcG9ydCBoYW5kbGVSZXF1ZXN0IGZyb20gJy4vbmV0d29yay9odHRwcyc7XG5cbi8vIFRoZSBtYXhpbXVtdW0gbnVtYmVyIG9mIGFjdGl2aXRpZXMgd2UgY2FuIHB1bGwgaW4gb25lIGdvLlxuY29uc3QgQUNUSVZJVElFU19NQVhfRFJBVyA9IDk5O1xuLy8gU3VwcG9ydGVkIGFjdGl2aXR5IHR5cGVzXG5jb25zdCBBQ1RJVklUSUVTX1RZUEVTX0FMTCA9IFtcbiAgJ3NlbGwnLFxuICAnZGVwb3NpdCcsXG4gICd3aXRoZHJhd2FsJyxcbiAgJ2RpdmlkZW5kJyxcbiAgJ2luc3RpdHV0aW9uYWxfdHJhbnNmZXInLFxuICAnaW50ZXJuYWxfdHJhbnNmZXInLFxuICAncmVmdW5kJyxcbiAgJ3JlZmVycmFsX2JvbnVzJyxcbiAgJ2FmZmlsaWF0ZScsXG4gICdidXknLFxuXTtcblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYWxsIGFjY291bnQgaWRzIG9wZW4gdW5kZXIgdGhpcyBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudC5cbiAgICovXG4gIGFsbDogYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGFjY291bnRzID0gYXdhaXQgaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuQUNDT1VOVF9JRFMsIHt9KTtcblxuICAgIHJldHVybiB7XG4gICAgICB0ZnNhOiBhY2NvdW50cy5maW5kKChhY2NvdW50KSA9PiBhY2NvdW50LnN0YXJ0c1dpdGgoJ3Rmc2EnKSksXG4gICAgICBycnNwOiBhY2NvdW50cy5maW5kKChhY2NvdW50KSA9PiBhY2NvdW50LnN0YXJ0c1dpdGgoJ3Jyc3AnKSksXG4gICAgICBjcnlwdG86IGFjY291bnRzLmZpbmQoKGFjY291bnQpID0+IGFjY291bnQuc3RhcnRzV2l0aCgnbm9uLXJlZ2lzdGVyZWQtY3J5cHRvJykpLFxuICAgICAgcGVyc29uYWw6IGFjY291bnRzLmZpbmQoKGFjY291bnQpID0+IGFjY291bnQuc3RhcnRzV2l0aCgnbm9uLXJlZ2lzdGVyZWQnKSAmJiAhYWNjb3VudC5zdGFydHNXaXRoKCdub24tcmVnaXN0ZXJlZC1jcnlwdG8nKSksXG4gICAgfTtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyBhIGxpc3Qgb2YgZGV0YWlscyBhYm91dCB5b3VyIG9wZW4gYWNjb3VudHMsIGxpa2UgYWNjb3VudCB0eXBlLCBidXlpbmcgcG93ZXIsXG4gICAqIGN1cnJlbnQgYmFsYW5jZSwgYW5kIG1vcmUuXG4gICAqL1xuICBkYXRhOiBhc3luYyAoKSA9PiBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5MSVNUX0FDQ09VTlQsIHt9KSxcblxuICAvKipcbiAgICogUmV0cmlldmVzIHNvbWUgc3VyZmFjZSBpbmZvcm1hdGlvbiBhYm91dCB5b3UgbGlrZSB5b3VyIG5hbWUgYW5kIGVtYWlsLCBhY2NvdW50XG4gICAqIHNpZ25hdHVyZXMsIGFuZCBvdGhlciBtZXRhZGF0YS5cbiAgICovXG4gIG1lOiBhc3luYyAoKSA9PiBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5NRSwge30pLFxuXG4gIC8qKlxuICAgKiBEZXRhaWxlZCBpbmZvcm1hdGlvbiBhYm91dCB5b3UgdGhhdCB5b3UgcHJvdmlkZWQgb24gc2lnbnVwLCBsaWtlIHJlc2lkZW50aWFsIGFuZFxuICAgKiBtYWlsaW5nIGFkZHJlc3NlcywgZW1wbG95bWVudCwgcGhvbmUgbnVtYmVycywgYW5kIHNvIG9uLlxuICAgKi9cbiAgcGVyc29uOiBhc3luYyAoKSA9PiBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5QRVJTT04sIHt9KSxcblxuICAvKipcbiAgICogUXVlcnkgdGhlIGhpc3Rvcnkgb2YgdGhlIGFjY291bnQgd2l0aGluIGEgY2VydGFpbiB0aW1lIGludGVydmFsLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGludGVydmFsIFRoZSB0aW1lIGludGVydmFsIGZvciB0aGUgaGlzdG9yeSBxdWVyeVxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgYWNjb3VudCB0byBxdWVyeVxuICAgKi9cbiAgaGlzdG9yeTogYXN5bmMgKGludGVydmFsLCBhY2NvdW50SWQpID0+IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLkhJU1RPUllfQUNDT1VOVCwge1xuICAgIGludGVydmFsLCBhY2NvdW50SWQsXG4gIH0pLFxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIG1vc3QgcmVjZW50IDIwIGFjdGl2aXRpZXMgb24gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBBY2NvdW50LlxuICAgKi9cbiAgYWN0aXZpdGllczogYXN5bmMgKGZpbHRlcnMgPSB7fSkgPT4ge1xuICAgIC8vIFRoZSBtYXhpbXVtIGRyYXcgcGVyIEFQSSBjYWxsIGlzIDk5LiBJZiBpdCdzIGhpZ2hlciwgd2UgbXVzdCBhYm9ydC5cbiAgICBpZiAoZmlsdGVycz8ubGltaXQgJiYgZmlsdGVycy5saW1pdCA+IEFDVElWSVRJRVNfTUFYX0RSQVcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZmlsdGVycy5saW1pdCBjYW4gbm90IGV4Y2VlZCA5OSEgTGVhdmUgZmlsdGVycy5saW1pdCB1bmRlZmluZWQgaWYgeW91IHdhbnQgdG8gcmV0cmlldmUgYWxsLicpO1xuICAgIH1cblxuICAgIC8vIFRlbGwgdGhlIHVzZXIgdGhhdCBmaWx0ZXIuYWNjb3VudHMgbXVzdCBiZSBhbiBlcnJvclxuICAgIGlmIChmaWx0ZXJzPy5hY2NvdW50cyAmJiAhQXJyYXkuaXNBcnJheShmaWx0ZXJzLmFjY291bnRzKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdmaWx0ZXJzLmFjY291bnRzIG11c3QgYmUgYW4gYXJyYXkhJyk7XG4gICAgfVxuXG4gICAgLy8gVGVsbCB0aGUgdXNlciB0aGF0IGZpbHRlci50eXBlIG11c3QgYmUgYW4gZXJyb3JcbiAgICBpZiAoZmlsdGVycz8udHlwZSAmJiAhQXJyYXkuaXNBcnJheShmaWx0ZXJzLnR5cGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZpbHRlcnMudHlwZSBtdXN0IGJlIGFuIGFycmF5IScpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcblxuICAgIC8vIERyYXcgdGhlIGZpcnN0IHNldCBvZiBhY3Rpdml0aWVzXG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuQUNUSVZJVElFUywge1xuICAgICAgbGltaXQ6IGZpbHRlcnM/LmxpbWl0ID8/IEFDVElWSVRJRVNfTUFYX0RSQVcsXG4gICAgICBhY2NvdW50SWRzOiBmaWx0ZXJzPy5hY2NvdW50cz8uam9pbigpID8/ICcnLFxuICAgICAgYm9va21hcms6ICcnLFxuICAgICAgdHlwZTogZmlsdGVycz8udHlwZSA/PyBBQ1RJVklUSUVTX1RZUEVTX0FMTCxcbiAgICB9KTtcbiAgICByZXN1bHRzLnB1c2goLi4ucmVzcG9uc2UucmVzdWx0cyk7XG5cbiAgICAvKlxuICAgICAqIFRvIGdldCBhbGwgYWN0aXZpdGllcywgd2Ugd2lsbCBoYXZlIHRvIGRyYXcgdGhlIG1heGltdW0gbnVtYmVyXG4gICAgICogb2YgYWN0aXZpdGllcyBwZXIgQVBJIGNhbGwgdW50aWwgd2UgYXJlIGRvbmUgKGkuZS4sIHdoZW4gd2VcbiAgICAgKiByZWNlaXZlIGEgbnVtYmVyIG9mIGFjdGl2aXRpZXMgbGVzcyB0aGFuIHRoZSBtYXhpbXVtIHBlciBkcmF3KVxuICAgICAqL1xuICAgIGlmICghZmlsdGVycz8ubGltaXQpIHtcbiAgICAgIC8qXG4gICAgICAgKiBUaGUgbm8tYXdhaXQtaW4tbG9vcCBydWxlIGlzIGJlaW5nIGRpc2FibGVkIGZvciB0aGlzIGNhc2UgYmVjYXVzZVxuICAgICAgICogZXZlcnkgbG9vcCBmZWVkcyBiYWNrIGludG8gdGhlIG5leHQgb25lIHdpdGggdGhlIGJvb2ttYXJrIChpLmUuLCB0aGV5XG4gICAgICAgKiBhcmUgbm90IGluZGVwZW5kZW50IGFuZCBtdXN0IHJ1biBzZXF1ZW50aWFsbHkpLlxuICAgICAgICovXG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1hd2FpdC1pbi1sb29wICovXG4gICAgICB3aGlsZSAocmVzdWx0cy5sZW5ndGggJSBBQ1RJVklUSUVTX01BWF9EUkFXID09PSAwKSB7XG4gICAgICAgIHJlc3BvbnNlID0gYXdhaXQgaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuQUNUSVZJVElFUywge1xuICAgICAgICAgIGxpbWl0OiBBQ1RJVklUSUVTX01BWF9EUkFXLFxuICAgICAgICAgIGFjY291bnRJZHM6IGZpbHRlcnM/LmFjY291bnRzPy5qb2luKCkgPz8gJycsXG4gICAgICAgICAgYm9va21hcms6IHJlc3BvbnNlLmJvb2ttYXJrLFxuICAgICAgICAgIHR5cGU6IGZpbHRlcnM/LnR5cGUgPz8gQUNUSVZJVElFU19UWVBFU19BTEwsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEVzY2FwZSB0aGUgbG9vcCBpZiB0aGUgcmV0dXJuZWQgcmVzdWx0cyBpcyBlbXB0eS4gVGhpcyBtZWFucyB3ZSBoYXZlIHJlYWNoZWQgdGhlIGVuZC5cbiAgICAgICAgaWYgKHJlc3BvbnNlLnJlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHRzLnB1c2goLi4ucmVzcG9uc2UucmVzdWx0cyk7XG4gICAgICB9XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWF3YWl0LWluLWxvb3AgKi9cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfSxcblxuICAvKipcbiAgICogUmV0cmlldmVzIGFsbCBiYW5rIGFjY291bnRzIGxpbmtlZCB0byB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnQuXG4gICAqL1xuICBnZXRCYW5rQWNjb3VudHM6IGFzeW5jICgpID0+IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLkJBTktfQUNDT1VOVFMsIHt9KSxcblxuICAvKipcbiAgICogR3JhYiBhbGwgZGVwb3NpdCByZWNvcmRzIG9uIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudC5cbiAgICovXG4gIGRlcG9zaXRzOiBhc3luYyAoKSA9PiBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5ERVBPU0lUUywge30pLFxuXG4gIC8qKlxuICAgKiBMaXN0cyBhbGwgcG9zaXRpb25zIGluIHRoZSBzcGVjaWZpZWQgdHJhZGluZyBhY2NvdW50IHVuZGVyIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgQWNjb3VudC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIHNwZWNpZmljIGFjY291bnQgaW4gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50XG4gICAqL1xuICBwb3NpdGlvbnM6IGFzeW5jIChhY2NvdW50SWQpID0+IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLlBPU0lUSU9OUywgeyBhY2NvdW50SWQgfSksXG59O1xuIiwiY29uc3QgZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyID0ge1xuXG4gIC8vIERlZmF1bHQgZmFpbHVyZSBtZXRob2QgZm9yIGFsbCBlbmRwb2ludCBjYWxsc1xuICBvbkZhaWx1cmU6IGFzeW5jIChyZXNwb25zZSkgPT4gKHtcbiAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICByZWFzb246IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgYm9keTogYXdhaXQgcmVzcG9uc2UuanNvbigpLFxuICB9KSxcblxuICAvLyBEZWZhdWx0IHN1Y2Nlc3MgbWV0aG9kIGZvciBhbGwgZW5kcG9pbnQgY2FsbHNcbiAgb25TdWNjZXNzOiBhc3luYyAocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSxcbn07XG5cbmNvbnN0IFdlYWx0aHNpbXBsZVRyYWRlRW5kcG9pbnRzID0ge1xuXG4gIC8qXG4gICAqIFRoZSBMT0dJTiBlbmRwb2ludCBpbnRpYWxpemVzIGEgbmV3IHNlc3Npb24gZm9yIHRoZSBnaXZlbiBlbWFpbCBhbmRcbiAgICogcGFzc3dvcmQgc2V0LiBJZiB0aGUgbG9naW4gaXMgc3VjY2Vzc2Z1bCwgYWNjZXNzIGFuZCByZWZyZXNoIHRva2Vuc1xuICAgKiBhcmUgcmV0dXJuZWQgaW4gdGhlIGhlYWRlcnMuIFRoZSBhY2Nlc3MgdG9rZW4gaXMgdGhlIGtleSBmb3IgaW52b2tpbmdcbiAgICogYWxsIG90aGVyIGVuZCBwb2ludHMuXG4gICAqL1xuICBMT0dJTjoge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL2F1dGgvbG9naW4nLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxuICAgIG9uU3VjY2VzczogYXN5bmMgKHJlc3BvbnNlKSA9PiAoe1xuICAgICAgdG9rZW5zOiB7XG4gICAgICAgIGFjY2VzczogcmVzcG9uc2UuaGVhZGVycy5nZXQoJ3gtYWNjZXNzLXRva2VuJyksXG4gICAgICAgIHJlZnJlc2g6IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCd4LXJlZnJlc2gtdG9rZW4nKSxcbiAgICAgICAgZXhwaXJlczogcGFyc2VJbnQocmVzcG9uc2UuaGVhZGVycy5nZXQoJ3gtYWNjZXNzLXRva2VuLWV4cGlyZXMnKSwgMTApLFxuICAgICAgfSxcblxuICAgICAgYWNjb3VudEluZm86IGF3YWl0IHJlc3BvbnNlLmpzb24oKSxcbiAgICB9KSxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogR2VuZXJhdGVzIGEgbmV3IHNldCBvZiBhY2Nlc3MgYW5kIHJlZnJlc2ggdG9rZW5zLlxuICAgKi9cbiAgUkVGUkVTSDoge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL2F1dGgvcmVmcmVzaCcsXG4gICAgYXV0aGVudGljYXRlZDogZmFsc2UsXG4gICAgb25TdWNjZXNzOiBhc3luYyAocmVzcG9uc2UpID0+ICh7XG4gICAgICB0b2tlbnM6IHtcbiAgICAgICAgYWNjZXNzOiByZXNwb25zZS5oZWFkZXJzLmdldCgneC1hY2Nlc3MtdG9rZW4nKSxcbiAgICAgICAgcmVmcmVzaDogcmVzcG9uc2UuaGVhZGVycy5nZXQoJ3gtcmVmcmVzaC10b2tlbicpLFxuICAgICAgICBleHBpcmVzOiBwYXJzZUludChyZXNwb25zZS5oZWFkZXJzLmdldCgneC1hY2Nlc3MtdG9rZW4tZXhwaXJlcycpLCAxMCksXG4gICAgICB9LFxuICAgIH0pLFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBHcmFicyBhbGwgYWNjb3VudCBpZHMgaW4gdGhpcyBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudC5cbiAgICovXG4gIEFDQ09VTlRfSURTOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9hY2NvdW50L2xpc3QnLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgb25TdWNjZXNzOiBhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIENvbGxlY3QgYWxsIGFjY291bnQgaWRzIHJlZ2lzdGVyZWQgdW5kZXIgdGhpcyBXZWFsdGhzaW1wbGUgVHJhZGUgQWNjb3VudFxuICAgICAgcmV0dXJuIGRhdGEucmVzdWx0cy5tYXAoKGFjY291bnQpID0+IGFjY291bnQuaWQpO1xuICAgIH0sXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIFRoZSBMSVNUX0FDQ09VTlQgZW5kcG9pbnQgcmV0cmlldmVzIGdlbmVyYWwgbWV0YWRhdGEgb2YgdGhlXG4gICAqIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50LCBpbmNsdWRpbmcgYmFsYW5jZXMsIGFjY291bnQgaWQsIGFuZFxuICAgKiBtb3JlLlxuICAgKi9cbiAgTElTVF9BQ0NPVU5UOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9hY2NvdW50L2xpc3QnLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgb25TdWNjZXNzOiBhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICByZXR1cm4gZGF0YS5yZXN1bHRzO1xuICAgIH0sXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIFRoZSBNRSBlbmRwb2ludCByZXRyaWV2ZXMgc29tZSBzdXJmYWNlIGluZm9ybWF0aW9uIGFib3V0IHlvdSBsaWtlXG4gICAqIHlvdXIgbmFtZSBhbmQgZW1haWwuXG4gICAqL1xuICBNRToge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vbWUnLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgb25TdWNjZXNzOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25TdWNjZXNzLFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBUaGUgUEVSU09OIGVuZHBvaW50IHJldHJpZXZlcyBkZXRhaWxlZCBpbmZvcm1hdGlvbiBhYm91dCB5b3UgdGhhdFxuICAgKiB5b3UgcHJvdmlkZWQgb24gc2lnbnVwLCBsaWtlIHJlc2lkZW50aWFsIGFuZCBtYWlsaW5nIGFkZHJlc3NlcyxcbiAgICogZW1wbG95bWVudCwgcGhvbmUgbnVtYmVycywgYW5kIHNvIG9uLlxuICAgKi9cbiAgUEVSU09OOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9wZXJzb24nLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgb25TdWNjZXNzOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25TdWNjZXNzLFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBUaGUgSElTVE9SWV9BQ0NPVU5UIGVuZHBvaW50IHByb3ZpZGVzIGhpc3RvcmljYWwgc25hcHNob3RzIG9mIHRoZVxuICAgKiBXZWFsdGhzaW1wbGUgYWNjb3VudCBmb3IgYSBzcGVjaWZpZWQgdGltZWZyYW1lLlxuICAgKi9cbiAgSElTVE9SWV9BQ0NPVU5UOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9hY2NvdW50L2hpc3RvcnkvezB9P2FjY291bnRfaWQ9ezF9JyxcbiAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgIDA6ICdpbnRlcnZhbCcsXG4gICAgICAxOiAnYWNjb3VudElkJyxcbiAgICB9LFxuICAgIG9uU3VjY2VzczogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uU3VjY2VzcyxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogUHJvdmlkZXMgdGhlIG1vc3QgcmVjZW50IDIwIGFjdGl2aXRpZXMgKGRlcG9zaXRzLCBkaXZpZGVuZHMsIG9yZGVycywgZXRjKSBvbiB0aGUgV2VhbHRoc2ltcGxlXG4gICAqIFRyYWRlIGFjY291bnQuXG4gICAqL1xuICBBQ1RJVklUSUVTOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9hY2NvdW50L2FjdGl2aXRpZXM/bGltaXQ9ezB9JmFjY291bnRfaWRzPXsxfSZbMl0mYm9va21hcms9ezN9JyxcbiAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgIDA6ICdsaW1pdCcsXG4gICAgICAxOiAnYWNjb3VudElkcycsXG4gICAgICAyOiAndHlwZScsXG4gICAgICAzOiAnYm9va21hcmsnLFxuICAgIH0sXG4gICAgb25TdWNjZXNzOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25TdWNjZXNzLFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBBbGwgZGVwb3NpdHMgdW5kZXIgdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50XG4gICAqL1xuICBERVBPU0lUUzoge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vZGVwb3NpdHMnLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgb25TdWNjZXNzOiBhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICByZXR1cm4gZGF0YS5yZXN1bHRzO1xuICAgIH0sXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIEFsbCBsaW5rZWQgYmFuayBhY2NvdW50cyB1bmRlciB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnRcbiAgICovXG4gIEJBTktfQUNDT1VOVFM6IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL2JhbmstYWNjb3VudHMnLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgb25TdWNjZXNzOiBhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICByZXR1cm4gZGF0YS5yZXN1bHRzO1xuICAgIH0sXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIEN1cnJlbnQgV2VhbHRoc2ltcGxlIFRyYWRlIFVTRC9DQUQgZXhjaGFuZ2UgcmF0ZXNcbiAgICovXG4gIEVYQ0hBTkdFX1JBVEVTOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9mb3JleCcsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBvblN1Y2Nlc3M6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vblN1Y2Nlc3MsXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIEdyYWJzIGluZm9ybWF0aW9uIGFib3V0IHRoZSBzZWN1cml0eSByZXNlbWJsZWQgYnkgdGhlIHRpY2tlci5cbiAgICovXG4gIFNFQ1VSSVRZOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9zZWN1cml0aWVzP3F1ZXJ5PXswfScsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAwOiAndGlja2VyJyxcbiAgICB9LFxuICAgIG9uU3VjY2VzczogYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBpZiAoZGF0YS5yZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlY3VyaXR5IGRvZXMgbm90IGV4aXN0Jyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRhLnJlc3VsdHM7XG4gICAgfSxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogRmV0Y2hlcyBkZXRhaWxlZCBpbmZvcm1hdGlvbiBhYm91dCBhIHNlY3VyaXR5IHVzaW5nIGl0cyB1bmlxdWVcbiAgICogc2VjdXJpdHkgaWRlbnRpZmllci4gTWFya2V0IHF1b3RlLCBiaWQgYW5kIGFzayBzaXplLCBhbmQgb3RoZXIgaW5mb3JtYXRpb25cbiAgICogYXJlIHJldHVybmVkLlxuICAgKi9cbiAgRVhURU5TSVZFX1NFQ1VSSVRZX0RFVEFJTFM6IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL3NlY3VyaXRpZXMvezB9JyxcbiAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgIDA6ICdpZCcsXG4gICAgfSxcbiAgICBvblN1Y2Nlc3M6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vblN1Y2Nlc3MsXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIEZldGNoZXMgaGlzdG9yaWNhbCBxdW90ZXMgZm9yIGEgc2VjdXJpdHkgaW4gdGhlIHNwZWNpZmllZCBpbnRlcnZhbC5cbiAgICovXG4gIFFVT1RFU19ISVNUT1JZOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9zZWN1cml0aWVzL3swfS9oaXN0b3JpY2FsX3F1b3Rlcy97MX0/bWljPVhOQVMnLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgcGFyYW1ldGVyczoge1xuICAgICAgMDogJ2lkJyxcbiAgICAgIDE6ICdpbnRlcnZhbCcsXG4gICAgfSxcbiAgICBvblN1Y2Nlc3M6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vblN1Y2Nlc3MsXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIExpc3RzIGFsbCBwb3NpdGlvbnMgdW5kZXIgYSB0cmFkaW5nIGFjY291bnQuXG4gICAqL1xuICBQT1NJVElPTlM6IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL2FjY291bnQvcG9zaXRpb25zP2FjY291bnRfaWQ9ezB9JyxcbiAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgIDA6ICdhY2NvdW50SWQnLFxuICAgIH0sXG4gICAgb25TdWNjZXNzOiBhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICByZXR1cm4gZGF0YS5yZXN1bHRzO1xuICAgIH0sXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIEdyYWIgYSBwYWdlIG9mIG9yZGVycyAoMjAgb3JkZXJzKS5cbiAgICovXG4gIE9SREVSU19CWV9QQUdFOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9vcmRlcnM/b2Zmc2V0PXswfSZhY2NvdW50X2lkPXsxfScsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAwOiAnb2Zmc2V0JyxcbiAgICAgIDE6ICdhY2NvdW50SWQnLFxuICAgIH0sXG4gICAgb25TdWNjZXNzOiBhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3RhbDogZGF0YS50b3RhbCxcbiAgICAgICAgb3JkZXJzOiBkYXRhLnJlc3VsdHMsXG4gICAgICB9O1xuICAgIH0sXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIENhbmNlbHMgYSBzcGVjaWZpYyBvcmRlciBieSBpdHMgaWQuXG4gICAqL1xuICBDQU5DRUxfT1JERVI6IHtcbiAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL29yZGVycy97MH0nLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgcGFyYW1ldGVyczoge1xuICAgICAgMDogJ29yZGVySWQnLFxuICAgIH0sXG4gICAgb25TdWNjZXNzOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25TdWNjZXNzLFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBQbGFjZXMgYW4gb3JkZXIgZm9yIGEgc2VjdXJpdHkuXG4gICAqL1xuICBQTEFDRV9PUkRFUjoge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL29yZGVycycsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBvblN1Y2Nlc3M6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vblN1Y2Nlc3MsXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgV2VhbHRoc2ltcGxlVHJhZGVFbmRwb2ludHM7XG4iLCJpbXBvcnQgaGFuZGxlUmVxdWVzdCwgeyByZWZyZXNoQXV0aGVudGljYXRpb24gfSBmcm9tICcuL25ldHdvcmsvaHR0cHMnO1xuaW1wb3J0IGVuZHBvaW50cyBmcm9tICcuL2FwaS9lbmRwb2ludHMnO1xuaW1wb3J0IHRva2VucyBmcm9tICcuL2NvcmUvdG9rZW5zJztcblxuLy8gYXV0aGVudGljYXRpb24gZXZlbnRzXG5jb25zdCBldmVudHMgPSB7XG4gIG90cDogbnVsbCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAvKipcbiAgICogUmVnaXN0ZXIgYSBmdW5jdGlvbiB0byBydW4gb24gYSBjZXJ0YWluIGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGV2ZW50IFRoZSB0cmlnZ2VyIGZvciB0aGUgZnVuY3Rpb25cbiAgICogQHBhcmFtIHsqfSBoYW5kbGVyIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgKi9cbiAgb24oZXZlbnQsIGhhbmRsZXIpIHtcbiAgICBpZiAoIShldmVudCBpbiBldmVudHMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGF1dGhlbnRpY2F0aW9uIGV2ZW50ICcke2V2ZW50fSchYCk7XG4gICAgfVxuXG4gICAgZXZlbnRzW2V2ZW50XSA9IGhhbmRsZXI7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIGF1dGggbW9kdWxlIHdpdGggYW4gZXhpc3Rpbmcgc3RhdGUgb2YgdG9rZW5zLlxuICAgKiBUaGUgc3RhdGUgcHJvdmlkZWQgc2hvdWxkIGNvbnRhaW4gYWNjZXNzLCByZWZyZXNoLCBhbmQgZXhwaXJlcyBwcm9wZXJ0aWVzLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHN0YXRlIFByZS1leGlzdGluZyBhdXRoZW50aWNhdGlvbiBzdGF0ZVxuICAgKi9cbiAgdXNlOiAoc3RhdGUpID0+IHRva2Vucy5zdG9yZShzdGF0ZSksXG5cbiAgLyoqXG4gICAqIFNuYXBzaG90IG9mIHRoZSBjdXJyZW50IGF1dGhlbnRpY2F0aW9uIHRva2Vucy5cbiAgICovXG4gIHRva2VuczogKCkgPT4gKHsgYWNjZXNzOiB0b2tlbnMuYWNjZXNzLCByZWZyZXNoOiB0b2tlbnMucmVmcmVzaCwgZXhwaXJlczogdG9rZW5zLmV4cGlyZXMgfSksXG5cbiAgLyoqXG4gICAqIEF0dGVtcHRzIHRvIGVzdGFibGlzaCBhIHNlc3Npb24gZm9yIHRoZSBwcm92aWRlZCBlbWFpbCBhbmQgcGFzc3dvcmQuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gZW1haWwgZW1haWxlZCByZWdpc3RlcmVkIGJ5IHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudFxuICAgKiBAcGFyYW0geyp9IHBhc3N3b3JkIFRoZSBwYXNzd29yZCBvZiB0aGUgYWNjb3VudFxuICAgKi9cbiAgYXN5bmMgbG9naW4oZW1haWwsIHBhc3N3b3JkKSB7XG4gICAgbGV0IHJlc3BvbnNlID0gbnVsbDtcblxuICAgIC8qXG4gICAgICogSWYgd2UgYXJlIGdpdmVuIGEgZnVuY3Rpb24gZm9yIG90cCwgdGhlbiB3ZSBtdXN0IGZhaWwgYSBsb2cgaW4gdG9cbiAgICAgKiB0cmlnZ2VyIGFuIE9UUCBldmVudCB3aXRoIFdlYWx0aHNpbXBsZSBUcmFkZS4gVGhpcyB3aWxsIGFsbG93IHRoZSB1c2VyXG4gICAgICogb3RwIHRodW5rIHRvIHJldHJpZXZlIHRoZSBjb2RlLlxuICAgICAqXG4gICAgICogSWYgYSBsaXRlcmFsIHZhbHVlIGlzIHByb3ZpZGVkIGZvciBvdHAsIGl0IG1lYW5zIHRoZSB1c2VyIGhhcyBtYW51YWxseVxuICAgICAqIHByb3ZpZGVkIHVzIHdpdGggdGhlIG90cCBjb2RlLiBXZSBjYW4gc2tpcCB0aGlzIGxvZ2luIGF0dGVtcHQuXG4gICAgICovXG4gICAgaWYgKHR5cGVvZiAoZXZlbnRzLm90cCkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGF3YWl0IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLkxPR0lOLCB7XG4gICAgICAgIGVtYWlsLFxuICAgICAgICBwYXNzd29yZCxcbiAgICAgIH0pLmNhdGNoKCgpID0+IHt9KTtcbiAgICB9XG5cbiAgICAvLyBUcnkgdG8gbG9nIGluIGZvciByZWFsIHRoaXMgdGltZS5cbiAgICB0cnkge1xuICAgICAgcmVzcG9uc2UgPSBhd2FpdCBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5MT0dJTiwge1xuICAgICAgICBlbWFpbCxcbiAgICAgICAgcGFzc3dvcmQsXG4gICAgICAgIG90cDogdHlwZW9mIChldmVudHMub3RwKSA9PT0gJ2Z1bmN0aW9uJyA/IGF3YWl0IGV2ZW50cy5vdHAoKSA6IGV2ZW50cy5vdHAsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gd2UgbWlnaHQgaGF2ZSBmYWlsZWQgYmVjYXVzZSBPVFAgd2FzIG5vdCBwcm92aWRlZFxuICAgICAgaWYgKCFldmVudHMub3RwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignT1RQIG5vdCBwcm92aWRlZCEnKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2VlbXMgdG8gYmUgaW5jb3JyZWN0IGNyZWRlbnRpYWxzIG9yIE9UUC5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIC8vIENhcHR1cmUgdGhlIHRva2VucyBmb3IgbGF0ZXIgdXNhZ2UuXG4gICAgdGhpcy51c2UocmVzcG9uc2UudG9rZW5zKTtcbiAgfSxcblxuICAvKipcbiAgICogR2VuZXJhdGVzIGEgbmV3IHNldCBvZiBhY2Nlc3MgYW5kIHJlZnJlc2ggdG9rZW5zLlxuICAgKi9cbiAgcmVmcmVzaDogYXN5bmMgKCkgPT4gcmVmcmVzaEF1dGhlbnRpY2F0aW9uKCksXG59O1xuIiwiLy8gQ29uZGl0aW9uYWwgZmVhdHVyZXMgdGhhdCBhcmUgY3VycmVudGx5IHN1cHBvcnRlZCBieSB3c3RyYWRlLWFwaVxuY29uc3Qgc3VwcG9ydGVkRmVhdHVyZXMgPSBbJ2ltcGxpY2l0X3Rva2VuX3JlZnJlc2gnLCAnc2VjdXJpdGllc19jYWNoZSddO1xuY29uc3Qgc3VwcG9ydGVkID0gKGZlYXR1cmUpID0+IHtcbiAgaWYgKCFmZWF0dXJlPy5zdGFydHNXaXRoKCdub18nKSkge1xuICAgIHJldHVybiBzdXBwb3J0ZWRGZWF0dXJlcy5pbmNsdWRlcyhmZWF0dXJlKTtcbiAgfVxuXG4gIHJldHVybiBzdXBwb3J0ZWRGZWF0dXJlcy5pbmNsdWRlcyhmZWF0dXJlLnN1YnN0cmluZygnbm9fJy5sZW5ndGgpKTtcbn07XG5cbi8vIEhvbGRzIG9wdGlvbmFsIGZlYXR1cmVzIHRoYXQgaGF2ZSBiZWVuIGRpc2FibGVkLlxuY29uc3QgZGlzYWJsZWQgPSBbJ3NlY3VyaXRpZXNfY2FjaGUnXTtcbmV4cG9ydCBjb25zdCBjb25maWdFbmFibGVkID0gKGZlYXR1cmUpID0+ICFkaXNhYmxlZC5pbmNsdWRlcyhmZWF0dXJlKTtcblxuLyoqXG4gKiBFbmFibGUgb3IgZGlzYWJsZSBhbiBvcHRpb25hbCBmZWF0dXJlIHdpdGhpbiB3c3RyYWRlLWFwaS5cbiAqXG4gKiBFeGFtcGxlczpcbiAqIC0tLVxuICogY29uZmlnKCdpbXBsaWNpdF90b2tlbl9yZWZyZXNoJylcbiAqIEVuYWJsZXMgaW1wbGljaXQgcmVmcmVzaGluZyBvZiB0b2tlbnMuXG4gKlxuICogY29uZmlnKCdub19pbXBsaWNpdF90b2tlbl9yZWZyZXNoJylcbiAqIERpc2FibGVzIGltcGxpY2l0IHJlZnJlc2hpbmcgb2YgdG9rZW5zLlxuICpcbiAqIEBwYXJhbSB7Kn0gZmVhdHVyZSBUaGUgc3RyaW5nIGlkZW50aWZpZXIgZm9yIHRoZSBmZWF0dXJlLCBzdGFydGluZyB3aXRoIFwibm9fXCIgaWZcbiAqICAgICAgICAgICAgICAgICAgICB5b3Ugd2lzaCB0byBkaXNhYmxlIGl0LlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb25maWcoZmVhdHVyZSkge1xuICBpZiAoIXN1cHBvcnRlZChmZWF0dXJlKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgJyR7ZmVhdHVyZX0nIGlzIG5vdCBzdXBwb3J0ZWQhYCk7XG4gIH1cblxuICBpZiAoZmVhdHVyZT8uc3RhcnRzV2l0aCgnbm9fJykpIHtcbiAgICBjb25zdCBjdXQgPSBmZWF0dXJlLnN1YnN0cmluZyhmZWF0dXJlLmluZGV4T2YoJ18nKSArIDEpO1xuXG4gICAgLy8gV2Ugd2lsbCBvbmx5IGFwcGVuZCB0aGlzIGlmIGl0IGlzbid0IGFscmVhZHkgaW4gdGhlcmUuXG4gICAgaWYgKGNvbmZpZ0VuYWJsZWQoY3V0KSkge1xuICAgICAgZGlzYWJsZWQucHVzaChjdXQpO1xuICAgIH1cblxuICAvLyBPbmx5IGRlbGV0ZSB0aGUgZmVhdHVyZSBpZiBpdCdzIGFscmVhZHkgZGlzYWJsZWQuXG4gIH0gZWxzZSBpZiAoIWNvbmZpZ0VuYWJsZWQoZmVhdHVyZSkpIHtcbiAgICBkaXNhYmxlZC5zcGxpY2UoZGlzYWJsZWQuaW5kZXhPZihmZWF0dXJlKSwgMSk7XG4gIH1cbn1cbiIsIi8vIEV4Y2hhbmdlcyBzdXBwb3J0ZWQgYnkgV2VhbHRoc2ltcGxlIFRyYWRlXG4vLyAnQ0MnIGlzIG5vdCBhbiBleGNoYW5nZTsgaXQgc3RhbmRzIGZvciBDcnlwdG8gY3VycmVuY3kgYW5kXG4vLyBpdCBhbGxvd3MgdXMgdG8gZGlzdGluZ3Vpc2ggaXQgZnJvbSBjb252ZW50aW9uYWwgc2VjdXJpdGllcy5cbmNvbnN0IGV4Y2hhbmdlcyA9IFsnTkFTREFRJywgJ05ZU0UnLCAnVFNYJywgJ1RTWC1WJywgJ05FTycsICdDQyddO1xuXG4vKipcbiAqIFRpY2tlciBwcm92aWRlcyBhIGxvZ2ljYWwgZW5jYXBzdWxhdGlvbiBmb3IgdGhlIGFsbG93ZWQgZm9ybXNcbiAqIG9mIGEgc2VjdXJpdHkgdGlja2VyIHdpdGhpbiB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFwcGxpY2F0aW9uLlxuICpcbiAqIEl0IHByb3ZpZGVzIHZhbGlkYXRpb24gb2YgdGhlIGZvcm1hdCBvZiB0aGUgdGlja2VyLCBhbmQgdGhlXG4gKiB2YWx1ZSBvZiB0aGUgZXhjaGFuZ2UsIGlmIHByb3ZpZGVkLlxuICpcbiAqIFRpY2tlcnMgbWF5IGJlIHNwZWNpZmllZCBhcyB0d28gZGF0YSB0eXBlczpcbiAqXG4gKiAtIHN0cmluZzogVGhlIHRpY2tlciBtYXkgYmUgYSBzaW1wbGUgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIHN5bWJvbCwgb3IgYSBjb21iaW5hdGlvbiBvZlxuICogdGhlIHN5bWJvbCBhbmQgZXhjaGFuZ2Ugc2VwYXJhdGVkIGJ5IGEgY29sb24uXG4gKiAtIG9iamVjdDogVGhlIHRpY2tlciBtYXkgYmUgYW4gb2JqZWN0IHdpdGggc3ltYm9sLCBleGNoYW5nZSwgb3IgaWQgcHJvcGVydGllcy5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiBcIkFBUExcIlxuICogXCJVQkVSOk5ZU0VcIlxuICogeyBzeW1ib2w6IFwiQUFQTFwiIH1cbiAqIHsgc3ltYm9sOiBcIlVCRVJcIiwgZXhjaGFuZ2U6IFwiTllTRVwiIH1cbiAqIHsgaWQ6IFwic2VjLXMtNzZhNzE1NTI0MmU4NDc3ODgwY2JiNDMyNjkyMzVjYjZcIiB9XG4gKi9cbmNsYXNzIFRpY2tlciB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIHRoZSB0aWNrZXIgb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBzZWN1cml0eSB0aWNrZXIgdmFsdWUsIHByb3ZpZGVkIGFzIGEgc3RyaW5nIG9yIGFuIG9iamVjdCB3aXRoIHN5bWJvbCxcbiAgICogZXhjaGFuZ2UsIG9yIGlkLlxuICAgKi9cbiAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICB0aGlzLnN5bWJvbCA9IG51bGw7XG4gICAgdGhpcy5leGNoYW5nZSA9IG51bGw7XG4gICAgdGhpcy5pZCA9IG51bGw7XG4gICAgdGhpcy5jcnlwdG8gPSBmYWxzZTtcblxuICAgIGlmICh0eXBlb2YgKHZhbHVlKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIEVtcHR5IHRpY2tlcnMgYXJlIG5vdCBhbGxvd2VkXG4gICAgICBpZiAodmFsdWUgPT09ICcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRW1wdHkgdGlja2VyJyk7XG4gICAgICB9XG5cbiAgICAgIFt0aGlzLnN5bWJvbCwgdGhpcy5leGNoYW5nZV0gPSB2YWx1ZS5zcGxpdCgnOicpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBZb3UgbmVlZCBhdCBsZWFzdCBhIHN5bWJvbCBvciBpZCB0byBmb3JtIGEgdGlja2VyLlxuICAgICAgaWYgKCF2YWx1ZS5zeW1ib2wgJiYgIXZhbHVlLmlkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0aWNrZXIgJyR7dmFsdWV9J2ApO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN5bWJvbCA9IHZhbHVlLnN5bWJvbCB8fCBudWxsO1xuICAgICAgdGhpcy5leGNoYW5nZSA9IHZhbHVlLmV4Y2hhbmdlIHx8IG51bGw7XG4gICAgICB0aGlzLmlkID0gdmFsdWUuaWQgfHwgbnVsbDtcbiAgICB9XG5cbiAgICAvLyBHdWFyYW50ZWUgdGhhdCB0aGUgZXhjaGFuZ2UgaXMgdmFsaWQgaWYgbm90IG51bGxcbiAgICBpZiAodGhpcy5leGNoYW5nZSAmJiAhZXhjaGFuZ2VzLmluY2x1ZGVzKHRoaXMuZXhjaGFuZ2UpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZXhjaGFuZ2UgJyR7dGhpcy5leGNoYW5nZX0nIWApO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgY3J5cHRvIHByb3BlcnR5IHRvIHRydWUgdG8gdHJlYXQgdGhpcyBzZWN1cml0eSBhcyBjcnlwdG9jdXJyZW5jeVxuICAgIGlmICh0aGlzLmV4Y2hhbmdlID09PSAnQ0MnIHx8IHRoaXMuaWQ/LnN0YXJ0c1dpdGgoJ3NlYy16JykpIHtcbiAgICAgIHRoaXMuY3J5cHRvID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBXZWFsdGhzaW1wbGUgVHJhZGUgZG9lc24ndCBoYXZlIGEgc2hvcnQgZXhjaGFuZ2UgaWQgKCdORU8nKSBmb3JcbiAgICAvLyBBRVFVSVRBUyBORU8gRVhDSEFOR0UgZm9yIHNvbWUgcmVhc29uLi4uXG4gICAgLy8gV2UgaGF2ZSB0byBtYXAgaXQgdG8gdGhlIGZ1bGwgbmFtZSBmb3IgY29tcGFyaXNvbnMgdG8gd29yay5cbiAgICBpZiAodGhpcy5leGNoYW5nZSA9PT0gJ05FTycpIHtcbiAgICAgIHRoaXMuZXhjaGFuZ2UgPSAnQUVRVUlUQVMgTkVPIEVYQ0hBTkdFJztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVkdWNlcyB0aGUgdGlja2VyIG9iamVjdCB0byBhIHN0cmluZyByZXByZXNlbnRhdGlvbi5cbiAgICovXG4gIGZvcm1hdCgpIHtcbiAgICBpZiAodGhpcy5pZCkge1xuICAgICAgcmV0dXJuIHRoaXMuaWQ7XG4gICAgfVxuXG4gICAgLy8gV2UgbXVzdCByZXRyYW5zbGF0ZSB0aGUgZnVsbCBuYW1lIG9mIHRoZSBORU8gZXhjaGFuZ2UgYmFjayB0byBORU9cbiAgICBpZiAodGhpcy5leGNoYW5nZSA9PT0gJ0FFUVVJVEFTIE5FTyBFWENIQU5HRScpIHtcbiAgICAgIHJldHVybiBgJHt0aGlzLnN5bWJvbH06TkVPYDtcbiAgICB9XG5cbiAgICByZXR1cm4gYCR7dGhpcy5zeW1ib2x9JHt0aGlzLmV4Y2hhbmdlID8gYDoke3RoaXMuZXhjaGFuZ2V9YCA6ICcnfWA7XG4gIH1cblxuICAvKipcbiAgICogQ29tcGFyZXMgc3ltYm9sIG9yIGlkIHdpdGggYW5vdGhlciB0aWNrZXIuIFRoaXMgaXMgd2VhayBiZWNhdXNlXG4gICAqIGV4Y2hhbmdlIGlzIG5vdCBjb21wYXJlZCBoZXJlLCBhbGxvd2luZyBmb3IgZmFsc2UgcG9zaXRpdmVzXG4gICAqIG9mIHN5bWJvbHMgb24gZGlmZmVyZW50IGV4Y2hhbmdlcy5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBvdGhlciBUaWNrZXIgdG8gY29tcGFyZSB1cyB3aXRoXG4gICAqL1xuICB3ZWFrRXF1YWxzKG90aGVyKSB7XG4gICAgaWYgKHRoaXMuaWQgJiYgdGhpcy5pZCA9PT0gb3RoZXIuaWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN5bWJvbCAmJiB0aGlzLnN5bWJvbCA9PT0gb3RoZXIuc3ltYm9sICYmIHRoaXMuY3J5cHRvID09PSBvdGhlci5jcnlwdG8pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUaWNrZXI7XG4iLCIvKipcbiAqIENvbXB1dGVzIHRoZSBjdXJyZW50IHRpbWUgaW4gZXBvY2ggc2Vjb25kcy5cbiAqL1xuY29uc3QgZXBvY2hTZWNvbmRzID0gKCkgPT4gcGFyc2VJbnQoRGF0ZS5ub3coKSAvIDEwMDAsIDEwKTtcbmV4cG9ydCBkZWZhdWx0IGVwb2NoU2Vjb25kcztcbiIsImltcG9ydCBlcG9jaFNlY29uZHMgZnJvbSAnLi4vaGVscGVycy90aW1lJztcblxuLyoqXG4gKiBUaGlzIG1vZHVsZSB3aWxsIHByb3ZpZGUgYSB1bmlmb3JtIGludGVyZmFjZSBmb3Igc3RvcmFnZVxuICogYW5kIHJldHJpZXZhbCBvZiBhdXRoZW50aWNhdG9uIHRva2VucyB0aHJvdWdob3V0IHdzdHJhZGUtYXBpLlxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIGFjY2VzczogbnVsbCxcbiAgcmVmcmVzaDogbnVsbCxcbiAgZXhwaXJlczogbnVsbCxcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgYXV0aGVudGljYXRpb24gdG9rZW5zLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHRva2VucyBUaGUgbmV3IHRva2Vuc1xuICAgKi9cbiAgc3RvcmUodG9rZW5zKSB7XG4gICAgdGhpcy5hY2Nlc3MgPSB0b2tlbnMuYWNjZXNzO1xuICAgIHRoaXMucmVmcmVzaCA9IHRva2Vucy5yZWZyZXNoO1xuICAgIHRoaXMuZXhwaXJlcyA9IHRva2Vucy5leHBpcmVzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGN1cnJlbnQgdG9rZW5zIGhhdmUgZXhwaXJlZC5cbiAgICovXG4gIGV4cGlyZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXhwaXJlcyAmJiBlcG9jaFNlY29uZHMoKSA+PSB0aGlzLmV4cGlyZXM7XG4gIH0sXG59O1xuIiwiaW1wb3J0IEFQSUNhY2hlIGZyb20gJy4uL2NvcmUvY2FjaGUnO1xuaW1wb3J0IFRpY2tlciBmcm9tICcuLi9jb3JlL3RpY2tlcic7XG5cbmNvbnN0IGNhY2hlID0gbmV3IEFQSUNhY2hlKDEwKTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICAvKipcbiAgICAgKiBRdWVyeSB0aGUgY2FjaGUgZm9yIHRoZSBzZWN1cml0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gc2VjdXJpdHlcbiAgICAgKi9cbiAgZ2V0KHNlY3VyaXR5KSB7XG4gICAgLy8gTXVzdCBkaWdlc3QgdGhlIHNlY3VyaXR5IGludG8gdGhlIHN0YW5kYXJkIGZvcm1hdFxuICAgIGNvbnN0IHJlc3VsdCA9IGNhY2hlLmdldChuZXcgVGlja2VyKHNlY3VyaXR5KS5mb3JtYXQoKSk7XG5cbiAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG5cbiAgLyoqXG4gICAgICogUmVtZW1iZXIgdGhlIHNlY3VyaXR5IGZvciBhIGZ1dHVyZSBxdWljayByZXRyaWV2YWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IGtleVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICAgKi9cbiAgaW5zZXJ0KGtleSwgdmFsdWUpIHtcbiAgICBjYWNoZS5pbnNlcnQobmV3IFRpY2tlcihrZXkpLmZvcm1hdCgpLCB2YWx1ZSk7XG4gIH0sXG59O1xuIiwiLypcbiAqIEFQSUNhY2hlIGlzIGFuIGludGVybmFsIGVmZm9ydCB0byBtaW5pbWl6ZSB1bm5lY2Vzc2FyeSBBUEkgY2FsbHMgd2hlcmVcbiAqIHBvc3NpYmxlLiBBIHNwZWNpZmljIHVzZWNhc2Ugd2hlcmUgYSBjYWNoZSBpcyB1c2VmdWwgaXMgZmlndXJpbmcgb3V0IHRoZVxuICogZXhjaGFuZ2UgYSBzZWN1cml0eSBiZWxvbmdzIHRvLiBBIGNhY2hlIHdvdWxkIGFsbG93IHVzIHRvIG1lbW9yaXplXG4gKiB0aGlzIHN0YXRpYyBkYXRhIGZvciBhIHBlcmlvZCBvZiB0aW1lIHRvIGF2b2lkIHVubmVjZXNzYXJ5IEFQSSBjYWxscy5cbiAqXG4gKiBUaGUgY2xhc3MgZW5jYXBzdWxhdGVzIHRoZSBmb2xsb3dpbmcgY2FjaGUgYmVoYXZpb3VyOlxuICogLSBBIG1heGltdW0gZW50cmllcyBwcm92aWRlZCBhcyBhIGNvbnN0cnVjdG9yIGFyZ3VtZW50XG4gKiAtIEZpcnN0IGluLCBGaXJzdCBvdXQgKEZJRk8pIG1vZGVsXG4gKlxuICogVGhlIGludGVybmVsIGRhdGEgc3RydWN0dXJlIGlzIGEgSGFzaFNldCwgc28gbG9va3VwIHRpbWUgY29zdCBpcyBmYWlybHlcbiAqIG1pbmltYWwuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFQSUNhY2hlIHtcbiAgY29uc3RydWN0b3Ioc2l6ZSkge1xuICAgIHRoaXMuY2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgfVxuXG4gIC8qKlxuICAgICAqIFN0b3JlIHRoZSBrZXktdmFsdWUgcGFpciBpbnRvIHRoaXMgY2FjaGUuIFRoZSBvbGRlc3QgZW50cnkgaXMgZXZpY3RlZCBpZlxuICAgICAqIHdlJ3JlIG91dCBvZiBzcGFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0ga2V5XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqL1xuICBpbnNlcnQoa2V5LCB2YWx1ZSkge1xuICAgIGlmICh0aGlzLmNhY2hlLnNpemUgPj0gdGhpcy5zaXplKSB7XG4gICAgICB0aGlzLmNhY2hlLmRlbGV0ZSh0aGlzLmNhY2hlLmtleXMoKS5uZXh0KCkudmFsdWUpO1xuICAgIH1cblxuICAgIHRoaXMuY2FjaGUuc2V0KGtleSwgdmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAgICogUmV0cmlldmUgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IGFzc29jaWF0ZWQgd2l0aCB0aGUga2V5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBrZXlcbiAgICAgKi9cbiAgZ2V0KGtleSkge1xuICAgIHJldHVybiB0aGlzLmNhY2hlLmdldChrZXkpO1xuICB9XG59XG4iLCJpbXBvcnQgZW5kcG9pbnRzIGZyb20gJy4vYXBpL2VuZHBvaW50cyc7XG5pbXBvcnQgaGFuZGxlUmVxdWVzdCBmcm9tICcuL25ldHdvcmsvaHR0cHMnO1xuaW1wb3J0IFRpY2tlciBmcm9tICcuL2NvcmUvdGlja2VyJztcbmltcG9ydCB7IGNvbmZpZ0VuYWJsZWQgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgY2FjaGUgZnJvbSAnLi9vcHRpb25hbC9zZWN1cml0aWVzLWNhY2hlJztcblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIC8qKlxuICAgKiBBIHNuYXBzaG90IG9mIHRoZSBjdXJyZW50IFVTRC9DQUQgZXhjaGFuZ2UgcmF0ZXMgb24gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZVxuICAgKiBwbGF0Zm9ybS5cbiAgICovXG4gIGV4Y2hhbmdlUmF0ZXM6IGFzeW5jICgpID0+IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLkVYQ0hBTkdFX1JBVEVTLCB7fSksXG5cbiAgLyoqXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IGEgc2VjdXJpdHkgb24gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBQbGF0Zm9ybS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSB1c2VyVGlja2VyIFRoZSBzZWN1cml0eSBpZFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGV4dGVuc2l2ZSBQdWxscyBhIG1vcmUgZGV0YWlsZWQgcmVwb3J0IG9mIHRoZSBzZWN1cml0eSB1c2luZyB0aGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgL3NlY3VyaXRpZXMve2lkfSBBUElcbiAgICovXG4gIGdldFNlY3VyaXR5OiBhc3luYyAodXNlclRpY2tlciwgZXh0ZW5zaXZlKSA9PiB7XG4gICAgbGV0IHJlc3VsdCA9IG51bGw7XG5cbiAgICAvLyBSdW4gc29tZSB2YWxpZGF0aW9uIG9uIHRoZSB0aWNrZXJcbiAgICBjb25zdCB0aWNrZXIgPSBuZXcgVGlja2VyKHVzZXJUaWNrZXIpO1xuXG4gICAgaWYgKCFleHRlbnNpdmUgJiYgY29uZmlnRW5hYmxlZCgnc2VjdXJpdGllc19jYWNoZScpKSB7XG4gICAgICByZXN1bHQgPSBjYWNoZS5nZXQodGlja2VyKTtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGlja2VyLmlkKSB7XG4gICAgICAvLyBXZSB3aWxsIGltbWVkaWF0ZWx5IGNhbGwgdGhlIGV4dGVuc2l2ZSBkZXRhaWxzIEFQSSBzaW5jZSB3ZSBoYXZlIHRoZSB1bmlxdWUgaWQuXG4gICAgICByZXN1bHQgPSBhd2FpdCBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5FWFRFTlNJVkVfU0VDVVJJVFlfREVUQUlMUywgeyBpZDogdGlja2VyLmlkIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBhd2FpdCBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5TRUNVUklUWSwgeyB0aWNrZXI6IHRpY2tlci5zeW1ib2wgfSk7XG4gICAgICByZXN1bHQgPSByZXN1bHQuZmlsdGVyKChzZWN1cml0eSkgPT4gc2VjdXJpdHkuc3RvY2suc3ltYm9sID09PSB0aWNrZXIuc3ltYm9sKTtcblxuICAgICAgaWYgKHRpY2tlci5jcnlwdG8pIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmZpbHRlcigoc2VjdXJpdHkpID0+IHNlY3VyaXR5LnNlY3VyaXR5X3R5cGUgPT09ICdjcnlwdG9jdXJyZW5jeScpO1xuICAgICAgfSBlbHNlIGlmICh0aWNrZXIuZXhjaGFuZ2UpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmZpbHRlcigoc2VjdXJpdHkpID0+IHNlY3VyaXR5LnN0b2NrLnByaW1hcnlfZXhjaGFuZ2UgPT09IHRpY2tlci5leGNoYW5nZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ011bHRpcGxlIHNlY3VyaXRpZXMgbWF0Y2hlZCBxdWVyeS4nKTtcbiAgICAgIH0gaWYgKHJlc3VsdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBzZWN1cml0aWVzIG1hdGNoZWQgcXVlcnkuJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbnZlcnQgcmVzdWx0IGZyb20gYSBzaW5nbGV0b24gbGlzdCB0byBpdHMgcmF3IGVudHJ5XG4gICAgICBbcmVzdWx0XSA9IHJlc3VsdDtcblxuICAgICAgaWYgKGV4dGVuc2l2ZSkge1xuICAgICAgICAvLyBUaGUgY2FsbGVyIGhhcyBvcHRlZCB0byByZWNlaXZlIHRoZSBleHRlbnNpdmUgZGV0YWlscyBhYm91dCB0aGUgc2VjdXJpdHkuXG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLkVYVEVOU0lWRV9TRUNVUklUWV9ERVRBSUxTLCB7IGlkOiByZXN1bHQuaWQgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZ0VuYWJsZWQoJ3NlY3VyaXRpZXNfY2FjaGUnKSAmJiBjYWNoZS5nZXQodGlja2VyKSA9PT0gbnVsbCkge1xuICAgICAgY2FjaGUuaW5zZXJ0KHRpY2tlciwgcmVzdWx0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LFxufTtcbiIsImltcG9ydCB7IEhlYWRlcnMgfSBmcm9tICdub2RlLWZldGNoJztcblxuY29uc3QgY3VzdG9tSGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAvKipcbiAgICogQXBwZW5kcyBhIGhlYWRlciBuYW1lLXZhbHVlIHBhaXIgdG8gYWxsIHJlcXVlc3RzLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IG5hbWUgSGVhZGVyIGtleVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIEhlYWRlciB2YWx1ZVxuICAgKi9cbiAgYWRkOiAobmFtZSwgdmFsdWUpID0+IGN1c3RvbUhlYWRlcnMuYXBwZW5kKG5hbWUsIHZhbHVlKSxcblxuICAvKipcbiAgICogUmVtb3ZlcyBhIGN1c3RvbSBoZWFkZXIgZnJvbSBhbGwgcmVxdWVzdHMuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gbmFtZSBIZWFkZXIga2V5XG4gICAqL1xuICByZW1vdmU6IChuYW1lKSA9PiBjdXN0b21IZWFkZXJzLmRlbGV0ZShuYW1lKSxcblxuICAvKipcbiAgICogQ2xlYXJzIGFsbCBjdXN0b20gaGVhZGVycy5cbiAgICovXG4gIGNsZWFyOiAoKSA9PiBbLi4uY3VzdG9tSGVhZGVyc10uZm9yRWFjaCgoaGVhZGVyKSA9PiBjdXN0b21IZWFkZXJzLmRlbGV0ZShoZWFkZXJbMF0pKSxcblxuICAvKipcbiAgICogUHJvZHVjZXMgYSBsaXN0IG9mIGN1c3RvbSBoZWFkZXJzLlxuICAgKi9cbiAgdmFsdWVzOiAoKSA9PiBbLi4uY3VzdG9tSGVhZGVyc10sXG59O1xuIiwicmVxdWlyZSgnc291cmNlLW1hcC1zdXBwb3J0JykuaW5zdGFsbCgpO1xuXG5jb25zdCBhdXRoID0gcmVxdWlyZSgnLi9hdXRoJykuZGVmYXVsdDtcbmNvbnN0IGhlYWRlcnMgPSByZXF1aXJlKCcuL2hlYWRlcnMnKS5kZWZhdWx0O1xuY29uc3QgYWNjb3VudHMgPSByZXF1aXJlKCcuL2FjY291bnRzJykuZGVmYXVsdDtcbmNvbnN0IG9yZGVycyA9IHJlcXVpcmUoJy4vb3JkZXJzJykuZGVmYXVsdDtcbmNvbnN0IGRhdGEgPSByZXF1aXJlKCcuL2RhdGEnKS5kZWZhdWx0O1xuY29uc3QgcXVvdGVzID0gcmVxdWlyZSgnLi9xdW90ZXMnKS5kZWZhdWx0O1xuY29uc3QgY29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcnKS5kZWZhdWx0O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYXV0aCxcbiAgaGVhZGVycyxcbiAgYWNjb3VudHMsXG4gIG9yZGVycyxcbiAgcXVvdGVzLFxuICBkYXRhLFxuICBjb25maWcsXG59O1xuIiwiaW1wb3J0IGZldGNoLCB7IEhlYWRlcnMgfSBmcm9tICdub2RlLWZldGNoJztcbmltcG9ydCBjdXN0b21IZWFkZXJzIGZyb20gJy4uL2hlYWRlcnMnO1xuaW1wb3J0IHRva2VucyBmcm9tICcuLi9jb3JlL3Rva2Vucyc7XG5pbXBvcnQgZW5kcG9pbnRzIGZyb20gJy4uL2FwaS9lbmRwb2ludHMnO1xuaW1wb3J0IHsgY29uZmlnRW5hYmxlZCB9IGZyb20gJy4uL2NvbmZpZyc7XG5cbmNvbnN0IFtIVFRQX09LLCBIVFRQX0NSRUFURURdID0gWzIwMCwgMjAxXTtcblxuLypcbiAqIENvbXBsZXRlIHRoZSBVUkwgYnkgZmlsbGluZyB0aGUgcGFyYW1ldGVyIHBsYWNlaG9sZGVycyB3aXRoIHRoZVxuICogZGF0YSBhcmd1bWVudHMuXG4gKi9cbmZ1bmN0aW9uIGZpbmFsaXplUmVxdWVzdChlbmRwb2ludCwgZGF0YSkge1xuICAvLyBNYWtlIGEgY29weSBzbyB3ZSBkb24ndCBtb2RpZnkgdGhlIG9yaWdpbmFsIG9uZS5cbiAgY29uc3QgcGFyYW1zID0geyAuLi5kYXRhIH07XG4gIGxldCB7IHVybCB9ID0gZW5kcG9pbnQ7XG5cbiAgLy8gTm8gbmVlZCB0byBkbyBhbnl0aGluZyBpZiB0aGUgVVJMIGlzIHN0YXRpYyAobm8gcGFyYW1ldGVycylcbiAgaWYgKGVuZHBvaW50LnBhcmFtZXRlcnMpIHtcbiAgICAvLyBTd2FwIGFsbCB0aGUgcGFyYW1ldGVyIHBsYWNlaG9sZGVycyB3aXRoIHRoZSBhcmd1bWVudHMuXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IE9iamVjdC5rZXlzKGVuZHBvaW50LnBhcmFtZXRlcnMpLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgY29uc3QgcGFyYW1ldGVyTmFtZSA9IGVuZHBvaW50LnBhcmFtZXRlcnNbaW5kZXhdO1xuXG4gICAgICAvLyB3ZSBoYXZlIHRvIGV4cGxpY2l0bHkgY2hlY2sgZm9yIG51bGwgYW5kIHVuZGVmaW5lZCBzaW5jZSBwYXJhbWV0ZXJcbiAgICAgIC8vIHZhbHVlcyBtaWdodCBiZSAwLlxuICAgICAgaWYgKHBhcmFtc1twYXJhbWV0ZXJOYW1lXSA9PT0gbnVsbCB8fCBwYXJhbXNbcGFyYW1ldGVyTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVSTCBwYXJhbWV0ZXIgJyR7cGFyYW1ldGVyTmFtZX0nIG1pc3NpbmchYCk7XG4gICAgICB9XG5cbiAgICAgIC8qXG4gICAgICAgKiBQYXJhbWV0ZXJzIHN1cnJvdW5kZWQgd2l0aCBjdXJseSBicmFjZXMgKGUuZy4sIHsyfSkgYXJlIHNpbXBsZSB2YWx1ZSByZXBsYWNlbWVudHMsXG4gICAgICAgKiB3aGlsZSBvbmVzIHN1cnJvdW5kZWQgd2l0aCBzcXVhcmUgYnJhY2tldHMgKGUuZy4sIFsxXSkgYXJlIGFycmF5LXZhbHVlIHJlcGxhY2VtZW50cy5cbiAgICAgICAqL1xuICAgICAgaWYgKHVybC5pbmRleE9mKGB7JHtpbmRleH19YCkgPj0gMCkge1xuICAgICAgICB1cmwgPSB1cmwucmVwbGFjZShgeyR7aW5kZXh9fWAsIHBhcmFtc1tlbmRwb2ludC5wYXJhbWV0ZXJzW2luZGV4XV0pO1xuICAgICAgfSBlbHNlIGlmICh1cmwuaW5kZXhPZihgWyR7aW5kZXh9XWApID49IDApIHtcblxuICAgICAgICAvLyBleHRyYWN0IHF1ZXJ5IHBhcmFtZXRlciBuYW1lIGFuZCB0aGUgYXJyYXkgb2YgdmFsdWVzXG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1OYW1lID0gZW5kcG9pbnQucGFyYW1ldGVyc1tpbmRleF07XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IHBhcmFtc1txdWVyeVBhcmFtTmFtZV07XG5cbiAgICAgICAgLy8gQ29uc3RydWN0IHRoZSBxdWVyeVBhcmFtIHVzaW5nIGV2ZXJ5IHZhbHVlIGluIHRoZSB2YWx1ZXMgYXJyYXlcbiAgICAgICAgLy8gSGVyZSBpcyBhbiBleGFtcGxlIG9mIHdoYXQgcXVlcnlQYXJhbSBlbmRzIHVwIGJlaW5nOlxuICAgICAgICAvL1xuICAgICAgICAvLyBxdWVyeVBhcmFtTmFtZSA9ICd0eXBlJ1xuICAgICAgICAvLyB2YWx1ZXMgPSBbJ2J1eScsICdzZWxsJywgJ2RpdmlkZW5kJ11cbiAgICAgICAgLy8gcXVlcnlQYXJhbSA9ICd0eXBlPWJ1eSZ0eXBlPXNlbGwmdHlwZT1kaXZpZGVuZCdcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbSA9IHZhbHVlcy5tYXAoKHZhbHVlKSA9PiBgJHtxdWVyeVBhcmFtTmFtZX09JHt2YWx1ZX1gKS5qb2luKCcmJyk7XG5cbiAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoYFske2luZGV4fV1gLCBxdWVyeVBhcmFtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWFsZm9ybWVkIFVSTCEgVGhpcyBpcyBhbiBpbnRlcm5hbCBlcnJvcjogcmFpc2UgYW4gaXNzdWUhJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIE11c3QgcmVtb3ZlIHRoaXMga2V5IGZyb20gdGhlIHBheWxvYWQgYXMgaXQgaGFzIGJlZW4gY29uc3VtZWQgYnkgdGhlIFVSTFxuICAgICAgZGVsZXRlIHBhcmFtc1tlbmRwb2ludC5wYXJhbWV0ZXJzW2luZGV4XV07XG4gICAgfVxuICB9XG5cbiAgLy8gTm8gcGF5bG9hZCBhdHRhY2hlZCB0byBHRVQvREVMRVRFIHJlcXVlc3RzXG4gIGlmIChbJ0dFVCcsICdIRUFEJ10uaW5jbHVkZXMoZW5kcG9pbnQubWV0aG9kKSkge1xuICAgIHJldHVybiB7IHVybCwgcGF5bG9hZDogdW5kZWZpbmVkIH07XG4gIH1cblxuICByZXR1cm4geyB1cmwsIHBheWxvYWQ6IEpTT04uc3RyaW5naWZ5KHBhcmFtcykgfTtcbn1cblxuLypcbiAqIEltcGxlbWVudHMgdGhlIG5ldHdvcmsgbGV2ZWwgcHJvdG9jb2wgZm9yIHRhbGtpbmcgdG8gdGhlXG4gKiBXZWFsdGhzaW1wbGUgVHJhZGUgSFRUUFMgQVBJLlxuICovXG5hc3luYyBmdW5jdGlvbiB0YWxrKGVuZHBvaW50LCBkYXRhKSB7XG4gIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICBoZWFkZXJzLmFwcGVuZCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICBpZiAoZW5kcG9pbnQuYXV0aGVudGljYXRlZCkge1xuICAgIC8vIG5vIGFjY2VzcyB0b2tlbiBtZWFucyB3ZSB3aWxsIHByZW1hdHVyZWx5IGZhaWwgdGhlIHJlcXVlc3QgYmVjYXVzZVxuICAgIC8vIHRoaXMgaXMgYSBwcml2aWxlZ2VkIGVuZHBvaW50LlxuICAgIGlmICghdG9rZW5zLmFjY2Vzcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBBdXRoZW50aWNhdGlvbiByZXF1aXJlZCBmb3IgJyR7ZW5kcG9pbnQudXJsfSdgKTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnRW5hYmxlZCgnaW1wbGljaXRfdG9rZW5fcmVmcmVzaCcpKSB7XG4gICAgICBhd2FpdCBpbXBsaWNpdFRva2VuUmVmcmVzaCgpO1xuICAgIH1cblxuICAgIGhlYWRlcnMuYXBwZW5kKCdBdXRob3JpemF0aW9uJywgdG9rZW5zLmFjY2Vzcyk7XG4gIH1cblxuICAvLyBBcHBseSBhbGwgY3VzdG9tIGhlYWRlcnNcbiAgY3VzdG9tSGVhZGVycy52YWx1ZXMoKS5mb3JFYWNoKChoZWFkZXIpID0+IGhlYWRlcnMuYXBwZW5kKC4uLmhlYWRlcikpO1xuXG4gIC8vIGZpbGwgcGF0aCBhbmQgcXVlcnkgcGFyYW1ldGVycyBpbiB0aGUgVVJMXG4gIGNvbnN0IHsgdXJsLCBwYXlsb2FkIH0gPSBmaW5hbGl6ZVJlcXVlc3QoZW5kcG9pbnQsIGRhdGEpO1xuXG4gIHJldHVybiBmZXRjaCh1cmwsIHtcbiAgICBib2R5OiBwYXlsb2FkLFxuICAgIG1ldGhvZDogZW5kcG9pbnQubWV0aG9kLFxuICAgIGhlYWRlcnMsXG4gIH0pO1xufVxuXG4vKlxuICogRnVsZmlsbCB0aGUgZW5kcG9pbnQgcmVxdWVzdCBnaXZlbiB0aGUgZW5kcG9pbnQgY29uZmlndXJhdGlvbiwgb3B0aW9uYWxcbiAqIGRhdGEuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVJlcXVlc3QoZW5kcG9pbnQsIGRhdGEpIHtcbiAgLy8gU3VibWl0IHRoZSBIVFRQIHJlcXVlc3QgdG8gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBTZXJ2ZXJzXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGFsayhlbmRwb2ludCwgZGF0YSk7XG5cbiAgaWYgKFtIVFRQX09LLCBIVFRQX0NSRUFURURdLmluY2x1ZGVzKHJlc3BvbnNlLnN0YXR1cykpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQub25TdWNjZXNzKHJlc3BvbnNlKTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLnJlamVjdChhd2FpdCBlbmRwb2ludC5vbkZhaWx1cmUocmVzcG9uc2UpKTtcbn1cblxuLyoqXG4gKiBPYnRhaW4gYSBuZXcgc2V0IG9mIGF1dGhlbnRpY2F0aW9uIHRva2VucyB1c2luZyB0aGVcbiAqIGV4aXN0aW5nIHJlZnJlc2ggdG9rZW4uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWZyZXNoQXV0aGVudGljYXRpb24oKSB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuUkVGUkVTSCwgeyByZWZyZXNoX3Rva2VuOiB0b2tlbnMucmVmcmVzaCB9KTtcbiAgdG9rZW5zLnN0b3JlKHJlc3BvbnNlLnRva2Vucyk7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGV4aXN0aW5nIHNldCBvZiB0b2tlbnMgaGF2ZSBleHBpcmVkLCBhdXRvbWF0aWNhbGx5XG4gKiB0cmlnZ2VyaW5nIGEgcmVmcmVzaCBpZiB0aGV5IGhhdmUgZXhwaXJlZC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gaW1wbGljaXRUb2tlblJlZnJlc2goKSB7XG4gIGlmICh0b2tlbnMuZXhwaXJlZCgpKSB7XG4gICAgaWYgKHRva2Vucy5yZWZyZXNoKSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBMZXQncyBpbXBsaWNpdGx5IHJlZnJlc2ggdGhlIGFjY2VzcyB0b2tlbiB1c2luZyB0aGUgcmVmcmVzaCB0b2tlbi5cbiAgICAgICAgYXdhaXQgcmVmcmVzaEF1dGhlbnRpY2F0aW9uKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBUaGUgcmVmcmVzaCB0b2tlbiBpcyBub3QgdmFsaWQuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIHJlZnJlc2ggZXhwaXJlZCB0b2tlbjogJHtlcnJvcn1gKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gV2UgYXJlIGZvcmNlZCB0byByZWplY3QgYXMgb3VyIGFjY2VzcyB0b2tlbiBoYXMgZXhwaXJlZCBhbmQgd2VcbiAgICAgIC8vIGRvIG5vdCBoYXZlIGEgcmVmcmVzaCB0b2tlbi5cbiAgICAgIHRocm93IG5ldyBFcnJvcignQWNjZXNzIHRva2VuIGV4cGlyZWQnKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBlbmRwb2ludHMgZnJvbSAnLi4vYXBpL2VuZHBvaW50cyc7XG5pbXBvcnQgaGFuZGxlUmVxdWVzdCBmcm9tICcuLi9uZXR3b3JrL2h0dHBzJztcbmltcG9ydCBUaWNrZXIgZnJvbSAnLi4vY29yZS90aWNrZXInO1xuXG4vLyBUaGUgbWF4aW11bSBudW1iZXIgb2Ygb3JkZXJzIHJldHJpZXZlZCBieSB0aGUgL29yZGVycyBBUEkuXG5jb25zdCBPUkRFUlNfUEVSX1BBR0UgPSAyMDtcblxuLyoqXG4gKiBDb2xsZWN0cyBvcmRlcnMgKGZpbGxlZCwgcGVuZGluZywgY2FuY2VsbGVkKSBmb3IgdGhlIHByb3ZpZGVkIHBhZ2UgYW5kXG4gKiBhY2NvdW50IGlkLlxuICpcbiAqIEBwYXJhbSB7Kn0gYWNjb3VudElkIFRoZSBzcGVjaWZpYyBhY2NvdW50IGluIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudFxuICogQHBhcmFtIHsqfSBwYWdlTnVtIFRoZSBvcmRlcnMgcGFnZSBpbmRleCB0byBzZWVrIHRvXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHBhZ2UoYWNjb3VudElkLCBwYWdlTnVtKSB7XG4gIHJldHVybiBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5PUkRFUlNfQllfUEFHRSwge1xuICAgIG9mZnNldDogKHBhZ2VOdW0gLSAxKSAqIE9SREVSU19QRVJfUEFHRSxcbiAgICBhY2NvdW50SWQsXG4gIH0pO1xufVxuXG4vKipcbiAqIENvbGxlY3RzIGFsbCBvcmRlcnMgKGZpbGxlZCwgcGVuZGluZywgY2FuY2VsbGVkKSBmb3IgdGhlIHNwZWNpZmljIGFjY291bnQuXG4gKlxuICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIHNwZWNpZmljIGFjY291bnQgaW4gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGFsbChhY2NvdW50SWQpIHtcbiAgLy8gV2Ugc3RhcnQgYnkgY2FwdHVyaW5nIHRoZSBmaXJzdCBwYWdlIG9mIG9yZGVycyBpbiBvcmRlciB0b1xuICAvLyBkZXRlcm1pbmUgdGhlIG51bWJlciBvZiBwYWdlcyBhdmFpbGFibGVcbiAgY29uc3QgZGF0YSA9IGF3YWl0IHBhZ2UoYWNjb3VudElkLCAxKTtcbiAgY29uc3QgcGFnZXMgPSBNYXRoLmNlaWwoZGF0YS50b3RhbCAvIE9SREVSU19QRVJfUEFHRSk7XG5cbiAgaWYgKHBhZ2VzID4gMSkge1xuICAgIGNvbnN0IHRhc2tzID0gW107XG5cbiAgICAvLyBCdWlsZCB0aGUgdGFzayBxdWV1ZSB0aGF0IHdpbGwgcmV0cmlldmUgdGhlIHJlbWFpbmluZyBwYWdlcyBvZiBvcmRlcnNcbiAgICBmb3IgKGxldCBwYWdlTnVtID0gMjsgcGFnZU51bSA8PSBwYWdlczsgcGFnZU51bSsrKSB7XG4gICAgICB0YXNrcy5wdXNoKHBhZ2UoYWNjb3VudElkLCBwYWdlTnVtKS50aGVuKChyZXN1bHQpID0+IHJlc3VsdC5vcmRlcnMpKTtcbiAgICB9XG5cbiAgICAvLyBPdXQtb2Ytb3JkZXIgaW52b2NhdGlvbiBpcyBkZXNpcmVkLiBXaGF0IG1hdHRlcnMgaXMgdGhhdCBQcm9taXNlLmFsbCB3aWxsXG4gICAgLy8gZ3VhcmFudGVlIHRoYXQgdGhlIGRhdGEgb3JkZXIgaXMgcHJlc2VydmVkLlxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFByb21pc2UuYWxsKHRhc2tzKTtcbiAgICByZXN1bHQuZm9yRWFjaCgobGlzdCkgPT4gZGF0YS5vcmRlcnMucHVzaCguLi5saXN0KSk7XG5cbiAgICAvLyBVcGRhdGUgdGhlIHRvdGFsIGF0dHJpYnV0ZSB0byByZWZsZWN0IHRoZSBuZXcgc2l6ZVxuICAgIGRhdGEudG90YWwgPSBkYXRhLm9yZGVycy5sZW5ndGg7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cblxuLypcbiAqIFJldHJpZXZlIGZpbHRlcmVkIG9yZGVycyBieSB0aWNrZXIgYW5kIHN0YXR1cy5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZmlsdGVyZWRPcmRlcnMoYWNjb3VudElkLCB0aWNrZXIsIHN0YXR1cykge1xuICAvLyBGZXRjaCBhbGwgb3JkZXJzXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFsbChhY2NvdW50SWQpO1xuXG4gIGNvbnN0IG9yZGVyRmlsdGVyID0gKG9yZGVyKSA9PiB7XG4gICAgaWYgKHRpY2tlcikge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gbmV3IFRpY2tlcih7IHN5bWJvbDogb3JkZXIuc3ltYm9sLCBpZDogb3JkZXIuc2VjdXJpdHlfaWQgfSk7XG4gICAgICAvLyBvcmRlciBvYmplY3RzIGRvbid0IGluY2x1ZGUgZXhjaGFuZ2VzLCBzbyB3ZSBhcmUgdW5hYmxlIHRvIG1ha2VcbiAgICAgIC8vIGEgc3Ryb25nIGNvbXBhcmlzb24gd2l0aG91dCByZXF1aXJpbmcgYSBsaW5lYXIgaW5jcmVhc2Ugb2ZcbiAgICAgIC8vIGVuZHBvaW50IGNhbGxzICh3aGljaCBpcyBub3QgcmVhc29uYWJsZSkuXG4gICAgICAvL1xuICAgICAgLy8gVGhlIHVzZXIgc2hvdWxkIHByb3ZpZGUgdGhlIHNlY3VyaXR5IGlkIGZvciBhIHN0cm9uZyBjb21wYXJpc29uIGhlcmUuXG4gICAgICBpZiAoIW5ldyBUaWNrZXIodGlja2VyKS53ZWFrRXF1YWxzKHRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvcmRlci5zdGF0dXMgPT09IHN0YXR1cztcbiAgfTtcblxuICAvLyBBcHBseSBmaWx0ZXIgdG8gdGhlIHJlc3VsdFxuICByZXN1bHQub3JkZXJzID0gcmVzdWx0Lm9yZGVycy5maWx0ZXIob3JkZXJGaWx0ZXIpO1xuICByZXN1bHQudG90YWwgPSByZXN1bHQub3JkZXJzLmxlbmd0aDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIHBhZ2UsXG4gIGFsbCxcblxuICAvKipcbiAgICogUmV0cmlldmVzIHBlbmRpbmcgb3JkZXJzIGZvciB0aGUgc3BlY2lmaWVkIHNlY3VyaXR5IGluIHRoZSBhY2NvdW50LlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgc3BlY2lmaWMgYWNjb3VudCBpbiB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnRcbiAgICogQHBhcmFtIHsqfSB0aWNrZXIgKG9wdGlvbmFsKSBUaGUgc2VjdXJpdHkgc3ltYm9sXG4gICAqL1xuICBwZW5kaW5nOiBhc3luYyAoYWNjb3VudElkLCB0aWNrZXIpID0+IGZpbHRlcmVkT3JkZXJzKGFjY291bnRJZCwgdGlja2VyLCAnc3VibWl0dGVkJyksXG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBmaWxsZWQgb3JkZXJzIGZvciB0aGUgc3BlY2lmaWVkIHNlY3VyaXR5IGluIHRoZSBhY2NvdW50LlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgc3BlY2lmaWMgYWNjb3VudCBpbiB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnRcbiAgICogQHBhcmFtIHsqfSB0aWNrZXIgKG9wdGlvbmFsKSBUaGUgc2VjdXJpdHkgc3ltYm9sXG4gICAqL1xuICBmaWxsZWQ6IGFzeW5jIChhY2NvdW50SWQsIHRpY2tlcikgPT4gZmlsdGVyZWRPcmRlcnMoYWNjb3VudElkLCB0aWNrZXIsICdwb3N0ZWQnKSxcblxuICAvKipcbiAgICogUmV0cmlldmVzIGNhbmNlbGxlZCBvcmRlcnMgZm9yIHRoZSBzcGVjaWZpZWQgc2VjdXJpdHkgaW4gdGhlIGFjY291bnQuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gYWNjb3VudElkIFRoZSBzcGVjaWZpYyBhY2NvdW50IGluIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudFxuICAgKiBAcGFyYW0geyp9IHRpY2tlciAob3B0aW9uYWwpIFRoZSBzZWN1cml0eSBzeW1ib2xcbiAgICovXG4gIGNhbmNlbGxlZDogYXN5bmMgKGFjY291bnRJZCwgdGlja2VyKSA9PiBmaWx0ZXJlZE9yZGVycyhhY2NvdW50SWQsIHRpY2tlciwgJ2NhbmNlbGxlZCcpLFxufTtcbiIsImltcG9ydCBlbmRwb2ludHMgZnJvbSAnLi4vYXBpL2VuZHBvaW50cyc7XG5pbXBvcnQgaGFuZGxlUmVxdWVzdCBmcm9tICcuLi9uZXR3b3JrL2h0dHBzJztcbmltcG9ydCBoaXN0b3J5IGZyb20gJy4vaGlzdG9yeSc7XG5pbXBvcnQgZGF0YSBmcm9tICcuLi9kYXRhJztcbmltcG9ydCBxdW90ZXMgZnJvbSAnLi4vcXVvdGVzJztcbmltcG9ydCBUaWNrZXIgZnJvbSAnLi4vY29yZS90aWNrZXInO1xuXG5jb25zdCBpc0NhbmFkaWFuU2VjdXJpdHkgPSAoZXhjaGFuZ2UpID0+IFsnVFNYJywgJ1RTWC1WJ10uaW5jbHVkZXMoZXhjaGFuZ2UpO1xuXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgLyoqXG4gICAqIENhbmNlbHMgdGhlIHBlbmRpbmcgb3JkZXIgc3BlY2lmaWVkIGJ5IHRoZSBvcmRlciBpZC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBvcmRlcklkIFRoZSBwZW5kaW5nIG9yZGVyIHRvIGNhbmNlbFxuICAgKi9cbiAgY2FuY2VsOiBhc3luYyAob3JkZXJJZCkgPT4gKHtcbiAgICBvcmRlcjogb3JkZXJJZCxcbiAgICByZXNwb25zZTogYXdhaXQgaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuQ0FOQ0VMX09SREVSLCB7IG9yZGVySWQgfSksXG4gIH0pLFxuXG4gIC8qKlxuICAgKiBDYW5jZWxzIGFsbCBwZW5kaW5nIG9yZGVycyB1bmRlciB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIEFjY291bnQuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gYWNjb3VudElkIFRoZSBzcGVjaWZpYyBhY2NvdW50IGluIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudFxuICAgKi9cbiAgYXN5bmMgY2FuY2VsUGVuZGluZyhhY2NvdW50SWQpIHtcbiAgICBjb25zdCBwZW5kaW5nID0gYXdhaXQgaGlzdG9yeS5wZW5kaW5nKGFjY291bnRJZCk7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcub3JkZXJzLm1hcChhc3luYyAob3JkZXIpID0+IHRoaXMuY2FuY2VsKG9yZGVyLm9yZGVyX2lkKSkpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNYXJrZXQgYnV5IGEgc2VjdXJpdHkgdGhyb3VnaCB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgYWNjb3VudCB0byBtYWtlIHRoZSB0cmFuc2FjdGlvbiBmcm9tXG4gICAqIEBwYXJhbSB7Kn0gdGlja2VyIFRoZSBzZWN1cml0eSBzeW1ib2xcbiAgICogQHBhcmFtIHsqfSBxdWFudGl0eSBUaGUgbnVtYmVyIG9mIHNlY3VyaXRpZXMgdG8gcHVyY2hhc2VcbiAgICovXG4gIG1hcmtldEJ1eTogYXN5bmMgKGFjY291bnRJZCwgdGlja2VyLCBxdWFudGl0eSkgPT4ge1xuICAgIGNvbnN0IGRldGFpbHMgPSBhd2FpdCBkYXRhLmdldFNlY3VyaXR5KHRpY2tlcik7XG5cbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuUExBQ0VfT1JERVIsIHtcbiAgICAgIHNlY3VyaXR5X2lkOiBkZXRhaWxzLmlkLFxuICAgICAgbGltaXRfcHJpY2U6ICEobmV3IFRpY2tlcih0aWNrZXIpLmNyeXB0bykgPyBhd2FpdCBxdW90ZXMuZ2V0KHRpY2tlcikgOiB1bmRlZmluZWQsXG4gICAgICBxdWFudGl0eSxcbiAgICAgIG9yZGVyX3R5cGU6ICdidXlfcXVhbnRpdHknLFxuICAgICAgb3JkZXJfc3ViX3R5cGU6ICdtYXJrZXQnLFxuICAgICAgdGltZV9pbl9mb3JjZTogJ2RheScsXG4gICAgICBhY2NvdW50X2lkOiBhY2NvdW50SWQsXG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIExpbWl0IGJ1eSBhIHNlY3VyaXR5IHRocm91Z2ggdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhcHBsaWNhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIGFjY291bnQgdG8gbWFrZSB0aGUgdHJhbnNhY3Rpb24gZnJvbVxuICAgKiBAcGFyYW0geyp9IHRpY2tlciBUaGUgc2VjdXJpdHkgc3ltYm9sXG4gICAqIEBwYXJhbSB7Kn0gbGltaXQgVGhlIG1heGltdW0gcHJpY2UgdG8gcHVyY2hhc2UgdGhlIHNlY3VyaXR5IGF0XG4gICAqIEBwYXJhbSB7Kn0gcXVhbnRpdHkgVGhlIG51bWJlciBvZiBzZWN1cml0aWVzIHRvIHB1cmNoYXNlXG4gICAqL1xuICBsaW1pdEJ1eTogYXN5bmMgKGFjY291bnRJZCwgdGlja2VyLCBsaW1pdCwgcXVhbnRpdHkpID0+IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLlBMQUNFX09SREVSLCB7XG4gICAgc2VjdXJpdHlfaWQ6IChhd2FpdCBkYXRhLmdldFNlY3VyaXR5KHRpY2tlcikpLmlkLFxuICAgIGxpbWl0X3ByaWNlOiBsaW1pdCxcbiAgICBxdWFudGl0eSxcbiAgICBvcmRlcl90eXBlOiAnYnV5X3F1YW50aXR5JyxcbiAgICBvcmRlcl9zdWJfdHlwZTogJ2xpbWl0JyxcbiAgICB0aW1lX2luX2ZvcmNlOiAnZGF5JyxcbiAgICBhY2NvdW50X2lkOiBhY2NvdW50SWQsXG4gIH0pLFxuXG4gIC8qKlxuICAgKiBTdG9wIGxpbWl0IGJ1eSBhIHNlY3VyaXR5IHRocm91Z2ggdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhcHBsaWNhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIGFjY291bnQgdG8gbWFrZSB0aGUgdHJhbnNhY3Rpb24gZnJvbVxuICAgKiBAcGFyYW0geyp9IHRpY2tlciBUaGUgc2VjdXJpdHkgc3ltYm9sXG4gICAqIEBwYXJhbSB7Kn0gc3RvcCBUaGUgcHJpY2UgYXQgd2hpY2ggdGhlIG9yZGVyIGNvbnZlcnRzIHRvIGEgbGltaXQgb3JkZXJcbiAgICogQHBhcmFtIHsqfSBsaW1pdCBUaGUgbWF4aW11bSBwcmljZSB0byBwdXJjaGFzZSB0aGUgc2VjdXJpdHkgYXRcbiAgICogQHBhcmFtIHsqfSBxdWFudGl0eSBUaGUgbnVtYmVyIG9mIHNlY3VyaXRpZXMgdG8gcHVyY2hhc2VcbiAgICovXG4gIHN0b3BMaW1pdEJ1eTogYXN5bmMgKGFjY291bnRJZCwgdGlja2VyLCBzdG9wLCBsaW1pdCwgcXVhbnRpdHkpID0+IHtcbiAgICBjb25zdCBzZWN1cml0eSA9IGF3YWl0IGRhdGEuZ2V0U2VjdXJpdHkodGlja2VyKTtcblxuICAgIC8vIFRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYmFja2VuZCBkb2Vzbid0IGNoZWNrIGZvciB0aGlzLCBldmVuIHRob3VnaCB0aGUgYXBwIGRvZXMuLlxuICAgIGlmIChpc0NhbmFkaWFuU2VjdXJpdHkoc2VjdXJpdHkuc3RvY2sucHJpbWFyeV9leGNoYW5nZSkgJiYgc3RvcCAhPT0gbGltaXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVFNYL1RTWC1WIHNlY3VyaXRpZXMgbXVzdCBoYXZlIGFuIGVxdWl2YWxlbnQgc3RvcCBhbmQgbGltaXQgcHJpY2UuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLlBMQUNFX09SREVSLCB7XG4gICAgICBzZWN1cml0eV9pZDogc2VjdXJpdHkuaWQsXG4gICAgICBzdG9wX3ByaWNlOiBzdG9wLFxuICAgICAgbGltaXRfcHJpY2U6IGxpbWl0LFxuICAgICAgcXVhbnRpdHksXG4gICAgICBvcmRlcl90eXBlOiAnYnV5X3F1YW50aXR5JyxcbiAgICAgIG9yZGVyX3N1Yl90eXBlOiAnc3RvcF9saW1pdCcsXG4gICAgICB0aW1lX2luX2ZvcmNlOiAnZGF5JyxcbiAgICAgIGFjY291bnRfaWQ6IGFjY291bnRJZCxcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogTWFya2V0IHNlbGwgYSBzZWN1cml0eSB0aHJvdWdoIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYXBwbGljYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gYWNjb3VudElkIFRoZSBhY2NvdW50IHRvIG1ha2UgdGhlIHRyYW5zYWN0aW9uIGZyb21cbiAgICogQHBhcmFtIHsqfSB0aWNrZXIgVGhlIHNlY3VyaXR5IHN5bWJvbFxuICAgKiBAcGFyYW0geyp9IHF1YW50aXR5IFRoZSBudW1iZXIgb2Ygc2VjdXJpdGllcyB0byBwdXJjaGFzZVxuICAgKi9cbiAgbWFya2V0U2VsbDogYXN5bmMgKGFjY291bnRJZCwgdGlja2VyLCBxdWFudGl0eSkgPT4gaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuUExBQ0VfT1JERVIsIHtcbiAgICBzZWN1cml0eV9pZDogKGF3YWl0IGRhdGEuZ2V0U2VjdXJpdHkodGlja2VyKSkuaWQsXG4gICAgbWFya2V0X3ZhbHVlOiAhKG5ldyBUaWNrZXIodGlja2VyKS5jcnlwdG8pID8gYXdhaXQgcXVvdGVzLmdldCh0aWNrZXIpIDogdW5kZWZpbmVkLFxuICAgIHF1YW50aXR5LFxuICAgIG9yZGVyX3R5cGU6ICdzZWxsX3F1YW50aXR5JyxcbiAgICBvcmRlcl9zdWJfdHlwZTogJ21hcmtldCcsXG4gICAgdGltZV9pbl9mb3JjZTogJ2RheScsXG4gICAgYWNjb3VudF9pZDogYWNjb3VudElkLFxuICB9KSxcblxuICAvKipcbiAgICogTGltaXQgc2VsbCBhIHNlY3VyaXR5IHRocm91Z2ggdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhcHBsaWNhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIGFjY291bnQgdG8gbWFrZSB0aGUgdHJhbnNhY3Rpb24gZnJvbVxuICAgKiBAcGFyYW0geyp9IHRpY2tlciBUaGUgc2VjdXJpdHkgc3ltYm9sXG4gICAqIEBwYXJhbSB7Kn0gbGltaXQgVGhlIG1pbmltdW0gcHJpY2UgdG8gc2VsbCB0aGUgc2VjdXJpdHkgYXRcbiAgICogQHBhcmFtIHsqfSBxdWFudGl0eSBUaGUgbnVtYmVyIG9mIHNlY3VyaXRpZXMgdG8gc2VsbFxuICAgKi9cbiAgbGltaXRTZWxsOiBhc3luYyAoYWNjb3VudElkLCB0aWNrZXIsIGxpbWl0LCBxdWFudGl0eSkgPT4gaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuUExBQ0VfT1JERVIsIHtcbiAgICBzZWN1cml0eV9pZDogKGF3YWl0IGRhdGEuZ2V0U2VjdXJpdHkodGlja2VyKSkuaWQsXG4gICAgbGltaXRfcHJpY2U6IGxpbWl0LFxuICAgIHF1YW50aXR5LFxuICAgIG9yZGVyX3R5cGU6ICdzZWxsX3F1YW50aXR5JyxcbiAgICBvcmRlcl9zdWJfdHlwZTogJ2xpbWl0JyxcbiAgICB0aW1lX2luX2ZvcmNlOiAnZGF5JyxcbiAgICBhY2NvdW50X2lkOiBhY2NvdW50SWQsXG4gIH0pLFxuXG4gIC8qKlxuICAgKiBTdG9wIGxpbWl0IHNlbGwgYSBzZWN1cml0eSB0aHJvdWdoIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYXBwbGljYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gYWNjb3VudElkIFRoZSBhY2NvdW50IHRvIG1ha2UgdGhlIHRyYW5zYWN0aW9uIGZyb21cbiAgICogQHBhcmFtIHsqfSB0aWNrZXIgVGhlIHNlY3VyaXR5IHN5bWJvbFxuICAgKiBAcGFyYW0geyp9IHN0b3AgVGhlIHByaWNlIGF0IHdoaWNoIHRoZSBvcmRlciBjb252ZXJ0cyB0byBhIGxpbWl0IG9yZGVyXG4gICAqIEBwYXJhbSB7Kn0gbGltaXQgVGhlIG1pbmltdW0gcHJpY2UgdG8gc2VsbCB0aGUgc2VjdXJpdHkgYXRcbiAgICogQHBhcmFtIHsqfSBxdWFudGl0eSBUaGUgbnVtYmVyIG9mIHNlY3VyaXRpZXMgdG8gc2VsbFxuICAgKi9cbiAgc3RvcExpbWl0U2VsbDogYXN5bmMgKGFjY291bnRJZCwgdGlja2VyLCBzdG9wLCBsaW1pdCwgcXVhbnRpdHkpID0+IHtcbiAgICBjb25zdCBzZWN1cml0eSA9IGF3YWl0IGRhdGEuZ2V0U2VjdXJpdHkodGlja2VyKTtcblxuICAgIC8vIFRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYmFja2VuZCBkb2Vzbid0IGNoZWNrIGZvciB0aGlzLCBldmVuIHRob3VnaCB0aGUgYXBwIGRvZXMuLlxuICAgIGlmIChpc0NhbmFkaWFuU2VjdXJpdHkoc2VjdXJpdHkuc3RvY2sucHJpbWFyeV9leGNoYW5nZSkgJiYgc3RvcCAhPT0gbGltaXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVFNYL1RTWC1WIHNlY3VyaXRpZXMgbXVzdCBoYXZlIGFuIGVxdWl2YWxlbnQgc3RvcCBhbmQgbGltaXQgcHJpY2UuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLlBMQUNFX09SREVSLCB7XG4gICAgICBzZWN1cml0eV9pZDogc2VjdXJpdHkuaWQsXG4gICAgICBzdG9wX3ByaWNlOiBzdG9wLFxuICAgICAgbGltaXRfcHJpY2U6IGxpbWl0LFxuICAgICAgcXVhbnRpdHksXG4gICAgICBvcmRlcl90eXBlOiAnc2VsbF9xdWFudGl0eScsXG4gICAgICBvcmRlcl9zdWJfdHlwZTogJ3N0b3BfbGltaXQnLFxuICAgICAgdGltZV9pbl9mb3JjZTogJ2RheScsXG4gICAgICBhY2NvdW50X2lkOiBhY2NvdW50SWQsXG4gICAgfSk7XG4gIH0sXG59O1xuIiwiaW1wb3J0IGhpc3RvcnkgZnJvbSAnLi9oaXN0b3J5JztcbmltcG9ydCBzdWJtaXQgZnJvbSAnLi9zdWJtaXQnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIC4uLmhpc3RvcnksXG4gIC4uLnN1Ym1pdCxcbn07XG4iLCIvKipcbiAqIFRoZSBkZWZhdWx0IHByb3ZpZGVyIGZvciBxdW90ZXMgaXMgV2VhbHRoc2ltcGxlIFRyYWRlLlxuICovXG5cbmltcG9ydCBkYXRhIGZyb20gJy4uL2RhdGEnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgLyoqXG4gICAgICogUXVvdGUgZm9yIGEgdGlja2VyIGZyb20gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBlbmRwb2ludC5cbiAgICAgKlxuICAgICAqIFJlbWVtYmVyIHRoYXQgdGhpcyBxdW90ZSBpcyBOT1QgcmVhbC10aW1lIVxuICAgICAqL1xuICBxdW90ZTogYXN5bmMgKHRpY2tlcikgPT4ge1xuICAgIGNvbnN0IGluZm8gPSBhd2FpdCBkYXRhLmdldFNlY3VyaXR5KHRpY2tlciwgdHJ1ZSk7XG4gICAgcmV0dXJuIGluZm8ucXVvdGUuYW1vdW50O1xuICB9LFxufTtcbiIsImltcG9ydCB0cmFkZSBmcm9tICcuL2RlZmF1bHQnO1xuaW1wb3J0IGRhdGEgZnJvbSAnLi4vZGF0YSc7XG5pbXBvcnQgVGlja2VyIGZyb20gJy4uL2NvcmUvdGlja2VyJztcbmltcG9ydCBoYW5kbGVSZXF1ZXN0IGZyb20gJy4uL25ldHdvcmsvaHR0cHMnO1xuaW1wb3J0IGVuZHBvaW50cyBmcm9tICcuLi9hcGkvZW5kcG9pbnRzJztcblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIC8vIFdlYWx0aHNpbXBsZSBUcmFkZSBpcyBvdXIgZGVmYXVsdCBzb3VyY2UgZm9yIHF1b3RlcywgZGVzcGl0ZVxuICAvLyBoYXZpbmcgYSAxNSBtaW4gZGVsYXlcbiAgZGVmYXVsdFByb3ZpZGVyOiB0cmFkZSxcblxuICAvLyBNYWludGFpbnMgcXVvdGUgcHJvdmlkZXJzIG9uIGFuIGV4Y2hhbmdlIGJhc2lzXG4gIHByb3ZpZGVyczoge30sXG5cbiAgLyoqXG4gICAgICogTG9hZCBhIGN1c3RvbSBwcm92aWRlciBmb3IgdGhlIGV4Y2hhbmdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBleGNoYW5nZSBUaGUgZXhjaGFuZ2UgdGhhdCB0aGUgcHJvdmlkZXIgZmV0Y2hlcyBxdW90ZXMgZm9yXG4gICAgICogQHBhcmFtIHsqfSBwcm92aWRlciBUaGUgcHJvdmlkZXIgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHF1b3RlKCkgaW1wbGVtZW50YXRpb24uXG4gICAgICovXG4gIHVzZShleGNoYW5nZSwgcHJvdmlkZXIpIHtcbiAgICBpZiAodHlwZW9mIChwcm92aWRlci5xdW90ZSkgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIFRoZSBwcm92aWRlciBtdXN0IGhhdmUgYSBxdW90ZSgpIGltcGxlbWVudGF0aW9uIHRoYXQgd2UgY2FuIGNhbGwgbGF0ZXIhXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcXVvdGUgcHJvdmlkZXIgZm9yICR7ZXhjaGFuZ2V9IWApO1xuICAgIH1cblxuICAgIHRoaXMucHJvdmlkZXJzW2V4Y2hhbmdlXSA9IHByb3ZpZGVyO1xuICB9LFxuXG4gIC8qKlxuICAgICAqIE9idGFpbnMgYSBxdW90ZSBmb3IgdGhlIHRpY2tlci4gVGhlIHNvdXJjZSBvZiB0aGUgcXVvdGUgbWF5IGJlIGEgY3VzdG9tXG4gICAgICogcHJvdmlkZXIgaWYgYSB2YWxpZCBwcm92aWRlciBpcyByZWdpc3RlcmVkIGZvciB0aGUgZXhjaGFuZ2UgdGhhdCB0aGVcbiAgICAgKiB0aWNrZXIgdHJhZGVzIG9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBzZWN1cml0eSBUaGUgc2VjdXJpdHkgdG8gZ2V0IGEgcXVvdGUgZm9yLlxuICAgICAqL1xuICBhc3luYyBnZXQoc2VjdXJpdHkpIHtcbiAgICBsZXQgZXhjaGFuZ2UgPSBudWxsO1xuICAgIGNvbnN0IHRpY2tlciA9IG5ldyBUaWNrZXIoc2VjdXJpdHkpO1xuXG4gICAgaWYgKHRpY2tlci5leGNoYW5nZSkge1xuICAgICAgLy8gV2UgbmVlZCB0aGUgZXhjaGFuZ2UgaW4gdGhlIG5leHQgc3RlcCBpZiB0aGUgdXNlciBoYXMgc3BlY2lmaWVkXG4gICAgICAvLyBhIGN1c3RvbSBwcm92aWRlciBmb3IgYW4gZXhjaGFuZ2UuIFNvIGlmIHRoZSB1c2VyIGhhc24ndCBwcm92aWRlZFxuICAgICAgLy8gaXQsIHdlIHdpbGwgaGF2ZSB0byBwaW5nIFdlYWx0aHNpbXBsZSB0cmFkZSB0byBnZXQgaXQuXG4gICAgICBleGNoYW5nZSA9IHRpY2tlci5leGNoYW5nZTtcbiAgICB9IGVsc2UgaWYgKHRpY2tlci5jcnlwdG8gJiYgdGlja2VyLmlkKSB7XG4gICAgICAvLyBJZiB0aGUgaWQgaXMgb25seSBnaXZlbiBidXQgd2Uga25vdyBpdCdzIGEgY3J5cHRvIGlkLFxuICAgICAgLy8gd2Ugd2lsbCBhdXRvbWF0aWNhbGx5IHNldCBleGNoYW5nZSB0byAnQ0MnLlxuICAgICAgZXhjaGFuZ2UgPSAnQ0MnO1xuICAgIH0gZWxzZSBpZiAoT2JqZWN0LmtleXModGhpcy5wcm92aWRlcnMpLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGluZm8gPSBhd2FpdCBkYXRhLmdldFNlY3VyaXR5KHRpY2tlciwgZmFsc2UpO1xuICAgICAgZXhjaGFuZ2UgPSBpbmZvLnN0b2NrLnByaW1hcnlfZXhjaGFuZ2U7XG4gICAgfVxuXG4gICAgLy8gQSBjdXN0b20gcHJvdmlkZXIgd2lsbCB0YWtlIHByZWNlZGVuY2Ugb3ZlciB0aGUgZGVmYXVsdCBzb3VyY2VcbiAgICBpZiAoZXhjaGFuZ2UgaW4gdGhpcy5wcm92aWRlcnMpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVyc1tleGNoYW5nZV0ucXVvdGUodGlja2VyKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZGVmYXVsdFByb3ZpZGVyLnF1b3RlKHRpY2tlcik7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgaGlzdG9yaWNhbCBxdW90ZXMgd2l0aGluIGEgc3BlY2lmaWVkIGludGVydmFsIGZvciB0aGUgdGlja2VyLlxuICAgKiBUaGUgc291cmNlIG9mIHRoZSBoaXN0b3JpY2FsIGRhdGEgaXMgbm90IGN1c3RvbWl6YWJsZSBhdCB0aGlzIHRpbWUgYmVjYXVzZVxuICAgKiB0aGVyZSBpcyBubyBuZWVkIGZvciBpdCB0byBiZSBzby5cbiAgICpcbiAgICogQHBhcmFtIHsqfSB0aWNrZXIgVGhlIHRpY2tlciB0byBzZWFyY2ggaGlzdG9yaWNhbCBxdW90ZXMgZm9yXG4gICAqIEBwYXJhbSB7Kn0gaW50ZXJ2YWwgVGhlIHRpbWUgcmFuZ2Ugb2YgdGhlIHF1b3Rlc1xuICAgKi9cbiAgYXN5bmMgaGlzdG9yeShzZWN1cml0eSwgaW50ZXJ2YWwpIHtcbiAgICAvLyB2YWxpZGF0ZSB0aGUgdXNlci1naXZlbiBzZWN1cml0eVxuICAgIGNvbnN0IHRpY2tlciA9IG5ldyBUaWNrZXIoc2VjdXJpdHkpO1xuICAgIGlmICghdGlja2VyLmlkKSB7XG4gICAgICB0aWNrZXIuaWQgPSAoYXdhaXQgZGF0YS5nZXRTZWN1cml0eSh0aWNrZXIpKS5pZDtcbiAgICB9XG5cbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuUVVPVEVTX0hJU1RPUlksIHsgaWQ6IHRpY2tlci5pZCwgaW50ZXJ2YWwgfSk7XG4gIH0sXG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG52YXIgcnVudGltZSA9IChmdW5jdGlvbiAoZXhwb3J0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgT3AgPSBPYmplY3QucHJvdG90eXBlO1xuICB2YXIgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHk7XG4gIHZhciB1bmRlZmluZWQ7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuICB2YXIgJFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbCA6IHt9O1xuICB2YXIgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiO1xuICB2YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiO1xuICB2YXIgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiO1xuXG4gIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBJZiBvdXRlckZuIHByb3ZpZGVkIGFuZCBvdXRlckZuLnByb3RvdHlwZSBpcyBhIEdlbmVyYXRvciwgdGhlbiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvci5cbiAgICB2YXIgcHJvdG9HZW5lcmF0b3IgPSBvdXRlckZuICYmIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gb3V0ZXJGbiA6IEdlbmVyYXRvcjtcbiAgICB2YXIgZ2VuZXJhdG9yID0gT2JqZWN0LmNyZWF0ZShwcm90b0dlbmVyYXRvci5wcm90b3R5cGUpO1xuICAgIHZhciBjb250ZXh0ID0gbmV3IENvbnRleHQodHJ5TG9jc0xpc3QgfHwgW10pO1xuXG4gICAgLy8gVGhlIC5faW52b2tlIG1ldGhvZCB1bmlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlIC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcy5cbiAgICBnZW5lcmF0b3IuX2ludm9rZSA9IG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG5cbiAgICByZXR1cm4gZ2VuZXJhdG9yO1xuICB9XG4gIGV4cG9ydHMud3JhcCA9IHdyYXA7XG5cbiAgLy8gVHJ5L2NhdGNoIGhlbHBlciB0byBtaW5pbWl6ZSBkZW9wdGltaXphdGlvbnMuIFJldHVybnMgYSBjb21wbGV0aW9uXG4gIC8vIHJlY29yZCBsaWtlIGNvbnRleHQudHJ5RW50cmllc1tpXS5jb21wbGV0aW9uLiBUaGlzIGludGVyZmFjZSBjb3VsZFxuICAvLyBoYXZlIGJlZW4gKGFuZCB3YXMgcHJldmlvdXNseSkgZGVzaWduZWQgdG8gdGFrZSBhIGNsb3N1cmUgdG8gYmVcbiAgLy8gaW52b2tlZCB3aXRob3V0IGFyZ3VtZW50cywgYnV0IGluIGFsbCB0aGUgY2FzZXMgd2UgY2FyZSBhYm91dCB3ZVxuICAvLyBhbHJlYWR5IGhhdmUgYW4gZXhpc3RpbmcgbWV0aG9kIHdlIHdhbnQgdG8gY2FsbCwgc28gdGhlcmUncyBubyBuZWVkXG4gIC8vIHRvIGNyZWF0ZSBhIG5ldyBmdW5jdGlvbiBvYmplY3QuIFdlIGNhbiBldmVuIGdldCBhd2F5IHdpdGggYXNzdW1pbmdcbiAgLy8gdGhlIG1ldGhvZCB0YWtlcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgc2luY2UgdGhhdCBoYXBwZW5zIHRvIGJlIHRydWVcbiAgLy8gaW4gZXZlcnkgY2FzZSwgc28gd2UgZG9uJ3QgaGF2ZSB0byB0b3VjaCB0aGUgYXJndW1lbnRzIG9iamVjdC4gVGhlXG4gIC8vIG9ubHkgYWRkaXRpb25hbCBhbGxvY2F0aW9uIHJlcXVpcmVkIGlzIHRoZSBjb21wbGV0aW9uIHJlY29yZCwgd2hpY2hcbiAgLy8gaGFzIGEgc3RhYmxlIHNoYXBlIGFuZCBzbyBob3BlZnVsbHkgc2hvdWxkIGJlIGNoZWFwIHRvIGFsbG9jYXRlLlxuICBmdW5jdGlvbiB0cnlDYXRjaChmbiwgb2JqLCBhcmcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJub3JtYWxcIiwgYXJnOiBmbi5jYWxsKG9iaiwgYXJnKSB9O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJ0aHJvd1wiLCBhcmc6IGVyciB9O1xuICAgIH1cbiAgfVxuXG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0ID0gXCJzdXNwZW5kZWRTdGFydFwiO1xuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCA9IFwic3VzcGVuZGVkWWllbGRcIjtcbiAgdmFyIEdlblN0YXRlRXhlY3V0aW5nID0gXCJleGVjdXRpbmdcIjtcbiAgdmFyIEdlblN0YXRlQ29tcGxldGVkID0gXCJjb21wbGV0ZWRcIjtcblxuICAvLyBSZXR1cm5pbmcgdGhpcyBvYmplY3QgZnJvbSB0aGUgaW5uZXJGbiBoYXMgdGhlIHNhbWUgZWZmZWN0IGFzXG4gIC8vIGJyZWFraW5nIG91dCBvZiB0aGUgZGlzcGF0Y2ggc3dpdGNoIHN0YXRlbWVudC5cbiAgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTtcblxuICAvLyBEdW1teSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMgdGhhdCB3ZSB1c2UgYXMgdGhlIC5jb25zdHJ1Y3RvciBhbmRcbiAgLy8gLmNvbnN0cnVjdG9yLnByb3RvdHlwZSBwcm9wZXJ0aWVzIGZvciBmdW5jdGlvbnMgdGhhdCByZXR1cm4gR2VuZXJhdG9yXG4gIC8vIG9iamVjdHMuIEZvciBmdWxsIHNwZWMgY29tcGxpYW5jZSwgeW91IG1heSB3aXNoIHRvIGNvbmZpZ3VyZSB5b3VyXG4gIC8vIG1pbmlmaWVyIG5vdCB0byBtYW5nbGUgdGhlIG5hbWVzIG9mIHRoZXNlIHR3byBmdW5jdGlvbnMuXG4gIGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fVxuXG4gIC8vIFRoaXMgaXMgYSBwb2x5ZmlsbCBmb3IgJUl0ZXJhdG9yUHJvdG90eXBlJSBmb3IgZW52aXJvbm1lbnRzIHRoYXRcbiAgLy8gZG9uJ3QgbmF0aXZlbHkgc3VwcG9ydCBpdC5cbiAgdmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG4gIEl0ZXJhdG9yUHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICB2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4gIHZhciBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTtcbiAgaWYgKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICYmXG4gICAgICBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAhPT0gT3AgJiZcbiAgICAgIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkpIHtcbiAgICAvLyBUaGlzIGVudmlyb25tZW50IGhhcyBhIG5hdGl2ZSAlSXRlcmF0b3JQcm90b3R5cGUlOyB1c2UgaXQgaW5zdGVhZFxuICAgIC8vIG9mIHRoZSBwb2x5ZmlsbC5cbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlO1xuICB9XG5cbiAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID1cbiAgICBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7XG4gIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdwLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb247XG4gIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlW3RvU3RyaW5nVGFnU3ltYm9sXSA9XG4gICAgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBcIkdlbmVyYXRvckZ1bmN0aW9uXCI7XG5cbiAgLy8gSGVscGVyIGZvciBkZWZpbmluZyB0aGUgLm5leHQsIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcyBvZiB0aGVcbiAgLy8gSXRlcmF0b3IgaW50ZXJmYWNlIGluIHRlcm1zIG9mIGEgc2luZ2xlIC5faW52b2tlIG1ldGhvZC5cbiAgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkge1xuICAgIFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgcHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgdmFyIGN0b3IgPSB0eXBlb2YgZ2VuRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgZ2VuRnVuLmNvbnN0cnVjdG9yO1xuICAgIHJldHVybiBjdG9yXG4gICAgICA/IGN0b3IgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8XG4gICAgICAgIC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW5cbiAgICAgICAgLy8gZG8gaXMgdG8gY2hlY2sgaXRzIC5uYW1lIHByb3BlcnR5LlxuICAgICAgICAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpID09PSBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgICAgIDogZmFsc2U7XG4gIH07XG5cbiAgZXhwb3J0cy5tYXJrID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gICAgICBpZiAoISh0b1N0cmluZ1RhZ1N5bWJvbCBpbiBnZW5GdW4pKSB7XG4gICAgICAgIGdlbkZ1blt0b1N0cmluZ1RhZ1N5bWJvbF0gPSBcIkdlbmVyYXRvckZ1bmN0aW9uXCI7XG4gICAgICB9XG4gICAgfVxuICAgIGdlbkZ1bi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdwKTtcbiAgICByZXR1cm4gZ2VuRnVuO1xuICB9O1xuXG4gIC8vIFdpdGhpbiB0aGUgYm9keSBvZiBhbnkgYXN5bmMgZnVuY3Rpb24sIGBhd2FpdCB4YCBpcyB0cmFuc2Zvcm1lZCB0b1xuICAvLyBgeWllbGQgcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHgpYCwgc28gdGhhdCB0aGUgcnVudGltZSBjYW4gdGVzdFxuICAvLyBgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKWAgdG8gZGV0ZXJtaW5lIGlmIHRoZSB5aWVsZGVkIHZhbHVlIGlzXG4gIC8vIG1lYW50IHRvIGJlIGF3YWl0ZWQuXG4gIGV4cG9ydHMuYXdyYXAgPSBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4geyBfX2F3YWl0OiBhcmcgfTtcbiAgfTtcblxuICBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvciwgUHJvbWlzZUltcGwpIHtcbiAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGdlbmVyYXRvclttZXRob2RdLCBnZW5lcmF0b3IsIGFyZyk7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICByZWplY3QocmVjb3JkLmFyZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcmVjb3JkLmFyZztcbiAgICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICBpZiAodmFsdWUgJiZcbiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGludm9rZShcIm5leHRcIiwgdmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJ0aHJvd1wiLCBlcnIsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbih1bndyYXBwZWQpIHtcbiAgICAgICAgICAvLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lc1xuICAgICAgICAgIC8vIHRoZSAudmFsdWUgb2YgdGhlIFByb21pc2U8e3ZhbHVlLGRvbmV9PiByZXN1bHQgZm9yIHRoZVxuICAgICAgICAgIC8vIGN1cnJlbnQgaXRlcmF0aW9uLlxuICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZDtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgLy8gSWYgYSByZWplY3RlZCBQcm9taXNlIHdhcyB5aWVsZGVkLCB0aHJvdyB0aGUgcmVqZWN0aW9uIGJhY2tcbiAgICAgICAgICAvLyBpbnRvIHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gc28gaXQgY2FuIGJlIGhhbmRsZWQgdGhlcmUuXG4gICAgICAgICAgcmV0dXJuIGludm9rZShcInRocm93XCIsIGVycm9yLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJldmlvdXNQcm9taXNlO1xuXG4gICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykge1xuICAgICAgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZUltcGwoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByZXZpb3VzUHJvbWlzZSA9XG4gICAgICAgIC8vIElmIGVucXVldWUgaGFzIGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiB3ZSB3YW50IHRvIHdhaXQgdW50aWxcbiAgICAgICAgLy8gYWxsIHByZXZpb3VzIFByb21pc2VzIGhhdmUgYmVlbiByZXNvbHZlZCBiZWZvcmUgY2FsbGluZyBpbnZva2UsXG4gICAgICAgIC8vIHNvIHRoYXQgcmVzdWx0cyBhcmUgYWx3YXlzIGRlbGl2ZXJlZCBpbiB0aGUgY29ycmVjdCBvcmRlci4gSWZcbiAgICAgICAgLy8gZW5xdWV1ZSBoYXMgbm90IGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiBpdCBpcyBpbXBvcnRhbnQgdG9cbiAgICAgICAgLy8gY2FsbCBpbnZva2UgaW1tZWRpYXRlbHksIHdpdGhvdXQgd2FpdGluZyBvbiBhIGNhbGxiYWNrIHRvIGZpcmUsXG4gICAgICAgIC8vIHNvIHRoYXQgdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBoYXMgdGhlIG9wcG9ydHVuaXR5IHRvIGRvXG4gICAgICAgIC8vIGFueSBuZWNlc3Nhcnkgc2V0dXAgaW4gYSBwcmVkaWN0YWJsZSB3YXkuIFRoaXMgcHJlZGljdGFiaWxpdHlcbiAgICAgICAgLy8gaXMgd2h5IHRoZSBQcm9taXNlIGNvbnN0cnVjdG9yIHN5bmNocm9ub3VzbHkgaW52b2tlcyBpdHNcbiAgICAgICAgLy8gZXhlY3V0b3IgY2FsbGJhY2ssIGFuZCB3aHkgYXN5bmMgZnVuY3Rpb25zIHN5bmNocm9ub3VzbHlcbiAgICAgICAgLy8gZXhlY3V0ZSBjb2RlIGJlZm9yZSB0aGUgZmlyc3QgYXdhaXQuIFNpbmNlIHdlIGltcGxlbWVudCBzaW1wbGVcbiAgICAgICAgLy8gYXN5bmMgZnVuY3Rpb25zIGluIHRlcm1zIG9mIGFzeW5jIGdlbmVyYXRvcnMsIGl0IGlzIGVzcGVjaWFsbHlcbiAgICAgICAgLy8gaW1wb3J0YW50IHRvIGdldCB0aGlzIHJpZ2h0LCBldmVuIHRob3VnaCBpdCByZXF1aXJlcyBjYXJlLlxuICAgICAgICBwcmV2aW91c1Byb21pc2UgPyBwcmV2aW91c1Byb21pc2UudGhlbihcbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyxcbiAgICAgICAgICAvLyBBdm9pZCBwcm9wYWdhdGluZyBmYWlsdXJlcyB0byBQcm9taXNlcyByZXR1cm5lZCBieSBsYXRlclxuICAgICAgICAgIC8vIGludm9jYXRpb25zIG9mIHRoZSBpdGVyYXRvci5cbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZ1xuICAgICAgICApIDogY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKTtcbiAgICB9XG5cbiAgICAvLyBEZWZpbmUgdGhlIHVuaWZpZWQgaGVscGVyIG1ldGhvZCB0aGF0IGlzIHVzZWQgdG8gaW1wbGVtZW50IC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gKHNlZSBkZWZpbmVJdGVyYXRvck1ldGhvZHMpLlxuICAgIHRoaXMuX2ludm9rZSA9IGVucXVldWU7XG4gIH1cblxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpO1xuICBBc3luY0l0ZXJhdG9yLnByb3RvdHlwZVthc3luY0l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgZXhwb3J0cy5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvcjtcblxuICAvLyBOb3RlIHRoYXQgc2ltcGxlIGFzeW5jIGZ1bmN0aW9ucyBhcmUgaW1wbGVtZW50ZWQgb24gdG9wIG9mXG4gIC8vIEFzeW5jSXRlcmF0b3Igb2JqZWN0czsgdGhleSBqdXN0IHJldHVybiBhIFByb21pc2UgZm9yIHRoZSB2YWx1ZSBvZlxuICAvLyB0aGUgZmluYWwgcmVzdWx0IHByb2R1Y2VkIGJ5IHRoZSBpdGVyYXRvci5cbiAgZXhwb3J0cy5hc3luYyA9IGZ1bmN0aW9uKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkge1xuICAgIGlmIChQcm9taXNlSW1wbCA9PT0gdm9pZCAwKSBQcm9taXNlSW1wbCA9IFByb21pc2U7XG5cbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKFxuICAgICAgd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCksXG4gICAgICBQcm9taXNlSW1wbFxuICAgICk7XG5cbiAgICByZXR1cm4gZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pXG4gICAgICA/IGl0ZXIgLy8gSWYgb3V0ZXJGbiBpcyBhIGdlbmVyYXRvciwgcmV0dXJuIHRoZSBmdWxsIGl0ZXJhdG9yLlxuICAgICAgOiBpdGVyLm5leHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpO1xuICAgICAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHtcbiAgICB2YXIgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZykge1xuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUV4ZWN1dGluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlQ29tcGxldGVkKSB7XG4gICAgICAgIGlmIChtZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHRocm93IGFyZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJlIGZvcmdpdmluZywgcGVyIDI1LjMuMy4zLjMgb2YgdGhlIHNwZWM6XG4gICAgICAgIC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1nZW5lcmF0b3JyZXN1bWVcbiAgICAgICAgcmV0dXJuIGRvbmVSZXN1bHQoKTtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5tZXRob2QgPSBtZXRob2Q7XG4gICAgICBjb250ZXh0LmFyZyA9IGFyZztcblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGRlbGVnYXRlKSB7XG4gICAgICAgICAgdmFyIGRlbGVnYXRlUmVzdWx0ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG4gICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAvLyBTZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZztcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQpIHtcbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgICB0aHJvdyBjb250ZXh0LmFyZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5hcmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUV4ZWN1dGluZztcblxuICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIikge1xuICAgICAgICAgIC8vIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZnJvbSBpbm5lckZuLCB3ZSBsZWF2ZSBzdGF0ZSA9PT1cbiAgICAgICAgICAvLyBHZW5TdGF0ZUV4ZWN1dGluZyBhbmQgbG9vcCBiYWNrIGZvciBhbm90aGVyIGludm9jYXRpb24uXG4gICAgICAgICAgc3RhdGUgPSBjb250ZXh0LmRvbmVcbiAgICAgICAgICAgID8gR2VuU3RhdGVDb21wbGV0ZWRcbiAgICAgICAgICAgIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgIGlmIChyZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuXG4gICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgLy8gRGlzcGF0Y2ggdGhlIGV4Y2VwdGlvbiBieSBsb29waW5nIGJhY2sgYXJvdW5kIHRvIHRoZVxuICAgICAgICAgIC8vIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIENhbGwgZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdKGNvbnRleHQuYXJnKSBhbmQgaGFuZGxlIHRoZVxuICAvLyByZXN1bHQsIGVpdGhlciBieSByZXR1cm5pbmcgYSB7IHZhbHVlLCBkb25lIH0gcmVzdWx0IGZyb20gdGhlXG4gIC8vIGRlbGVnYXRlIGl0ZXJhdG9yLCBvciBieSBtb2RpZnlpbmcgY29udGV4dC5tZXRob2QgYW5kIGNvbnRleHQuYXJnLFxuICAvLyBzZXR0aW5nIGNvbnRleHQuZGVsZWdhdGUgdG8gbnVsbCwgYW5kIHJldHVybmluZyB0aGUgQ29udGludWVTZW50aW5lbC5cbiAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF07XG4gICAgaWYgKG1ldGhvZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBBIC50aHJvdyBvciAucmV0dXJuIHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyAudGhyb3dcbiAgICAgIC8vIG1ldGhvZCBhbHdheXMgdGVybWluYXRlcyB0aGUgeWllbGQqIGxvb3AuXG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgLy8gTm90ZTogW1wicmV0dXJuXCJdIG11c3QgYmUgdXNlZCBmb3IgRVMzIHBhcnNpbmcgY29tcGF0aWJpbGl0eS5cbiAgICAgICAgaWYgKGRlbGVnYXRlLml0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBhIHJldHVybiBtZXRob2QsIGdpdmUgaXQgYVxuICAgICAgICAgIC8vIGNoYW5jZSB0byBjbGVhbiB1cC5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG5cbiAgICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgLy8gSWYgbWF5YmVJbnZva2VEZWxlZ2F0ZShjb250ZXh0KSBjaGFuZ2VkIGNvbnRleHQubWV0aG9kIGZyb21cbiAgICAgICAgICAgIC8vIFwicmV0dXJuXCIgdG8gXCJ0aHJvd1wiLCBsZXQgdGhhdCBvdmVycmlkZSB0aGUgVHlwZUVycm9yIGJlbG93LlxuICAgICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICBcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2RcIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChtZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBjb250ZXh0LmFyZyk7XG5cbiAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciBpbmZvID0gcmVjb3JkLmFyZztcblxuICAgIGlmICghIGluZm8pIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIik7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgIC8vIEFzc2lnbiB0aGUgcmVzdWx0IG9mIHRoZSBmaW5pc2hlZCBkZWxlZ2F0ZSB0byB0aGUgdGVtcG9yYXJ5XG4gICAgICAvLyB2YXJpYWJsZSBzcGVjaWZpZWQgYnkgZGVsZWdhdGUucmVzdWx0TmFtZSAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWU7XG5cbiAgICAgIC8vIFJlc3VtZSBleGVjdXRpb24gYXQgdGhlIGRlc2lyZWQgbG9jYXRpb24gKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2M7XG5cbiAgICAgIC8vIElmIGNvbnRleHQubWV0aG9kIHdhcyBcInRocm93XCIgYnV0IHRoZSBkZWxlZ2F0ZSBoYW5kbGVkIHRoZVxuICAgICAgLy8gZXhjZXB0aW9uLCBsZXQgdGhlIG91dGVyIGdlbmVyYXRvciBwcm9jZWVkIG5vcm1hbGx5LiBJZlxuICAgICAgLy8gY29udGV4dC5tZXRob2Qgd2FzIFwibmV4dFwiLCBmb3JnZXQgY29udGV4dC5hcmcgc2luY2UgaXQgaGFzIGJlZW5cbiAgICAgIC8vIFwiY29uc3VtZWRcIiBieSB0aGUgZGVsZWdhdGUgaXRlcmF0b3IuIElmIGNvbnRleHQubWV0aG9kIHdhc1xuICAgICAgLy8gXCJyZXR1cm5cIiwgYWxsb3cgdGhlIG9yaWdpbmFsIC5yZXR1cm4gY2FsbCB0byBjb250aW51ZSBpbiB0aGVcbiAgICAgIC8vIG91dGVyIGdlbmVyYXRvci5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCAhPT0gXCJyZXR1cm5cIikge1xuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZS15aWVsZCB0aGUgcmVzdWx0IHJldHVybmVkIGJ5IHRoZSBkZWxlZ2F0ZSBtZXRob2QuXG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9XG5cbiAgICAvLyBUaGUgZGVsZWdhdGUgaXRlcmF0b3IgaXMgZmluaXNoZWQsIHNvIGZvcmdldCBpdCBhbmQgY29udGludWUgd2l0aFxuICAgIC8vIHRoZSBvdXRlciBnZW5lcmF0b3IuXG4gICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gIH1cblxuICAvLyBEZWZpbmUgR2VuZXJhdG9yLnByb3RvdHlwZS57bmV4dCx0aHJvdyxyZXR1cm59IGluIHRlcm1zIG9mIHRoZVxuICAvLyB1bmlmaWVkIC5faW52b2tlIGhlbHBlciBtZXRob2QuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhHcCk7XG5cbiAgR3BbdG9TdHJpbmdUYWdTeW1ib2xdID0gXCJHZW5lcmF0b3JcIjtcblxuICAvLyBBIEdlbmVyYXRvciBzaG91bGQgYWx3YXlzIHJldHVybiBpdHNlbGYgYXMgdGhlIGl0ZXJhdG9yIG9iamVjdCB3aGVuIHRoZVxuICAvLyBAQGl0ZXJhdG9yIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBpdC4gU29tZSBicm93c2VycycgaW1wbGVtZW50YXRpb25zIG9mIHRoZVxuICAvLyBpdGVyYXRvciBwcm90b3R5cGUgY2hhaW4gaW5jb3JyZWN0bHkgaW1wbGVtZW50IHRoaXMsIGNhdXNpbmcgdGhlIEdlbmVyYXRvclxuICAvLyBvYmplY3QgdG8gbm90IGJlIHJldHVybmVkIGZyb20gdGhpcyBjYWxsLiBUaGlzIGVuc3VyZXMgdGhhdCBkb2Vzbid0IGhhcHBlbi5cbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9pc3N1ZXMvMjc0IGZvciBtb3JlIGRldGFpbHMuXG4gIEdwW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIEdwLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7XG4gIH07XG5cbiAgZnVuY3Rpb24gcHVzaFRyeUVudHJ5KGxvY3MpIHtcbiAgICB2YXIgZW50cnkgPSB7IHRyeUxvYzogbG9jc1swXSB9O1xuXG4gICAgaWYgKDEgaW4gbG9jcykge1xuICAgICAgZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdO1xuICAgIH1cblxuICAgIGlmICgyIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmZpbmFsbHlMb2MgPSBsb2NzWzJdO1xuICAgICAgZW50cnkuYWZ0ZXJMb2MgPSBsb2NzWzNdO1xuICAgIH1cblxuICAgIHRoaXMudHJ5RW50cmllcy5wdXNoKGVudHJ5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZW50cnkpIHtcbiAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbiB8fCB7fTtcbiAgICByZWNvcmQudHlwZSA9IFwibm9ybWFsXCI7XG4gICAgZGVsZXRlIHJlY29yZC5hcmc7XG4gICAgZW50cnkuY29tcGxldGlvbiA9IHJlY29yZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIENvbnRleHQodHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBUaGUgcm9vdCBlbnRyeSBvYmplY3QgKGVmZmVjdGl2ZWx5IGEgdHJ5IHN0YXRlbWVudCB3aXRob3V0IGEgY2F0Y2hcbiAgICAvLyBvciBhIGZpbmFsbHkgYmxvY2spIGdpdmVzIHVzIGEgcGxhY2UgdG8gc3RvcmUgdmFsdWVzIHRocm93biBmcm9tXG4gICAgLy8gbG9jYXRpb25zIHdoZXJlIHRoZXJlIGlzIG5vIGVuY2xvc2luZyB0cnkgc3RhdGVtZW50LlxuICAgIHRoaXMudHJ5RW50cmllcyA9IFt7IHRyeUxvYzogXCJyb290XCIgfV07XG4gICAgdHJ5TG9jc0xpc3QuZm9yRWFjaChwdXNoVHJ5RW50cnksIHRoaXMpO1xuICAgIHRoaXMucmVzZXQodHJ1ZSk7XG4gIH1cblxuICBleHBvcnRzLmtleXMgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgIGtleXMucHVzaChrZXkpO1xuICAgIH1cbiAgICBrZXlzLnJldmVyc2UoKTtcblxuICAgIC8vIFJhdGhlciB0aGFuIHJldHVybmluZyBhbiBvYmplY3Qgd2l0aCBhIG5leHQgbWV0aG9kLCB3ZSBrZWVwXG4gICAgLy8gdGhpbmdzIHNpbXBsZSBhbmQgcmV0dXJuIHRoZSBuZXh0IGZ1bmN0aW9uIGl0c2VsZi5cbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHdoaWxlIChrZXlzLmxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0ga2V5cy5wb3AoKTtcbiAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICBuZXh0LnZhbHVlID0ga2V5O1xuICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRvIGF2b2lkIGNyZWF0aW5nIGFuIGFkZGl0aW9uYWwgb2JqZWN0LCB3ZSBqdXN0IGhhbmcgdGhlIC52YWx1ZVxuICAgICAgLy8gYW5kIC5kb25lIHByb3BlcnRpZXMgb2ZmIHRoZSBuZXh0IGZ1bmN0aW9uIG9iamVjdCBpdHNlbGYuIFRoaXNcbiAgICAgIC8vIGFsc28gZW5zdXJlcyB0aGF0IHRoZSBtaW5pZmllciB3aWxsIG5vdCBhbm9ueW1pemUgdGhlIGZ1bmN0aW9uLlxuICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7XG4gICAgaWYgKGl0ZXJhYmxlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07XG4gICAgICBpZiAoaXRlcmF0b3JNZXRob2QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yTWV0aG9kLmNhbGwoaXRlcmFibGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGl0ZXJhYmxlLm5leHQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gaXRlcmFibGU7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNOYU4oaXRlcmFibGUubGVuZ3RoKSkge1xuICAgICAgICB2YXIgaSA9IC0xLCBuZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICB3aGlsZSAoKytpIDwgaXRlcmFibGUubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duLmNhbGwoaXRlcmFibGUsIGkpKSB7XG4gICAgICAgICAgICAgIG5leHQudmFsdWUgPSBpdGVyYWJsZVtpXTtcbiAgICAgICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIG5leHQudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcblxuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBuZXh0Lm5leHQgPSBuZXh0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJldHVybiBhbiBpdGVyYXRvciB3aXRoIG5vIHZhbHVlcy5cbiAgICByZXR1cm4geyBuZXh0OiBkb25lUmVzdWx0IH07XG4gIH1cbiAgZXhwb3J0cy52YWx1ZXMgPSB2YWx1ZXM7XG5cbiAgZnVuY3Rpb24gZG9uZVJlc3VsdCgpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gIH1cblxuICBDb250ZXh0LnByb3RvdHlwZSA9IHtcbiAgICBjb25zdHJ1Y3RvcjogQ29udGV4dCxcblxuICAgIHJlc2V0OiBmdW5jdGlvbihza2lwVGVtcFJlc2V0KSB7XG4gICAgICB0aGlzLnByZXYgPSAwO1xuICAgICAgdGhpcy5uZXh0ID0gMDtcbiAgICAgIC8vIFJlc2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcblxuICAgICAgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSk7XG5cbiAgICAgIGlmICghc2tpcFRlbXBSZXNldCkge1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMpIHtcbiAgICAgICAgICAvLyBOb3Qgc3VyZSBhYm91dCB0aGUgb3B0aW1hbCBvcmRlciBvZiB0aGVzZSBjb25kaXRpb25zOlxuICAgICAgICAgIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gXCJ0XCIgJiZcbiAgICAgICAgICAgICAgaGFzT3duLmNhbGwodGhpcywgbmFtZSkgJiZcbiAgICAgICAgICAgICAgIWlzTmFOKCtuYW1lLnNsaWNlKDEpKSkge1xuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuXG4gICAgICB2YXIgcm9vdEVudHJ5ID0gdGhpcy50cnlFbnRyaWVzWzBdO1xuICAgICAgdmFyIHJvb3RSZWNvcmQgPSByb290RW50cnkuY29tcGxldGlvbjtcbiAgICAgIGlmIChyb290UmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByb290UmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucnZhbDtcbiAgICB9LFxuXG4gICAgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uKGV4Y2VwdGlvbikge1xuICAgICAgaWYgKHRoaXMuZG9uZSkge1xuICAgICAgICB0aHJvdyBleGNlcHRpb247XG4gICAgICB9XG5cbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZShsb2MsIGNhdWdodCkge1xuICAgICAgICByZWNvcmQudHlwZSA9IFwidGhyb3dcIjtcbiAgICAgICAgcmVjb3JkLmFyZyA9IGV4Y2VwdGlvbjtcbiAgICAgICAgY29udGV4dC5uZXh0ID0gbG9jO1xuXG4gICAgICAgIGlmIChjYXVnaHQpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGlzcGF0Y2hlZCBleGNlcHRpb24gd2FzIGNhdWdodCBieSBhIGNhdGNoIGJsb2NrLFxuICAgICAgICAgIC8vIHRoZW4gbGV0IHRoYXQgY2F0Y2ggYmxvY2sgaGFuZGxlIHRoZSBleGNlcHRpb24gbm9ybWFsbHkuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAhISBjYXVnaHQ7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSBcInJvb3RcIikge1xuICAgICAgICAgIC8vIEV4Y2VwdGlvbiB0aHJvd24gb3V0c2lkZSBvZiBhbnkgdHJ5IGJsb2NrIHRoYXQgY291bGQgaGFuZGxlXG4gICAgICAgICAgLy8gaXQsIHNvIHNldCB0aGUgY29tcGxldGlvbiB2YWx1ZSBvZiB0aGUgZW50aXJlIGZ1bmN0aW9uIHRvXG4gICAgICAgICAgLy8gdGhyb3cgdGhlIGV4Y2VwdGlvbi5cbiAgICAgICAgICByZXR1cm4gaGFuZGxlKFwiZW5kXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYpIHtcbiAgICAgICAgICB2YXIgaGFzQ2F0Y2ggPSBoYXNPd24uY2FsbChlbnRyeSwgXCJjYXRjaExvY1wiKTtcbiAgICAgICAgICB2YXIgaGFzRmluYWxseSA9IGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIik7XG5cbiAgICAgICAgICBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NhdGNoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGFicnVwdDogZnVuY3Rpb24odHlwZSwgYXJnKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIikgJiZcbiAgICAgICAgICAgIHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB2YXIgZmluYWxseUVudHJ5ID0gZW50cnk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSAmJlxuICAgICAgICAgICh0eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICAgdHlwZSA9PT0gXCJjb250aW51ZVwiKSAmJlxuICAgICAgICAgIGZpbmFsbHlFbnRyeS50cnlMb2MgPD0gYXJnICYmXG4gICAgICAgICAgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgIC8vIElnbm9yZSB0aGUgZmluYWxseSBlbnRyeSBpZiBjb250cm9sIGlzIG5vdCBqdW1waW5nIHRvIGFcbiAgICAgICAgLy8gbG9jYXRpb24gb3V0c2lkZSB0aGUgdHJ5L2NhdGNoIGJsb2NrLlxuICAgICAgICBmaW5hbGx5RW50cnkgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVjb3JkID0gZmluYWxseUVudHJ5ID8gZmluYWxseUVudHJ5LmNvbXBsZXRpb24gOiB7fTtcbiAgICAgIHJlY29yZC50eXBlID0gdHlwZTtcbiAgICAgIHJlY29yZC5hcmcgPSBhcmc7XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkpIHtcbiAgICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2M7XG4gICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5jb21wbGV0ZShyZWNvcmQpO1xuICAgIH0sXG5cbiAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVjb3JkLCBhZnRlckxvYykge1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICByZWNvcmQudHlwZSA9PT0gXCJjb250aW51ZVwiKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IHJlY29yZC5hcmc7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInJldHVyblwiKSB7XG4gICAgICAgIHRoaXMucnZhbCA9IHRoaXMuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgdGhpcy5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICB0aGlzLm5leHQgPSBcImVuZFwiO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIiAmJiBhZnRlckxvYykge1xuICAgICAgICB0aGlzLm5leHQgPSBhZnRlckxvYztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfSxcblxuICAgIGZpbmlzaDogZnVuY3Rpb24oZmluYWxseUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS5maW5hbGx5TG9jID09PSBmaW5hbGx5TG9jKSB7XG4gICAgICAgICAgdGhpcy5jb21wbGV0ZShlbnRyeS5jb21wbGV0aW9uLCBlbnRyeS5hZnRlckxvYyk7XG4gICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgXCJjYXRjaFwiOiBmdW5jdGlvbih0cnlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSB0cnlMb2MpIHtcbiAgICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcbiAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgdmFyIHRocm93biA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRocm93bjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUaGUgY29udGV4dC5jYXRjaCBtZXRob2QgbXVzdCBvbmx5IGJlIGNhbGxlZCB3aXRoIGEgbG9jYXRpb25cbiAgICAgIC8vIGFyZ3VtZW50IHRoYXQgY29ycmVzcG9uZHMgdG8gYSBrbm93biBjYXRjaCBibG9jay5cbiAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKTtcbiAgICB9LFxuXG4gICAgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24oaXRlcmFibGUsIHJlc3VsdE5hbWUsIG5leHRMb2MpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSB7XG4gICAgICAgIGl0ZXJhdG9yOiB2YWx1ZXMoaXRlcmFibGUpLFxuICAgICAgICByZXN1bHROYW1lOiByZXN1bHROYW1lLFxuICAgICAgICBuZXh0TG9jOiBuZXh0TG9jXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgIC8vIERlbGliZXJhdGVseSBmb3JnZXQgdGhlIGxhc3Qgc2VudCB2YWx1ZSBzbyB0aGF0IHdlIGRvbid0XG4gICAgICAgIC8vIGFjY2lkZW50YWxseSBwYXNzIGl0IG9uIHRvIHRoZSBkZWxlZ2F0ZS5cbiAgICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cbiAgfTtcblxuICAvLyBSZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlXG4gIC8vIG9yIG5vdCwgcmV0dXJuIHRoZSBydW50aW1lIG9iamVjdCBzbyB0aGF0IHdlIGNhbiBkZWNsYXJlIHRoZSB2YXJpYWJsZVxuICAvLyByZWdlbmVyYXRvclJ1bnRpbWUgaW4gdGhlIG91dGVyIHNjb3BlLCB3aGljaCBhbGxvd3MgdGhpcyBtb2R1bGUgdG8gYmVcbiAgLy8gaW5qZWN0ZWQgZWFzaWx5IGJ5IGBiaW4vcmVnZW5lcmF0b3IgLS1pbmNsdWRlLXJ1bnRpbWUgc2NyaXB0LmpzYC5cbiAgcmV0dXJuIGV4cG9ydHM7XG5cbn0oXG4gIC8vIElmIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZSwgdXNlIG1vZHVsZS5leHBvcnRzXG4gIC8vIGFzIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgbmFtZXNwYWNlLiBPdGhlcndpc2UgY3JlYXRlIGEgbmV3IGVtcHR5XG4gIC8vIG9iamVjdC4gRWl0aGVyIHdheSwgdGhlIHJlc3VsdGluZyBvYmplY3Qgd2lsbCBiZSB1c2VkIHRvIGluaXRpYWxpemVcbiAgLy8gdGhlIHJlZ2VuZXJhdG9yUnVudGltZSB2YXJpYWJsZSBhdCB0aGUgdG9wIG9mIHRoaXMgZmlsZS5cbiAgdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiA/IG1vZHVsZS5leHBvcnRzIDoge31cbikpO1xuXG50cnkge1xuICByZWdlbmVyYXRvclJ1bnRpbWUgPSBydW50aW1lO1xufSBjYXRjaCAoYWNjaWRlbnRhbFN0cmljdE1vZGUpIHtcbiAgLy8gVGhpcyBtb2R1bGUgc2hvdWxkIG5vdCBiZSBydW5uaW5nIGluIHN0cmljdCBtb2RlLCBzbyB0aGUgYWJvdmVcbiAgLy8gYXNzaWdubWVudCBzaG91bGQgYWx3YXlzIHdvcmsgdW5sZXNzIHNvbWV0aGluZyBpcyBtaXNjb25maWd1cmVkLiBKdXN0XG4gIC8vIGluIGNhc2UgcnVudGltZS5qcyBhY2NpZGVudGFsbHkgcnVucyBpbiBzdHJpY3QgbW9kZSwgd2UgY2FuIGVzY2FwZVxuICAvLyBzdHJpY3QgbW9kZSB1c2luZyBhIGdsb2JhbCBGdW5jdGlvbiBjYWxsLiBUaGlzIGNvdWxkIGNvbmNlaXZhYmx5IGZhaWxcbiAgLy8gaWYgYSBDb250ZW50IFNlY3VyaXR5IFBvbGljeSBmb3JiaWRzIHVzaW5nIEZ1bmN0aW9uLCBidXQgaW4gdGhhdCBjYXNlXG4gIC8vIHRoZSBwcm9wZXIgc29sdXRpb24gaXMgdG8gZml4IHRoZSBhY2NpZGVudGFsIHN0cmljdCBtb2RlIHByb2JsZW0uIElmXG4gIC8vIHlvdSd2ZSBtaXNjb25maWd1cmVkIHlvdXIgYnVuZGxlciB0byBmb3JjZSBzdHJpY3QgbW9kZSBhbmQgYXBwbGllZCBhXG4gIC8vIENTUCB0byBmb3JiaWQgRnVuY3Rpb24sIGFuZCB5b3UncmUgbm90IHdpbGxpbmcgdG8gZml4IGVpdGhlciBvZiB0aG9zZVxuICAvLyBwcm9ibGVtcywgcGxlYXNlIGRldGFpbCB5b3VyIHVuaXF1ZSBwcmVkaWNhbWVudCBpbiBhIEdpdEh1YiBpc3N1ZS5cbiAgRnVuY3Rpb24oXCJyXCIsIFwicmVnZW5lcmF0b3JSdW50aW1lID0gclwiKShydW50aW1lKTtcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fNTQ1X187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX185NDlfXzsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIG1vZHVsZSBleHBvcnRzIG11c3QgYmUgcmV0dXJuZWQgZnJvbSBydW50aW1lIHNvIGVudHJ5IGlubGluaW5nIGlzIGRpc2FibGVkXG4vLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbnJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1Mik7XG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiBtb2R1bGVbJ2RlZmF1bHQnXSA6XG5cdFx0KCkgPT4gbW9kdWxlO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkiXSwic291cmNlUm9vdCI6IiJ9