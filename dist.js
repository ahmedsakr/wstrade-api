!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("source-map-support"),require("cloudscraper"),require("node-fetch")):"function"==typeof define&&define.amd?define(["source-map-support","cloudscraper","node-fetch"],e):"object"==typeof exports?exports["wstrade-api"]=e(require("source-map-support"),require("cloudscraper"),require("node-fetch")):t["wstrade-api"]=e(t._,t._,t._)}(global,(function(t,e,r){return(()=>{var n={228:t=>{t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}},858:t=>{t.exports=function(t){if(Array.isArray(t))return t}},646:(t,e,r)=>{var n=r(228);t.exports=function(t){if(Array.isArray(t))return n(t)}},926:t=>{function e(t,e,r,n,a,o,i){try{var c=t[o](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,a)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise((function(a,o){var i=t.apply(r,n);function c(t){e(i,a,o,c,s,"next",t)}function s(t){e(i,a,o,c,s,"throw",t)}c(void 0)}))}}},575:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},913:t=>{function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}},713:t=>{t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},860:t=>{t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},884:t=>{t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}}},521:t=>{t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},206:t=>{t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},38:(t,e,r)=>{var n=r(858),a=r(884),o=r(379),i=r(521);t.exports=function(t,e){return n(t)||a(t,e)||o(t,e)||i()}},319:(t,e,r)=>{var n=r(646),a=r(860),o=r(379),i=r(206);t.exports=function(t){return n(t)||a(t)||o(t)||i()}},379:(t,e,r)=>{var n=r(228);t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}},757:(t,e,r)=>{t.exports=r(666)},391:(t,e,r)=>{"use strict";r.d(e,{Z:()=>h});var n=r(319),a=r.n(n),o=r(757),i=r.n(o),c=r(926),s=r.n(c),u=r(726),p=r(714),l=99,f=["sell","deposit","withdrawal","dividend","institutional_transfer","internal_transfer","refund","referral_bonus","affiliate","buy"];const h={all:(g=s()(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,p.Z)(u.Z.ACCOUNT_IDS,{});case 2:return e=t.sent,t.abrupt("return",{tfsa:e.find((function(t){return t.startsWith("tfsa")})),rrsp:e.find((function(t){return t.startsWith("rrsp")})),crypto:e.find((function(t){return t.startsWith("non-registered-crypto")})),personal:e.find((function(t){return t.startsWith("non-registered")&&!t.startsWith("non-registered-crypto")}))});case 4:case"end":return t.stop()}}),t)}))),function(){return g.apply(this,arguments)}),data:(k=s()(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.Z)(u.Z.LIST_ACCOUNT,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return k.apply(this,arguments)}),me:(b=s()(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.Z)(u.Z.ME,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return b.apply(this,arguments)}),person:(x=s()(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.Z)(u.Z.PERSON,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return x.apply(this,arguments)}),history:(w=s()(i().mark((function t(e,r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.Z)(u.Z.HISTORY_ACCOUNT,{interval:e,accountId:r}));case 1:case"end":return t.stop()}}),t)}))),function(t,e){return w.apply(this,arguments)}),activities:(v=s()(i().mark((function t(){var e,r,n,o,c,s,h,d,y,m,v=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null!=(c=v.length>0&&void 0!==v[0]?v[0]:{})&&c.limit&&c.limit>l)){t.next=3;break}throw new Error("filters.limit can not exceed 99! Leave filters.limit undefined if you want to retrieve all.");case 3:if(null==c||!c.accounts||Array.isArray(c.accounts)){t.next=5;break}throw new Error("filters.accounts must be an array!");case 5:if(null==c||!c.type||Array.isArray(c.type)){t.next=7;break}throw new Error("filters.type must be an array!");case 7:return s=[],t.next=10,(0,p.Z)(u.Z.ACTIVITIES,{limit:null!==(e=null==c?void 0:c.limit)&&void 0!==e?e:l,accountIds:null!==(r=null==c||null===(n=c.accounts)||void 0===n?void 0:n.join())&&void 0!==r?r:"",bookmark:"",type:null!==(o=null==c?void 0:c.type)&&void 0!==o?o:f});case 10:if(h=t.sent,s.push.apply(s,a()(h.results)),null!=c&&c.limit){t.next=22;break}case 13:if(s.length%l!=0){t.next=22;break}return t.next=16,(0,p.Z)(u.Z.ACTIVITIES,{limit:l,accountIds:null!==(d=null==c||null===(y=c.accounts)||void 0===y?void 0:y.join())&&void 0!==d?d:"",bookmark:h.bookmark,type:null!==(m=null==c?void 0:c.type)&&void 0!==m?m:f});case 16:if(0!==(h=t.sent).results.length){t.next=19;break}return t.abrupt("break",22);case 19:s.push.apply(s,a()(h.results)),t.next=13;break;case 22:return t.abrupt("return",s);case 23:case"end":return t.stop()}}),t)}))),function(){return v.apply(this,arguments)}),getBankAccounts:(m=s()(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.Z)(u.Z.BANK_ACCOUNTS,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return m.apply(this,arguments)}),deposits:(y=s()(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.Z)(u.Z.DEPOSITS,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return y.apply(this,arguments)}),positions:(d=s()(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.Z)(u.Z.POSITIONS,{accountId:e}));case 1:case"end":return t.stop()}}),t)}))),function(t){return d.apply(this,arguments)})};var d,y,m,v,w,x,b,k,g},726:(t,e,r)=>{"use strict";r.d(e,{Z:()=>x});var n,a,o,i,c,s,u,p,l,f,h,d=r(757),y=r.n(d),m=r(926),v=r.n(m),w={onFailure:(a=v()(y().mark((function t(e){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{status:e.statusCode,reason:e.statusMessage,body:e.body});case 1:case"end":return t.stop()}}),t)}))),function(t){return a.apply(this,arguments)}),onSuccess:(n=v()(y().mark((function t(e){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.body);case 1:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})};const x={LOGIN:{method:"POST",url:"https://trade-service.wealthsimple.com/auth/login",authenticated:!1,onSuccess:(h=v()(y().mark((function t(e){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{tokens:{access:e.headers["x-access-token"],refresh:e.headers["x-refresh-token"],expires:parseInt(e.headers["x-access-token-expires"],10)},accountInfo:e.body});case 1:case"end":return t.stop()}}),t)}))),function(t){return h.apply(this,arguments)}),onFailure:w.onFailure},REFRESH:{method:"POST",url:"https://trade-service.wealthsimple.com/auth/refresh",authenticated:!1,onSuccess:(f=v()(y().mark((function t(e){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{tokens:{access:e.headers["x-access-token"],refresh:e.headers["x-refresh-token"],expires:parseInt(e.headers["x-access-token-expires"],10)}});case 1:case"end":return t.stop()}}),t)}))),function(t){return f.apply(this,arguments)}),onFailure:w.onFailure},ACCOUNT_IDS:{method:"GET",url:"https://trade-service.wealthsimple.com/account/list",authenticated:!0,onSuccess:(l=v()(y().mark((function t(e){var r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.body,t.abrupt("return",r.results.map((function(t){return t.id})));case 2:case"end":return t.stop()}}),t)}))),function(t){return l.apply(this,arguments)}),onFailure:w.onFailure},LIST_ACCOUNT:{method:"GET",url:"https://trade-service.wealthsimple.com/account/list",authenticated:!0,onSuccess:(p=v()(y().mark((function t(e){var r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.body,t.abrupt("return",r.results);case 2:case"end":return t.stop()}}),t)}))),function(t){return p.apply(this,arguments)}),onFailure:w.onFailure},ME:{method:"GET",url:"https://trade-service.wealthsimple.com/me",authenticated:!0,onSuccess:w.onSuccess,onFailure:w.onFailure},PERSON:{method:"GET",url:"https://trade-service.wealthsimple.com/person",authenticated:!0,onSuccess:w.onSuccess,onFailure:w.onFailure},HISTORY_ACCOUNT:{method:"GET",url:"https://trade-service.wealthsimple.com/account/history/{0}?account_id={1}",authenticated:!0,parameters:{0:"interval",1:"accountId"},onSuccess:w.onSuccess,onFailure:w.onFailure},ACTIVITIES:{method:"GET",url:"https://trade-service.wealthsimple.com/account/activities?limit={0}&account_ids={1}&[2]&bookmark={3}",authenticated:!0,parameters:{0:"limit",1:"accountIds",2:"type",3:"bookmark"},onSuccess:w.onSuccess,onFailure:w.onFailure},DEPOSITS:{method:"GET",url:"https://trade-service.wealthsimple.com/deposits",authenticated:!0,onSuccess:(u=v()(y().mark((function t(e){var r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.body,t.abrupt("return",r.results);case 2:case"end":return t.stop()}}),t)}))),function(t){return u.apply(this,arguments)}),onFailure:w.onFailure},BANK_ACCOUNTS:{method:"GET",url:"https://trade-service.wealthsimple.com/bank-accounts",authenticated:!0,onSuccess:(s=v()(y().mark((function t(e){var r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.body,t.abrupt("return",r.results);case 2:case"end":return t.stop()}}),t)}))),function(t){return s.apply(this,arguments)}),onFailure:w.onFailure},EXCHANGE_RATES:{method:"GET",url:"https://trade-service.wealthsimple.com/forex",authenticated:!0,onSuccess:w.onSuccess,onFailure:w.onFailure},SECURITY:{method:"GET",url:"https://trade-service.wealthsimple.com/securities?query={0}",authenticated:!0,parameters:{0:"ticker"},onSuccess:(c=v()(y().mark((function t(e){var r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(r=e.body).results.length){t.next=3;break}throw new Error("Security does not exist");case 3:return t.abrupt("return",r.results);case 4:case"end":return t.stop()}}),t)}))),function(t){return c.apply(this,arguments)}),onFailure:w.onFailure},EXTENSIVE_SECURITY_DETAILS:{method:"GET",url:"https://trade-service.wealthsimple.com/securities/{0}",authenticated:!0,parameters:{0:"id"},onSuccess:w.onSuccess,onFailure:w.onFailure},QUOTES_HISTORY:{method:"GET",url:"https://trade-service.wealthsimple.com/securities/{0}/historical_quotes/{1}?mic=XNAS",authenticated:!0,parameters:{0:"id",1:"interval"},onSuccess:w.onSuccess,onFailure:w.onFailure},POSITIONS:{method:"GET",url:"https://trade-service.wealthsimple.com/account/positions?account_id={0}",authenticated:!0,parameters:{0:"accountId"},onSuccess:(i=v()(y().mark((function t(e){var r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.body,t.abrupt("return",r.results);case 2:case"end":return t.stop()}}),t)}))),function(t){return i.apply(this,arguments)}),onFailure:w.onFailure},ORDERS_BY_PAGE:{method:"GET",url:"https://trade-service.wealthsimple.com/orders?offset={0}&account_id={1}",authenticated:!0,parameters:{0:"offset",1:"accountId"},onSuccess:(o=v()(y().mark((function t(e){var r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.body,t.abrupt("return",{total:r.total,orders:r.results});case 2:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)}),onFailure:w.onFailure},CANCEL_ORDER:{method:"DELETE",url:"https://trade-service.wealthsimple.com/orders/{0}",authenticated:!0,parameters:{0:"orderId"},onSuccess:w.onSuccess,onFailure:w.onFailure},PLACE_ORDER:{method:"POST",url:"https://trade-service.wealthsimple.com/orders",authenticated:!0,onSuccess:w.onSuccess,onFailure:w.onFailure}}},464:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});var n=r(757),a=r.n(n),o=r(926),i=r.n(o),c=r(714),s=r(726),u=r(628),p={otp:null};const l={on:function(t,e){if(!(t in p))throw new Error("Unsupported authentication event '".concat(t,"'!"));p[t]=e},use:function(t){return u.Z.store(t)},tokens:function(){return{access:u.Z.access,refresh:u.Z.refresh,expires:u.Z.expires}},login:function(t,e){var r=this;return i()(a().mark((function n(){var o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=null,"function"!=typeof p.otp){n.next=4;break}return n.next=4,(0,c.Z)(s.Z.LOGIN,{email:t,password:e}).catch((function(){}));case 4:if(n.prev=4,n.t0=c.Z,n.t1=s.Z.LOGIN,n.t2=t,n.t3=e,"function"!=typeof p.otp){n.next=15;break}return n.next=12,p.otp();case 12:n.t4=n.sent,n.next=16;break;case 15:n.t4=p.otp;case 16:return n.t5=n.t4,n.t6={email:n.t2,password:n.t3,otp:n.t5},n.next=20,(0,n.t0)(n.t1,n.t6);case 20:o=n.sent,n.next=28;break;case 23:if(n.prev=23,n.t7=n.catch(4),p.otp){n.next=27;break}throw new Error("OTP not provided!");case 27:throw n.t7;case 28:r.use(o.tokens);case 29:case"end":return n.stop()}}),n,null,[[4,23]])})))()},refresh:(f=i()(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.w)());case 1:case"end":return t.stop()}}),t)}))),function(){return f.apply(this,arguments)})};var f},500:(t,e,r)=>{"use strict";r.d(e,{e:()=>o,Z:()=>i});var n=["implicit_token_refresh","securities_cache"],a=["securities_cache"],o=function(t){return!a.includes(t)};function i(t){if(!function(t){return null!=t&&t.startsWith("no_")?n.includes(t.substring("no_".length)):n.includes(t)}(t))throw new Error("'".concat(t,"' is not supported!"));if(null!=t&&t.startsWith("no_")){var e=t.substring(t.indexOf("_")+1);o(e)&&a.push(e)}else o(t)||a.splice(a.indexOf(t),1)}},657:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});var n=r(38),a=r.n(n),o=r(575),i=r.n(o),c=r(913),s=r.n(c),u=["NASDAQ","NYSE","TSX","TSX-V","AEQUITAS NEO EXCHANGE","CC"];const p=function(){function t(e){var r;if(i()(this,t),this.symbol=null,this.exchange=null,this.id=null,this.crypto=!1,"string"==typeof e){if(""===e)throw new Error("Empty ticker");var n=e.split(":"),o=a()(n,2);this.symbol=o[0],this.exchange=o[1]}else{if(!e.symbol&&!e.id)throw new Error("Invalid ticker '".concat(e,"'"));this.symbol=e.symbol||null,this.exchange=e.exchange||null,this.id=e.id||null}if("NEO"===this.exchange&&(this.exchange="AEQUITAS NEO EXCHANGE"),this.exchange&&!u.includes(this.exchange))throw new Error("Invalid exchange '".concat(this.exchange,"'!"));("CC"===this.exchange||null!==(r=this.id)&&void 0!==r&&r.startsWith("sec-z"))&&(this.crypto=!0)}return s()(t,[{key:"format",value:function(){return this.id?this.id:"AEQUITAS NEO EXCHANGE"===this.exchange?"".concat(this.symbol,":NEO"):"".concat(this.symbol).concat(this.exchange?":".concat(this.exchange):"")}},{key:"weakEquals",value:function(t){return!(!this.id||this.id!==t.id)||!(!this.symbol||this.symbol!==t.symbol||this.crypto!==t.crypto)}}]),t}()},628:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={access:null,refresh:null,expires:null,store:function(t){this.access=t.access,this.refresh=t.refresh,this.expires=t.expires},expired:function(){return this.expires&&parseInt(Date.now()/1e3,10)>=this.expires}}},752:(t,e,r)=>{"use strict";r.d(e,{Z:()=>x});var n=r(38),a=r.n(n),o=r(757),i=r.n(o),c=r(926),s=r.n(c),u=r(726),p=r(714),l=r(657),f=r(500),h=r(575),d=r.n(h),y=r(913),m=r.n(y),v=new(function(){function t(e){d()(this,t),this.cache=new Map,this.size=e}return m()(t,[{key:"insert",value:function(t,e){this.cache.size>=this.size&&this.cache.delete(this.cache.keys().next().value),this.cache.set(t,e)}},{key:"get",value:function(t){return this.cache.get(t)}}]),t}())(10);const w=function(t){var e=v.get(new l.Z(t).format());return void 0===e?null:e},x={exchangeRates:(k=s()(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.Z)(u.Z.EXCHANGE_RATES,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return k.apply(this,arguments)}),getSecurity:(b=s()(i().mark((function t(e,r){var n,o,c,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null,o=new l.Z(e),r||!(0,f.e)("securities_cache")){t.next=6;break}if(!(n=w(o))){t.next=6;break}return t.abrupt("return",n);case 6:if(!o.id){t.next=12;break}return t.next=9,(0,p.Z)(u.Z.EXTENSIVE_SECURITY_DETAILS,{id:o.id});case 9:n=t.sent,t.next=28;break;case 12:return t.next=14,(0,p.Z)(u.Z.SECURITY,{ticker:o.symbol});case 14:if(n=(n=t.sent).filter((function(t){return t.stock.symbol===o.symbol})),o.crypto?n=n.filter((function(t){return"cryptocurrency"===t.security_type})):o.exchange&&(n=n.filter((function(t){return t.stock.primary_exchange===o.exchange}))),!(n.length>1)){t.next=19;break}throw new Error("Multiple securities matched query.");case 19:if(0!==n.length){t.next=21;break}throw new Error("No securities matched query.");case 21:if(c=n,s=a()(c,1),n=s[0],!r){t.next=28;break}return t.next=27,(0,p.Z)(u.Z.EXTENSIVE_SECURITY_DETAILS,{id:n.id});case 27:n=t.sent;case 28:return(0,f.e)("securities_cache")&&null===w(o)&&(i=o,h=n,v.insert(new l.Z(i).format(),h)),t.abrupt("return",n);case 30:case"end":return t.stop()}var i,h}),t)}))),function(t,e){return b.apply(this,arguments)})};var b,k},568:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var n=r(319),a=r.n(n),o=new(r(545).Headers);const i={add:function(t,e){return o.append(t,e)},remove:function(t){return o.delete(t)},clear:function(){return a()(o).forEach((function(t){return o.delete(t[0])}))},values:function(){return a()(o)}}},352:(t,e,r)=>{r(949).install();var n=r(464).Z,a=r(568).Z,o=r(391).Z,i=r(826).Z,c=r(752).Z,s=r(889).Z,u=r(500).Z;t.exports={auth:n,headers:a,accounts:o,orders:i,quotes:s,data:c,config:u}},714:(t,e,r)=>{"use strict";r.d(e,{Z:()=>E,w:()=>S});var n=r(757),a=r.n(n),o=r(38),i=r.n(o),c=r(926),s=r.n(c),u=r(713),p=r.n(u),l=r(214),f=r.n(l),h=r(568),d=r(628),y=r(726),m=r(500);function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var w=200,x=201;function b(t,e){var r=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){p()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},e),n=t.url;if(t.parameters)for(var a=0;a<Object.keys(t.parameters).length;a++){var o=t.parameters[a];if(null===r[o]||void 0===r[o])throw new Error("URL parameter '".concat(o,"' missing!"));if(n.indexOf("{".concat(a,"}"))>=0)n=n.replace("{".concat(a,"}"),r[t.parameters[a]]);else{if(!(n.indexOf("[".concat(a,"]"))>=0))throw new Error("Malformed URL! This is an internal error: raise an issue!");!function(){var e=t.parameters[a],o=r[e].map((function(t){return"".concat(e,"=").concat(t)})).join("&");n=n.replace("[".concat(a,"]"),o)}()}delete r[t.parameters[a]]}return["GET","HEAD"].includes(t.method)?{url:n,payload:void 0}:{url:n,payload:JSON.stringify(r)}}function k(t,e){return g.apply(this,arguments)}function g(){return(g=s()(a().mark((function t(e,r){var n,o,c,s,u;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={"Content-type":"application/json"},!e.authenticated){t.next=8;break}if(d.Z.access){t.next=4;break}throw new Error("Authentication required for '".concat(e.url,"'"));case 4:if(!(0,m.e)("implicit_token_refresh")){t.next=7;break}return t.next=7,Z();case 7:n.Authorization=d.Z.access;case 8:return h.Z.values().forEach((function(t){var e=i()(t,2),r=e[0],a=e[1];n[r]=a})),o=b(e,r),c=o.url,s=o.payload,u=null,t.next=13,f()({url:c,body:s,method:e.method,headers:n,callback:function(t,e){u=e}}).catch((function(){}));case 13:try{u.body=JSON.parse(u.body)}catch(t){}return t.abrupt("return",u);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(t,e){return _.apply(this,arguments)}function _(){return(_=s()(a().mark((function t(e,r){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e,r);case 2:if(n=t.sent,![w,x].includes(n.statusCode)){t.next=5;break}return t.abrupt("return",e.onSuccess(n));case 5:return t.t0=Promise,t.next=8,e.onFailure(n);case 8:return t.t1=t.sent,t.abrupt("return",t.t0.reject.call(t.t0,t.t1));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(){return O.apply(this,arguments)}function O(){return(O=s()(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(y.Z.REFRESH,{refresh_token:d.Z.refresh});case 2:e=t.sent,d.Z.store(e.tokens);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Z(){return T.apply(this,arguments)}function T(){return(T=s()(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!d.Z.expired()){t.next=13;break}if(!d.Z.refresh){t.next=12;break}return t.prev=2,t.next=5,S();case 5:t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(2),new Error("Unable to refresh expired token: ".concat(t.t0));case 10:t.next=13;break;case 12:throw new Error("Access token expired");case 13:case"end":return t.stop()}}),t,null,[[2,7]])})))).apply(this,arguments)}},826:(t,e,r)=>{"use strict";r.d(e,{Z:()=>R});var n=r(713),a=r.n(n),o=r(319),i=r.n(o),c=r(757),s=r.n(c),u=r(926),p=r.n(u),l=r(726),f=r(714),h=r(657);function d(t,e){return y.apply(this,arguments)}function y(){return(y=p()(s().mark((function t(e,r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.Z)(l.Z.ORDERS_BY_PAGE,{offset:20*(r-1),accountId:e}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){return v.apply(this,arguments)}function v(){return(v=p()(s().mark((function t(e){var r,n,a,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e,1);case 2:if(r=t.sent,!((n=Math.ceil(r.total/20))>1)){t.next=12;break}for(a=[],o=2;o<=n;o++)a.push(d(e,o).then((function(t){return t.orders})));return t.next=9,Promise.all(a);case 9:t.sent.forEach((function(t){var e;return(e=r.orders).push.apply(e,i()(t))})),r.total=r.orders.length;case 12:return t.abrupt("return",r);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t,e,r){return x.apply(this,arguments)}function x(){return(x=p()(s().mark((function t(e,r,n){var a,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e);case 2:return a=t.sent,o=function(t){if(r){var e=new h.Z({symbol:t.symbol,id:t.security_id});if(!new h.Z(r).weakEquals(e))return!1}return t.status===n},a.orders=a.orders.filter(o),a.total=a.orders.length,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}const b={page:d,all:m,pending:(E=p()(s().mark((function t(e,r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",w(e,r,"submitted"));case 1:case"end":return t.stop()}}),t)}))),function(t,e){return E.apply(this,arguments)}),filled:(g=p()(s().mark((function t(e,r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",w(e,r,"posted"));case 1:case"end":return t.stop()}}),t)}))),function(t,e){return g.apply(this,arguments)}),cancelled:(k=p()(s().mark((function t(e,r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",w(e,r,"cancelled"));case 1:case"end":return t.stop()}}),t)}))),function(t,e){return k.apply(this,arguments)})};var k,g,E,_=r(752),S=r(889),O=function(t){return["TSX","TSX-V"].includes(t)};const Z={cancel:(L=p()(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,(0,f.Z)(l.Z.CANCEL_ORDER,{orderId:e});case 3:return t.t1=t.sent,t.abrupt("return",{order:t.t0,response:t.t1});case 5:case"end":return t.stop()}}),t)}))),function(t){return L.apply(this,arguments)}),cancelPending:function(t){var e=this;return p()(s().mark((function r(){var n;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.pending(t);case 2:return n=r.sent,r.abrupt("return",Promise.all(n.orders.map(function(){var t=p()(s().mark((function t(r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.cancel(r.order_id));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())));case 4:case"end":return r.stop()}}),r)})))()},marketBuy:(C=p()(s().mark((function t(e,r,n){var a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.Z.getSecurity(r);case 2:if(a=t.sent,t.t0=f.Z,t.t1=l.Z.PLACE_ORDER,t.t2=a.id,new h.Z(r).crypto){t.next=12;break}return t.next=9,S.Z.get(r);case 9:t.t3=t.sent,t.next=13;break;case 12:t.t3=void 0;case 13:return t.t4=t.t3,t.t5=n,t.t6=e,t.t7={security_id:t.t2,limit_price:t.t4,quantity:t.t5,order_type:"buy_quantity",order_sub_type:"market",time_in_force:"day",account_id:t.t6},t.abrupt("return",(0,t.t0)(t.t1,t.t7));case 18:case"end":return t.stop()}}),t)}))),function(t,e,r){return C.apply(this,arguments)}),limitBuy:(P=p()(s().mark((function t(e,r,n,a){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=f.Z,t.t1=l.Z.PLACE_ORDER,t.next=4,_.Z.getSecurity(r);case 4:return t.t2=t.sent.id,t.t3=n,t.t4=a,t.t5=e,t.t6={security_id:t.t2,limit_price:t.t3,quantity:t.t4,order_type:"buy_quantity",order_sub_type:"limit",time_in_force:"day",account_id:t.t5},t.abrupt("return",(0,t.t0)(t.t1,t.t6));case 10:case"end":return t.stop()}}),t)}))),function(t,e,r,n){return P.apply(this,arguments)}),stopLimitBuy:(j=p()(s().mark((function t(e,r,n,a,o){var i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.Z.getSecurity(r);case 2:if(i=t.sent,!O(i.stock.primary_exchange)||n===a){t.next=5;break}throw new Error("TSX/TSX-V securities must have an equivalent stop and limit price.");case 5:return t.abrupt("return",(0,f.Z)(l.Z.PLACE_ORDER,{security_id:i.id,stop_price:n,limit_price:a,quantity:o,order_type:"buy_quantity",order_sub_type:"stop_limit",time_in_force:"day",account_id:e}));case 6:case"end":return t.stop()}}),t)}))),function(t,e,r,n,a){return j.apply(this,arguments)}),marketSell:(A=p()(s().mark((function t(e,r,n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=f.Z,t.t1=l.Z.PLACE_ORDER,t.next=4,_.Z.getSecurity(r);case 4:if(t.t2=t.sent.id,new h.Z(r).crypto){t.next=11;break}return t.next=8,S.Z.get(r);case 8:t.t3=t.sent,t.next=12;break;case 11:t.t3=void 0;case 12:return t.t4=t.t3,t.t5=n,t.t6=e,t.t7={security_id:t.t2,market_value:t.t4,quantity:t.t5,order_type:"sell_quantity",order_sub_type:"market",time_in_force:"day",account_id:t.t6},t.abrupt("return",(0,t.t0)(t.t1,t.t7));case 17:case"end":return t.stop()}}),t)}))),function(t,e,r){return A.apply(this,arguments)}),limitSell:(I=p()(s().mark((function t(e,r,n,a){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=f.Z,t.t1=l.Z.PLACE_ORDER,t.next=4,_.Z.getSecurity(r);case 4:return t.t2=t.sent.id,t.t3=n,t.t4=a,t.t5=e,t.t6={security_id:t.t2,limit_price:t.t3,quantity:t.t4,order_type:"sell_quantity",order_sub_type:"limit",time_in_force:"day",account_id:t.t5},t.abrupt("return",(0,t.t0)(t.t1,t.t6));case 10:case"end":return t.stop()}}),t)}))),function(t,e,r,n){return I.apply(this,arguments)}),stopLimitSell:(T=p()(s().mark((function t(e,r,n,a,o){var i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.Z.getSecurity(r);case 2:if(i=t.sent,!O(i.stock.primary_exchange)||n===a){t.next=5;break}throw new Error("TSX/TSX-V securities must have an equivalent stop and limit price.");case 5:return t.abrupt("return",(0,f.Z)(l.Z.PLACE_ORDER,{security_id:i.id,stop_price:n,limit_price:a,quantity:o,order_type:"sell_quantity",order_sub_type:"stop_limit",time_in_force:"day",account_id:e}));case 6:case"end":return t.stop()}}),t)}))),function(t,e,r,n,a){return T.apply(this,arguments)})};var T,I,A,j,P,C,L;function F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function N(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?F(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}const R=N(N({},b),Z)},889:(t,e,r)=>{"use strict";r.d(e,{Z:()=>h});var n=r(757),a=r.n(n),o=r(926),i=r.n(o),c=r(752);const s={quote:(u=i()(a().mark((function t(e){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.getSecurity(e,!0);case 2:return r=t.sent,t.abrupt("return",r.quote.amount);case 4:case"end":return t.stop()}}),t)}))),function(t){return u.apply(this,arguments)})};var u,p=r(657),l=r(714),f=r(726);const h={defaultProvider:s,providers:{},use:function(t,e){if("function"!=typeof e.quote)throw new Error("Invalid quote provider for ".concat(t,"!"));this.providers[t]=e},get:function(t){var e=this;return i()(a().mark((function r(){var n,o,i;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=null,!(o=new p.Z(t)).exchange){r.next=6;break}n=o.exchange,r.next=15;break;case 6:if(!o.crypto||!o.id){r.next=10;break}n="CC",r.next=15;break;case 10:if(!(Object.keys(e.providers).length>0)){r.next=15;break}return r.next=13,c.Z.getSecurity(o,!1);case 13:i=r.sent,n=i.stock.primary_exchange;case 15:if(!(n in e.providers)){r.next=17;break}return r.abrupt("return",e.providers[n].quote(o));case 17:return r.abrupt("return",e.defaultProvider.quote(o));case 18:case"end":return r.stop()}}),r)})))()},history:function(t,e){return i()(a().mark((function r(){var n;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((n=new p.Z(t)).id){r.next=5;break}return r.next=4,c.Z.getSecurity(n);case 4:n.id=r.sent.id;case 5:return r.abrupt("return",(0,l.Z)(f.Z.QUOTES_HISTORY,{id:n.id,interval:e}));case 6:case"end":return r.stop()}}),r)})))()}}},666:t=>{var e=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(t,e,r,n){var a=e&&e.prototype instanceof y?e:y,o=Object.create(a.prototype),i=new Z(n||[]);return o._invoke=function(t,e,r){var n=p;return function(a,o){if(n===f)throw new Error("Generator is already running");if(n===h){if("throw"===a)throw o;return I()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=_(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=f;var s=u(t,e,r);if("normal"===s.type){if(n=r.done?h:l,s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=h,r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var p="suspendedStart",l="suspendedYield",f="executing",h="completed",d={};function y(){}function m(){}function v(){}var w={};w[o]=function(){return this};var x=Object.getPrototypeOf,b=x&&x(x(T([])));b&&b!==r&&n.call(b,o)&&(w=b);var k=v.prototype=y.prototype=Object.create(w);function g(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function E(t,e){function r(a,o,i,c){var s=u(t[a],t,o);if("throw"!==s.type){var p=s.arg,l=p.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(l).then((function(t){p.value=t,i(p)}),(function(t){return r("throw",t,i,c)}))}c(s.arg)}var a;this._invoke=function(t,n){function o(){return new e((function(e,a){r(t,n,e,a)}))}return a=a?a.then(o,o):o()}}function _(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method))return d;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var a=u(n,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,d;var o=a.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Z(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function T(t){if(t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}return{next:I}}function I(){return{value:e,done:!0}}return m.prototype=k.constructor=v,v.constructor=m,v[c]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},g(E.prototype),E.prototype[i]=function(){return this},t.AsyncIterator=E,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(k),k[c]="Generator",k[o]=function(){return this},k.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=T,Z.prototype={constructor:Z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}},214:t=>{"use strict";t.exports=e},545:t=>{"use strict";t.exports=r},949:e=>{"use strict";e.exports=t}},a={};function o(t){if(a[t])return a[t].exports;var e=a[t]={exports:{}};return n[t](e,e.exports,o),e.exports}return o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o(352)})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93c3RyYWRlLWFwaS93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hcnJheUxpa2VUb0FycmF5LmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXJyYXlXaXRoSG9sZXMuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hcnJheVdpdGhvdXRIb2xlcy5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL25vbkl0ZXJhYmxlUmVzdC5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL25vbkl0ZXJhYmxlU3ByZWFkLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheS5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5LmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvYWNjb3VudHMuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvYXBpL2VuZHBvaW50cy5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9hdXRoLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9jb3JlL3RpY2tlci5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9oZWxwZXJzL3RpbWUuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvY29yZS90b2tlbnMuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvb3B0aW9uYWwvc2VjdXJpdGllcy1jYWNoZS5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9jb3JlL2NhY2hlLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL2RhdGEuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvaGVhZGVycy5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9uZXR3b3JrL2h0dHBzLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL29yZGVycy9oaXN0b3J5LmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL29yZGVycy9zdWJtaXQuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvb3JkZXJzL2luZGV4LmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL3F1b3Rlcy9kZWZhdWx0LmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL3F1b3Rlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9yZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvZXh0ZXJuYWwge1wiY29tbW9uanNcIjpcImNsb3Vkc2NyYXBlclwiLFwiY29tbW9uanMyXCI6XCJjbG91ZHNjcmFwZXJcIixcImFtZFwiOlwiY2xvdWRzY3JhcGVyXCIsXCJyb290XCI6XCJfXCJ9Iiwid2VicGFjazovL3dzdHJhZGUtYXBpL2V4dGVybmFsIHtcImNvbW1vbmpzXCI6XCJub2RlLWZldGNoXCIsXCJjb21tb25qczJcIjpcIm5vZGUtZmV0Y2hcIixcImFtZFwiOlwibm9kZS1mZXRjaFwiLFwicm9vdFwiOlwiX1wifSIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS9leHRlcm5hbCB7XCJjb21tb25qc1wiOlwic291cmNlLW1hcC1zdXBwb3J0XCIsXCJjb21tb25qczJcIjpcInNvdXJjZS1tYXAtc3VwcG9ydFwiLFwiYW1kXCI6XCJzb3VyY2UtbWFwLXN1cHBvcnRcIixcInJvb3RcIjpcIl9cIn0iLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvd2VicGFjay9zdGFydHVwIiwid2VicGFjazovL3dzdHJhZGUtYXBpL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3dzdHJhZGUtYXBpL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsInJlcXVpcmUiLCJkZWZpbmUiLCJhbWQiLCJnbG9iYWwiLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX185NDlfXyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzIxNF9fIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fNTQ1X18iLCJhcnIiLCJsZW4iLCJsZW5ndGgiLCJpIiwiYXJyMiIsIkFycmF5IiwiaXNBcnJheSIsImFycmF5TGlrZVRvQXJyYXkiLCJhc3luY0dlbmVyYXRvclN0ZXAiLCJnZW4iLCJyZXNvbHZlIiwicmVqZWN0IiwiX25leHQiLCJfdGhyb3ciLCJrZXkiLCJhcmciLCJpbmZvIiwidmFsdWUiLCJlcnJvciIsImRvbmUiLCJQcm9taXNlIiwidGhlbiIsImZuIiwic2VsZiIsInRoaXMiLCJhcmdzIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJlcnIiLCJ1bmRlZmluZWQiLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsIm9iaiIsIml0ZXIiLCJTeW1ib2wiLCJpdGVyYXRvciIsImZyb20iLCJfYXJyIiwiX24iLCJfZCIsIl9lIiwiX3MiLCJfaSIsIm5leHQiLCJwdXNoIiwiYXJyYXlXaXRoSG9sZXMiLCJpdGVyYWJsZVRvQXJyYXlMaW1pdCIsInVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5Iiwibm9uSXRlcmFibGVSZXN0IiwiYXJyYXlXaXRob3V0SG9sZXMiLCJpdGVyYWJsZVRvQXJyYXkiLCJub25JdGVyYWJsZVNwcmVhZCIsIm8iLCJtaW5MZW4iLCJuIiwidG9TdHJpbmciLCJjYWxsIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJ0ZXN0IiwiQUNUSVZJVElFU19NQVhfRFJBVyIsIkFDVElWSVRJRVNfVFlQRVNfQUxMIiwiYWxsIiwiaGFuZGxlUmVxdWVzdCIsImVuZHBvaW50cyIsImFjY291bnRzIiwidGZzYSIsImZpbmQiLCJhY2NvdW50Iiwic3RhcnRzV2l0aCIsInJyc3AiLCJjcnlwdG8iLCJwZXJzb25hbCIsImRhdGEiLCJtZSIsInBlcnNvbiIsImhpc3RvcnkiLCJpbnRlcnZhbCIsImFjY291bnRJZCIsImFjdGl2aXRpZXMiLCJmaWx0ZXJzIiwibGltaXQiLCJFcnJvciIsInR5cGUiLCJyZXN1bHRzIiwiYWNjb3VudElkcyIsImpvaW4iLCJib29rbWFyayIsInJlc3BvbnNlIiwiZ2V0QmFua0FjY291bnRzIiwiZGVwb3NpdHMiLCJwb3NpdGlvbnMiLCJkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIiLCJvbkZhaWx1cmUiLCJzdGF0dXMiLCJzdGF0dXNDb2RlIiwicmVhc29uIiwic3RhdHVzTWVzc2FnZSIsImJvZHkiLCJvblN1Y2Nlc3MiLCJMT0dJTiIsIm1ldGhvZCIsInVybCIsImF1dGhlbnRpY2F0ZWQiLCJ0b2tlbnMiLCJhY2Nlc3MiLCJoZWFkZXJzIiwicmVmcmVzaCIsImV4cGlyZXMiLCJwYXJzZUludCIsImFjY291bnRJbmZvIiwiUkVGUkVTSCIsIkFDQ09VTlRfSURTIiwibWFwIiwiaWQiLCJMSVNUX0FDQ09VTlQiLCJNRSIsIlBFUlNPTiIsIkhJU1RPUllfQUNDT1VOVCIsInBhcmFtZXRlcnMiLCIwIiwiMSIsIkFDVElWSVRJRVMiLCIyIiwiMyIsIkRFUE9TSVRTIiwiQkFOS19BQ0NPVU5UUyIsIkVYQ0hBTkdFX1JBVEVTIiwiU0VDVVJJVFkiLCJFWFRFTlNJVkVfU0VDVVJJVFlfREVUQUlMUyIsIlFVT1RFU19ISVNUT1JZIiwiUE9TSVRJT05TIiwiT1JERVJTX0JZX1BBR0UiLCJ0b3RhbCIsIm9yZGVycyIsIkNBTkNFTF9PUkRFUiIsIlBMQUNFX09SREVSIiwiZXZlbnRzIiwib3RwIiwib24iLCJldmVudCIsImhhbmRsZXIiLCJ1c2UiLCJzdGF0ZSIsImxvZ2luIiwiZW1haWwiLCJwYXNzd29yZCIsInJlZnJlc2hBdXRoZW50aWNhdGlvbiIsInN1cHBvcnRlZEZlYXR1cmVzIiwiZGlzYWJsZWQiLCJjb25maWdFbmFibGVkIiwiZmVhdHVyZSIsImluY2x1ZGVzIiwiY29uZmlnIiwic3Vic3RyaW5nIiwic3VwcG9ydGVkIiwiY3V0IiwiaW5kZXhPZiIsInNwbGljZSIsImV4Y2hhbmdlcyIsInN5bWJvbCIsImV4Y2hhbmdlIiwic3BsaXQiLCJvdGhlciIsInN0b3JlIiwiZXhwaXJlZCIsIkRhdGUiLCJub3ciLCJjYWNoZSIsInNpemUiLCJNYXAiLCJrZXlzIiwic2V0IiwiZ2V0Iiwic2VjdXJpdHkiLCJyZXN1bHQiLCJUaWNrZXIiLCJmb3JtYXQiLCJleGNoYW5nZVJhdGVzIiwiZ2V0U2VjdXJpdHkiLCJ1c2VyVGlja2VyIiwiZXh0ZW5zaXZlIiwidGlja2VyIiwiZmlsdGVyIiwic3RvY2siLCJzZWN1cml0eV90eXBlIiwicHJpbWFyeV9leGNoYW5nZSIsImluc2VydCIsImN1c3RvbUhlYWRlcnMiLCJIZWFkZXJzIiwiYWRkIiwiYXBwZW5kIiwicmVtb3ZlIiwiY2xlYXIiLCJmb3JFYWNoIiwiaGVhZGVyIiwidmFsdWVzIiwiYXV0aCIsInF1b3RlcyIsIkhUVFBfT0siLCJIVFRQX0NSRUFURUQiLCJmaW5hbGl6ZVJlcXVlc3QiLCJlbmRwb2ludCIsInBhcmFtcyIsImluZGV4IiwicGFyYW1ldGVyTmFtZSIsInJlcGxhY2UiLCJxdWVyeVBhcmFtTmFtZSIsInF1ZXJ5UGFyYW0iLCJwYXlsb2FkIiwiSlNPTiIsInN0cmluZ2lmeSIsInRhbGsiLCJpbXBsaWNpdFRva2VuUmVmcmVzaCIsIkF1dGhvcml6YXRpb24iLCJjbG91ZHNjcmFwZXIiLCJjYWxsYmFjayIsInVudXNlZCIsInJlcyIsInBhcnNlIiwicmVmcmVzaF90b2tlbiIsInBhZ2UiLCJwYWdlTnVtIiwib2Zmc2V0IiwicGFnZXMiLCJNYXRoIiwiY2VpbCIsInRhc2tzIiwibGlzdCIsImZpbHRlcmVkT3JkZXJzIiwib3JkZXJGaWx0ZXIiLCJvcmRlciIsInNlY3VyaXR5X2lkIiwid2Vha0VxdWFscyIsInBlbmRpbmciLCJmaWxsZWQiLCJjYW5jZWxsZWQiLCJpc0NhbmFkaWFuU2VjdXJpdHkiLCJjYW5jZWwiLCJvcmRlcklkIiwiY2FuY2VsUGVuZGluZyIsIm9yZGVyX2lkIiwibWFya2V0QnV5IiwicXVhbnRpdHkiLCJkZXRhaWxzIiwibGltaXRfcHJpY2UiLCJvcmRlcl90eXBlIiwib3JkZXJfc3ViX3R5cGUiLCJ0aW1lX2luX2ZvcmNlIiwiYWNjb3VudF9pZCIsImxpbWl0QnV5Iiwic3RvcExpbWl0QnV5Iiwic3RvcCIsInN0b3BfcHJpY2UiLCJtYXJrZXRTZWxsIiwibWFya2V0X3ZhbHVlIiwibGltaXRTZWxsIiwic3RvcExpbWl0U2VsbCIsInN1Ym1pdCIsInF1b3RlIiwiYW1vdW50IiwiZGVmYXVsdFByb3ZpZGVyIiwidHJhZGUiLCJwcm92aWRlcnMiLCJwcm92aWRlciIsInJ1bnRpbWUiLCJPcCIsImhhc093biIsImhhc093blByb3BlcnR5IiwiJFN5bWJvbCIsIml0ZXJhdG9yU3ltYm9sIiwiYXN5bmNJdGVyYXRvclN5bWJvbCIsImFzeW5jSXRlcmF0b3IiLCJ0b1N0cmluZ1RhZ1N5bWJvbCIsInRvU3RyaW5nVGFnIiwid3JhcCIsImlubmVyRm4iLCJvdXRlckZuIiwidHJ5TG9jc0xpc3QiLCJwcm90b0dlbmVyYXRvciIsIkdlbmVyYXRvciIsImdlbmVyYXRvciIsImNyZWF0ZSIsImNvbnRleHQiLCJDb250ZXh0IiwiX2ludm9rZSIsIkdlblN0YXRlU3VzcGVuZGVkU3RhcnQiLCJHZW5TdGF0ZUV4ZWN1dGluZyIsIkdlblN0YXRlQ29tcGxldGVkIiwiZG9uZVJlc3VsdCIsImRlbGVnYXRlIiwiZGVsZWdhdGVSZXN1bHQiLCJtYXliZUludm9rZURlbGVnYXRlIiwiQ29udGludWVTZW50aW5lbCIsInNlbnQiLCJfc2VudCIsImRpc3BhdGNoRXhjZXB0aW9uIiwiYWJydXB0IiwicmVjb3JkIiwidHJ5Q2F0Y2giLCJHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkIiwibWFrZUludm9rZU1ldGhvZCIsIkdlbmVyYXRvckZ1bmN0aW9uIiwiR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUiLCJJdGVyYXRvclByb3RvdHlwZSIsImdldFByb3RvIiwiZ2V0UHJvdG90eXBlT2YiLCJOYXRpdmVJdGVyYXRvclByb3RvdHlwZSIsIkdwIiwiZGVmaW5lSXRlcmF0b3JNZXRob2RzIiwiQXN5bmNJdGVyYXRvciIsIlByb21pc2VJbXBsIiwiaW52b2tlIiwiX19hd2FpdCIsInVud3JhcHBlZCIsInByZXZpb3VzUHJvbWlzZSIsImNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnIiwicmVzdWx0TmFtZSIsIm5leHRMb2MiLCJwdXNoVHJ5RW50cnkiLCJsb2NzIiwiZW50cnkiLCJ0cnlMb2MiLCJjYXRjaExvYyIsImZpbmFsbHlMb2MiLCJhZnRlckxvYyIsInRyeUVudHJpZXMiLCJyZXNldFRyeUVudHJ5IiwiY29tcGxldGlvbiIsInJlc2V0IiwiaXRlcmFibGUiLCJpdGVyYXRvck1ldGhvZCIsImlzTmFOIiwiZGlzcGxheU5hbWUiLCJpc0dlbmVyYXRvckZ1bmN0aW9uIiwiZ2VuRnVuIiwiY3RvciIsIm1hcmsiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImF3cmFwIiwiYXN5bmMiLCJvYmplY3QiLCJyZXZlcnNlIiwicG9wIiwic2tpcFRlbXBSZXNldCIsInByZXYiLCJjaGFyQXQiLCJyb290UmVjb3JkIiwicnZhbCIsImV4Y2VwdGlvbiIsImhhbmRsZSIsImxvYyIsImNhdWdodCIsImhhc0NhdGNoIiwiaGFzRmluYWxseSIsImZpbmFsbHlFbnRyeSIsImNvbXBsZXRlIiwiZmluaXNoIiwidGhyb3duIiwiZGVsZWdhdGVZaWVsZCIsInJlZ2VuZXJhdG9yUnVudGltZSIsImFjY2lkZW50YWxTdHJpY3RNb2RlIiwiRnVuY3Rpb24iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsInByb3AiXSwibWFwcGluZ3MiOiJDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxFQUFRRyxRQUFRLHNCQUF1QkEsUUFBUSxnQkFBaUJBLFFBQVEsZUFDaEUsbUJBQVhDLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxDQUFDLHFCQUFzQixlQUFnQixjQUFlSixHQUNuQyxpQkFBWkMsUUFDZEEsUUFBUSxlQUFpQkQsRUFBUUcsUUFBUSxzQkFBdUJBLFFBQVEsZ0JBQWlCQSxRQUFRLGVBRWpHSixFQUFLLGVBQWlCQyxFQUFRRCxFQUFRLEVBQUdBLEVBQVEsRUFBR0EsRUFBUSxHQVI5RCxDQVNHTyxRQUFRLFNBQVNDLEVBQWtDQyxFQUFrQ0MsR0FDeEYsTSxxQkNBQVAsRUFBT0QsUUFWUCxTQUEyQlMsRUFBS0MsSUFDbkIsTUFBUEEsR0FBZUEsRUFBTUQsRUFBSUUsVUFBUUQsRUFBTUQsRUFBSUUsUUFFL0MsSUFBSyxJQUFJQyxFQUFJLEVBQUdDLEVBQU8sSUFBSUMsTUFBTUosR0FBTUUsRUFBSUYsRUFBS0UsSUFDOUNDLEVBQUtELEdBQUtILEVBQUlHLEdBR2hCLE9BQU9DLEksUUNIVFosRUFBT0QsUUFKUCxTQUF5QlMsR0FDdkIsR0FBSUssTUFBTUMsUUFBUU4sR0FBTSxPQUFPQSxJLGNDRGpD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R0FFNUIsR0FBR0YsRUFBeUJFLEdBQzNCLE9BQU9GLEVBQXlCRSxHQUFVclksUUFHM0MsSUFBSUMsRUFBU2tZLEVBQXlCRSxHQUFZLENBR2pEclksUUFBUyxJQU9WLE9BSEFzWSxFQUFvQkQsR0FBVXBZLEVBQVFBLEVBQU9ELFFBQVNvWSxHQUcvQ25ZLEVBQU9ELFFDakJmLE9DRkFvWSxFQUFvQnhULEVBQUszRSxJQUN4QixJQUFJc1ksRUFBU3RZLEdBQVVBLEVBQU91WSxXQUM3QixJQUFNdlksRUFBZ0IsUUFDdEIsSUFBTUEsRUFFUCxPQURBbVksRUFBb0JLLEVBQUVGLEVBQVEsQ0FBRUcsRUFBR0gsSUFDNUJBLEdDTFJILEVBQW9CSyxFQUFJLENBQUN6WSxFQUFTMlksS0FDakMsSUFBSSxJQUFJcFgsS0FBT29YLEVBQ1hQLEVBQW9CMVQsRUFBRWlVLEVBQVlwWCxLQUFTNlcsRUFBb0IxVCxFQUFFMUUsRUFBU3VCLElBQzVFMEIsT0FBT0MsZUFBZWxELEVBQVN1QixFQUFLLENBQUV1QixZQUFZLEVBQU1zSixJQUFLdU0sRUFBV3BYLE1DSjNFNlcsRUFBb0IxVCxFQUFJLENBQUNwQixFQUFLc1YsSUFBUzNWLE9BQU9JLFVBQVU4TyxlQUFlck4sS0FBS3hCLEVBQUtzVixHSEcxRVIsRUFBb0IsTSIsImZpbGUiOiJkaXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwic291cmNlLW1hcC1zdXBwb3J0XCIpLCByZXF1aXJlKFwiY2xvdWRzY3JhcGVyXCIpLCByZXF1aXJlKFwibm9kZS1mZXRjaFwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJzb3VyY2UtbWFwLXN1cHBvcnRcIiwgXCJjbG91ZHNjcmFwZXJcIiwgXCJub2RlLWZldGNoXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIndzdHJhZGUtYXBpXCJdID0gZmFjdG9yeShyZXF1aXJlKFwic291cmNlLW1hcC1zdXBwb3J0XCIpLCByZXF1aXJlKFwiY2xvdWRzY3JhcGVyXCIpLCByZXF1aXJlKFwibm9kZS1mZXRjaFwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wid3N0cmFkZS1hcGlcIl0gPSBmYWN0b3J5KHJvb3RbXCJfXCJdLCByb290W1wiX1wiXSwgcm9vdFtcIl9cIl0pO1xufSkoZ2xvYmFsLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX185NDlfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMjE0X18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzU0NV9fKSB7XG5yZXR1cm4gIiwiZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYXJyMltpXSA9IGFycltpXTtcbiAgfVxuXG4gIHJldHVybiBhcnIyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hcnJheUxpa2VUb0FycmF5OyIsImZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfYXJyYXlXaXRoSG9sZXM7IiwidmFyIGFycmF5TGlrZVRvQXJyYXkgPSByZXF1aXJlKFwiLi9hcnJheUxpa2VUb0FycmF5XCIpO1xuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KGFycik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2FycmF5V2l0aG91dEhvbGVzOyIsImZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHtcbiAgdHJ5IHtcbiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZWplY3QoZXJyb3IpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpbmZvLmRvbmUpIHtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTtcblxuICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpO1xuICAgICAgfVxuXG4gICAgICBfbmV4dCh1bmRlZmluZWQpO1xuICAgIH0pO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hc3luY1RvR2VuZXJhdG9yOyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2NsYXNzQ2FsbENoZWNrOyIsImZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfY3JlYXRlQ2xhc3M7IiwiZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2RlZmluZVByb3BlcnR5OyIsImZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikge1xuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfaXRlcmFibGVUb0FycmF5OyIsImZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47XG4gIHZhciBfYXJyID0gW107XG4gIHZhciBfbiA9IHRydWU7XG4gIHZhciBfZCA9IGZhbHNlO1xuICB2YXIgX2UgPSB1bmRlZmluZWQ7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfZCA9IHRydWU7XG4gICAgX2UgPSBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gX2Fycjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfaXRlcmFibGVUb0FycmF5TGltaXQ7IiwiZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfbm9uSXRlcmFibGVSZXN0OyIsImZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX25vbkl0ZXJhYmxlU3ByZWFkOyIsInZhciBhcnJheVdpdGhIb2xlcyA9IHJlcXVpcmUoXCIuL2FycmF5V2l0aEhvbGVzXCIpO1xuXG52YXIgaXRlcmFibGVUb0FycmF5TGltaXQgPSByZXF1aXJlKFwiLi9pdGVyYWJsZVRvQXJyYXlMaW1pdFwiKTtcblxudmFyIHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5ID0gcmVxdWlyZShcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXlcIik7XG5cbnZhciBub25JdGVyYWJsZVJlc3QgPSByZXF1aXJlKFwiLi9ub25JdGVyYWJsZVJlc3RcIik7XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgbm9uSXRlcmFibGVSZXN0KCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3NsaWNlZFRvQXJyYXk7IiwidmFyIGFycmF5V2l0aG91dEhvbGVzID0gcmVxdWlyZShcIi4vYXJyYXlXaXRob3V0SG9sZXNcIik7XG5cbnZhciBpdGVyYWJsZVRvQXJyYXkgPSByZXF1aXJlKFwiLi9pdGVyYWJsZVRvQXJyYXlcIik7XG5cbnZhciB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSA9IHJlcXVpcmUoXCIuL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5XCIpO1xuXG52YXIgbm9uSXRlcmFibGVTcHJlYWQgPSByZXF1aXJlKFwiLi9ub25JdGVyYWJsZVNwcmVhZFwiKTtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IG5vbkl0ZXJhYmxlU3ByZWFkKCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3RvQ29uc3VtYWJsZUFycmF5OyIsInZhciBhcnJheUxpa2VUb0FycmF5ID0gcmVxdWlyZShcIi4vYXJyYXlMaWtlVG9BcnJheVwiKTtcblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXk7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVnZW5lcmF0b3ItcnVudGltZVwiKTtcbiIsImltcG9ydCBlbmRwb2ludHMgZnJvbSAnLi9hcGkvZW5kcG9pbnRzJztcbmltcG9ydCBoYW5kbGVSZXF1ZXN0IGZyb20gJy4vbmV0d29yay9odHRwcyc7XG5cbi8vIFRoZSBtYXhpbXVtdW0gbnVtYmVyIG9mIGFjdGl2aXRpZXMgd2UgY2FuIHB1bGwgaW4gb25lIGdvLlxuY29uc3QgQUNUSVZJVElFU19NQVhfRFJBVyA9IDk5O1xuLy8gU3VwcG9ydGVkIGFjdGl2aXR5IHR5cGVzXG5jb25zdCBBQ1RJVklUSUVTX1RZUEVTX0FMTCA9IFtcbiAgJ3NlbGwnLFxuICAnZGVwb3NpdCcsXG4gICd3aXRoZHJhd2FsJyxcbiAgJ2RpdmlkZW5kJyxcbiAgJ2luc3RpdHV0aW9uYWxfdHJhbnNmZXInLFxuICAnaW50ZXJuYWxfdHJhbnNmZXInLFxuICAncmVmdW5kJyxcbiAgJ3JlZmVycmFsX2JvbnVzJyxcbiAgJ2FmZmlsaWF0ZScsXG4gICdidXknLFxuXTtcblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYWxsIGFjY291bnQgaWRzIG9wZW4gdW5kZXIgdGhpcyBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudC5cbiAgICovXG4gIGFsbDogYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGFjY291bnRzID0gYXdhaXQgaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuQUNDT1VOVF9JRFMsIHt9KTtcblxuICAgIHJldHVybiB7XG4gICAgICB0ZnNhOiBhY2NvdW50cy5maW5kKChhY2NvdW50KSA9PiBhY2NvdW50LnN0YXJ0c1dpdGgoJ3Rmc2EnKSksXG4gICAgICBycnNwOiBhY2NvdW50cy5maW5kKChhY2NvdW50KSA9PiBhY2NvdW50LnN0YXJ0c1dpdGgoJ3Jyc3AnKSksXG4gICAgICBjcnlwdG86IGFjY291bnRzLmZpbmQoKGFjY291bnQpID0+IGFjY291bnQuc3RhcnRzV2l0aCgnbm9uLXJlZ2lzdGVyZWQtY3J5cHRvJykpLFxuICAgICAgcGVyc29uYWw6IGFjY291bnRzLmZpbmQoKGFjY291bnQpID0+IGFjY291bnQuc3RhcnRzV2l0aCgnbm9uLXJlZ2lzdGVyZWQnKSAmJiAhYWNjb3VudC5zdGFydHNXaXRoKCdub24tcmVnaXN0ZXJlZC1jcnlwdG8nKSksXG4gICAgfTtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyBhIGxpc3Qgb2YgZGV0YWlscyBhYm91dCB5b3VyIG9wZW4gYWNjb3VudHMsIGxpa2UgYWNjb3VudCB0eXBlLCBidXlpbmcgcG93ZXIsXG4gICAqIGN1cnJlbnQgYmFsYW5jZSwgYW5kIG1vcmUuXG4gICAqL1xuICBkYXRhOiBhc3luYyAoKSA9PiBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5MSVNUX0FDQ09VTlQsIHt9KSxcblxuICAvKipcbiAgICogUmV0cmlldmVzIHNvbWUgc3VyZmFjZSBpbmZvcm1hdGlvbiBhYm91dCB5b3UgbGlrZSB5b3VyIG5hbWUgYW5kIGVtYWlsLCBhY2NvdW50XG4gICAqIHNpZ25hdHVyZXMsIGFuZCBvdGhlciBtZXRhZGF0YS5cbiAgICovXG4gIG1lOiBhc3luYyAoKSA9PiBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5NRSwge30pLFxuXG4gIC8qKlxuICAgKiBEZXRhaWxlZCBpbmZvcm1hdGlvbiBhYm91dCB5b3UgdGhhdCB5b3UgcHJvdmlkZWQgb24gc2lnbnVwLCBsaWtlIHJlc2lkZW50aWFsIGFuZFxuICAgKiBtYWlsaW5nIGFkZHJlc3NlcywgZW1wbG95bWVudCwgcGhvbmUgbnVtYmVycywgYW5kIHNvIG9uLlxuICAgKi9cbiAgcGVyc29uOiBhc3luYyAoKSA9PiBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5QRVJTT04sIHt9KSxcblxuICAvKipcbiAgICogUXVlcnkgdGhlIGhpc3Rvcnkgb2YgdGhlIGFjY291bnQgd2l0aGluIGEgY2VydGFpbiB0aW1lIGludGVydmFsLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGludGVydmFsIFRoZSB0aW1lIGludGVydmFsIGZvciB0aGUgaGlzdG9yeSBxdWVyeVxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgYWNjb3VudCB0byBxdWVyeVxuICAgKi9cbiAgaGlzdG9yeTogYXN5bmMgKGludGVydmFsLCBhY2NvdW50SWQpID0+IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLkhJU1RPUllfQUNDT1VOVCwge1xuICAgIGludGVydmFsLCBhY2NvdW50SWQsXG4gIH0pLFxuXG4gIC8qKlxuICAgKiBGZXRjaGVzIGFjdGl2aXRpZXMgb24geW91ciBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudC4gWW91IGNhbiBsaW1pdCBudW1iZXIgb2YgYWN0aXZpdGllc1xuICAgKiB0byBmZXRjaCBvciByZWZpbmUgd2hhdCBhY3Rpdml0aWVzIGFyZSBmZXRjaGVkIGJhc2VkIG9uIGFjdGl2aXR5IHR5cGUgKGUuZy4sIGJ1eSwgc2VsbCksXG4gICAqIGFjY291bnQgKGUuZy4sIHRmc2EsIHJyc3ApLlxuICAgKi9cbiAgYWN0aXZpdGllczogYXN5bmMgKGZpbHRlcnMgPSB7fSkgPT4ge1xuICAgIC8vIFRoZSBtYXhpbXVtIGRyYXcgcGVyIEFQSSBjYWxsIGlzIDk5LiBJZiBpdCdzIGhpZ2hlciwgd2UgbXVzdCBhYm9ydC5cbiAgICBpZiAoZmlsdGVycz8ubGltaXQgJiYgZmlsdGVycy5saW1pdCA+IEFDVElWSVRJRVNfTUFYX0RSQVcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZmlsdGVycy5saW1pdCBjYW4gbm90IGV4Y2VlZCA5OSEgTGVhdmUgZmlsdGVycy5saW1pdCB1bmRlZmluZWQgaWYgeW91IHdhbnQgdG8gcmV0cmlldmUgYWxsLicpO1xuICAgIH1cblxuICAgIC8vIFRlbGwgdGhlIHVzZXIgdGhhdCBmaWx0ZXIuYWNjb3VudHMgbXVzdCBiZSBhbiBlcnJvclxuICAgIGlmIChmaWx0ZXJzPy5hY2NvdW50cyAmJiAhQXJyYXkuaXNBcnJheShmaWx0ZXJzLmFjY291bnRzKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdmaWx0ZXJzLmFjY291bnRzIG11c3QgYmUgYW4gYXJyYXkhJyk7XG4gICAgfVxuXG4gICAgLy8gVGVsbCB0aGUgdXNlciB0aGF0IGZpbHRlci50eXBlIG11c3QgYmUgYW4gZXJyb3JcbiAgICBpZiAoZmlsdGVycz8udHlwZSAmJiAhQXJyYXkuaXNBcnJheShmaWx0ZXJzLnR5cGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZpbHRlcnMudHlwZSBtdXN0IGJlIGFuIGFycmF5IScpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcblxuICAgIC8vIERyYXcgdGhlIGZpcnN0IHNldCBvZiBhY3Rpdml0aWVzXG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuQUNUSVZJVElFUywge1xuICAgICAgbGltaXQ6IGZpbHRlcnM/LmxpbWl0ID8/IEFDVElWSVRJRVNfTUFYX0RSQVcsXG4gICAgICBhY2NvdW50SWRzOiBmaWx0ZXJzPy5hY2NvdW50cz8uam9pbigpID8/ICcnLFxuICAgICAgYm9va21hcms6ICcnLFxuICAgICAgdHlwZTogZmlsdGVycz8udHlwZSA/PyBBQ1RJVklUSUVTX1RZUEVTX0FMTCxcbiAgICB9KTtcbiAgICByZXN1bHRzLnB1c2goLi4ucmVzcG9uc2UucmVzdWx0cyk7XG5cbiAgICAvKlxuICAgICAqIFRvIGdldCBhbGwgYWN0aXZpdGllcywgd2Ugd2lsbCBoYXZlIHRvIGRyYXcgdGhlIG1heGltdW0gbnVtYmVyXG4gICAgICogb2YgYWN0aXZpdGllcyBwZXIgQVBJIGNhbGwgdW50aWwgd2UgYXJlIGRvbmUgKGkuZS4sIHdoZW4gd2VcbiAgICAgKiByZWNlaXZlIGEgbnVtYmVyIG9mIGFjdGl2aXRpZXMgbGVzcyB0aGFuIHRoZSBtYXhpbXVtIHBlciBkcmF3KVxuICAgICAqL1xuICAgIGlmICghZmlsdGVycz8ubGltaXQpIHtcbiAgICAgIC8qXG4gICAgICAgKiBUaGUgbm8tYXdhaXQtaW4tbG9vcCBydWxlIGlzIGJlaW5nIGRpc2FibGVkIGZvciB0aGlzIGNhc2UgYmVjYXVzZVxuICAgICAgICogZXZlcnkgbG9vcCBmZWVkcyBiYWNrIGludG8gdGhlIG5leHQgb25lIHdpdGggdGhlIGJvb2ttYXJrIChpLmUuLCB0aGV5XG4gICAgICAgKiBhcmUgbm90IGluZGVwZW5kZW50IGFuZCBtdXN0IHJ1biBzZXF1ZW50aWFsbHkpLlxuICAgICAgICovXG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1hd2FpdC1pbi1sb29wICovXG4gICAgICB3aGlsZSAocmVzdWx0cy5sZW5ndGggJSBBQ1RJVklUSUVTX01BWF9EUkFXID09PSAwKSB7XG4gICAgICAgIHJlc3BvbnNlID0gYXdhaXQgaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuQUNUSVZJVElFUywge1xuICAgICAgICAgIGxpbWl0OiBBQ1RJVklUSUVTX01BWF9EUkFXLFxuICAgICAgICAgIGFjY291bnRJZHM6IGZpbHRlcnM/LmFjY291bnRzPy5qb2luKCkgPz8gJycsXG4gICAgICAgICAgYm9va21hcms6IHJlc3BvbnNlLmJvb2ttYXJrLFxuICAgICAgICAgIHR5cGU6IGZpbHRlcnM/LnR5cGUgPz8gQUNUSVZJVElFU19UWVBFU19BTEwsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEVzY2FwZSB0aGUgbG9vcCBpZiB0aGUgcmV0dXJuZWQgcmVzdWx0cyBpcyBlbXB0eS4gVGhpcyBtZWFucyB3ZSBoYXZlIHJlYWNoZWQgdGhlIGVuZC5cbiAgICAgICAgaWYgKHJlc3BvbnNlLnJlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHRzLnB1c2goLi4ucmVzcG9uc2UucmVzdWx0cyk7XG4gICAgICB9XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWF3YWl0LWluLWxvb3AgKi9cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfSxcblxuICAvKipcbiAgICogUmV0cmlldmVzIGFsbCBiYW5rIGFjY291bnRzIGxpbmtlZCB0byB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnQuXG4gICAqL1xuICBnZXRCYW5rQWNjb3VudHM6IGFzeW5jICgpID0+IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLkJBTktfQUNDT1VOVFMsIHt9KSxcblxuICAvKipcbiAgICogR3JhYiBhbGwgZGVwb3NpdCByZWNvcmRzIG9uIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudC5cbiAgICovXG4gIGRlcG9zaXRzOiBhc3luYyAoKSA9PiBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5ERVBPU0lUUywge30pLFxuXG4gIC8qKlxuICAgKiBMaXN0cyBhbGwgcG9zaXRpb25zIGluIHRoZSBzcGVjaWZpZWQgdHJhZGluZyBhY2NvdW50IHVuZGVyIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgQWNjb3VudC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIHNwZWNpZmljIGFjY291bnQgaW4gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50XG4gICAqL1xuICBwb3NpdGlvbnM6IGFzeW5jIChhY2NvdW50SWQpID0+IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLlBPU0lUSU9OUywgeyBhY2NvdW50SWQgfSksXG59O1xuIiwiY29uc3QgZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyID0ge1xuXG4gIC8vIERlZmF1bHQgZmFpbHVyZSBtZXRob2QgZm9yIGFsbCBlbmRwb2ludCBjYWxsc1xuICBvbkZhaWx1cmU6IGFzeW5jIChyZXNwb25zZSkgPT4gKHtcbiAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1c0NvZGUsXG4gICAgcmVhc29uOiByZXNwb25zZS5zdGF0dXNNZXNzYWdlLFxuICAgIGJvZHk6IHJlc3BvbnNlLmJvZHksXG4gIH0pLFxuXG4gIC8vIERlZmF1bHQgc3VjY2VzcyBtZXRob2QgZm9yIGFsbCBlbmRwb2ludCBjYWxsc1xuICBvblN1Y2Nlc3M6IGFzeW5jIChyZXNwb25zZSkgPT4gcmVzcG9uc2UuYm9keSxcbn07XG5cbmNvbnN0IFdlYWx0aHNpbXBsZVRyYWRlRW5kcG9pbnRzID0ge1xuXG4gIC8qXG4gICAqIFRoZSBMT0dJTiBlbmRwb2ludCBpbnRpYWxpemVzIGEgbmV3IHNlc3Npb24gZm9yIHRoZSBnaXZlbiBlbWFpbCBhbmRcbiAgICogcGFzc3dvcmQgc2V0LiBJZiB0aGUgbG9naW4gaXMgc3VjY2Vzc2Z1bCwgYWNjZXNzIGFuZCByZWZyZXNoIHRva2Vuc1xuICAgKiBhcmUgcmV0dXJuZWQgaW4gdGhlIGhlYWRlcnMuIFRoZSBhY2Nlc3MgdG9rZW4gaXMgdGhlIGtleSBmb3IgaW52b2tpbmdcbiAgICogYWxsIG90aGVyIGVuZCBwb2ludHMuXG4gICAqL1xuICBMT0dJTjoge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL2F1dGgvbG9naW4nLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxuICAgIG9uU3VjY2VzczogYXN5bmMgKHJlc3BvbnNlKSA9PiAoe1xuICAgICAgdG9rZW5zOiB7XG4gICAgICAgIGFjY2VzczogcmVzcG9uc2UuaGVhZGVyc1sneC1hY2Nlc3MtdG9rZW4nXSxcbiAgICAgICAgcmVmcmVzaDogcmVzcG9uc2UuaGVhZGVyc1sneC1yZWZyZXNoLXRva2VuJ10sXG4gICAgICAgIGV4cGlyZXM6IHBhcnNlSW50KHJlc3BvbnNlLmhlYWRlcnNbJ3gtYWNjZXNzLXRva2VuLWV4cGlyZXMnXSwgMTApLFxuICAgICAgfSxcblxuICAgICAgYWNjb3VudEluZm86IHJlc3BvbnNlLmJvZHksXG4gICAgfSksXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIEdlbmVyYXRlcyBhIG5ldyBzZXQgb2YgYWNjZXNzIGFuZCByZWZyZXNoIHRva2Vucy5cbiAgICovXG4gIFJFRlJFU0g6IHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9hdXRoL3JlZnJlc2gnLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxuICAgIG9uU3VjY2VzczogYXN5bmMgKHJlc3BvbnNlKSA9PiAoe1xuICAgICAgdG9rZW5zOiB7XG4gICAgICAgIGFjY2VzczogcmVzcG9uc2UuaGVhZGVyc1sneC1hY2Nlc3MtdG9rZW4nXSxcbiAgICAgICAgcmVmcmVzaDogcmVzcG9uc2UuaGVhZGVyc1sneC1yZWZyZXNoLXRva2VuJ10sXG4gICAgICAgIGV4cGlyZXM6IHBhcnNlSW50KHJlc3BvbnNlLmhlYWRlcnNbJ3gtYWNjZXNzLXRva2VuLWV4cGlyZXMnXSwgMTApLFxuICAgICAgfSxcbiAgICB9KSxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogR3JhYnMgYWxsIGFjY291bnQgaWRzIGluIHRoaXMgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnQuXG4gICAqL1xuICBBQ0NPVU5UX0lEUzoge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vYWNjb3VudC9saXN0JyxcbiAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgIG9uU3VjY2VzczogYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gcmVzcG9uc2UuYm9keTtcblxuICAgICAgLy8gQ29sbGVjdCBhbGwgYWNjb3VudCBpZHMgcmVnaXN0ZXJlZCB1bmRlciB0aGlzIFdlYWx0aHNpbXBsZSBUcmFkZSBBY2NvdW50XG4gICAgICByZXR1cm4gZGF0YS5yZXN1bHRzLm1hcCgoYWNjb3VudCkgPT4gYWNjb3VudC5pZCk7XG4gICAgfSxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogVGhlIExJU1RfQUNDT1VOVCBlbmRwb2ludCByZXRyaWV2ZXMgZ2VuZXJhbCBtZXRhZGF0YSBvZiB0aGVcbiAgICogV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnQsIGluY2x1ZGluZyBiYWxhbmNlcywgYWNjb3VudCBpZCwgYW5kXG4gICAqIG1vcmUuXG4gICAqL1xuICBMSVNUX0FDQ09VTlQ6IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL2FjY291bnQvbGlzdCcsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBvblN1Y2Nlc3M6IGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IHJlc3BvbnNlLmJvZHk7XG4gICAgICByZXR1cm4gZGF0YS5yZXN1bHRzO1xuICAgIH0sXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIFRoZSBNRSBlbmRwb2ludCByZXRyaWV2ZXMgc29tZSBzdXJmYWNlIGluZm9ybWF0aW9uIGFib3V0IHlvdSBsaWtlXG4gICAqIHlvdXIgbmFtZSBhbmQgZW1haWwuXG4gICAqL1xuICBNRToge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vbWUnLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgb25TdWNjZXNzOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25TdWNjZXNzLFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBUaGUgUEVSU09OIGVuZHBvaW50IHJldHJpZXZlcyBkZXRhaWxlZCBpbmZvcm1hdGlvbiBhYm91dCB5b3UgdGhhdFxuICAgKiB5b3UgcHJvdmlkZWQgb24gc2lnbnVwLCBsaWtlIHJlc2lkZW50aWFsIGFuZCBtYWlsaW5nIGFkZHJlc3NlcyxcbiAgICogZW1wbG95bWVudCwgcGhvbmUgbnVtYmVycywgYW5kIHNvIG9uLlxuICAgKi9cbiAgUEVSU09OOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9wZXJzb24nLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgb25TdWNjZXNzOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25TdWNjZXNzLFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBUaGUgSElTVE9SWV9BQ0NPVU5UIGVuZHBvaW50IHByb3ZpZGVzIGhpc3RvcmljYWwgc25hcHNob3RzIG9mIHRoZVxuICAgKiBXZWFsdGhzaW1wbGUgYWNjb3VudCBmb3IgYSBzcGVjaWZpZWQgdGltZWZyYW1lLlxuICAgKi9cbiAgSElTVE9SWV9BQ0NPVU5UOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9hY2NvdW50L2hpc3RvcnkvezB9P2FjY291bnRfaWQ9ezF9JyxcbiAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgIDA6ICdpbnRlcnZhbCcsXG4gICAgICAxOiAnYWNjb3VudElkJyxcbiAgICB9LFxuICAgIG9uU3VjY2VzczogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uU3VjY2VzcyxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogUHJvdmlkZXMgdGhlIG1vc3QgcmVjZW50IDIwIGFjdGl2aXRpZXMgKGRlcG9zaXRzLCBkaXZpZGVuZHMsIG9yZGVycywgZXRjKSBvbiB0aGUgV2VhbHRoc2ltcGxlXG4gICAqIFRyYWRlIGFjY291bnQuXG4gICAqL1xuICBBQ1RJVklUSUVTOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9hY2NvdW50L2FjdGl2aXRpZXM/bGltaXQ9ezB9JmFjY291bnRfaWRzPXsxfSZbMl0mYm9va21hcms9ezN9JyxcbiAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgIDA6ICdsaW1pdCcsXG4gICAgICAxOiAnYWNjb3VudElkcycsXG4gICAgICAyOiAndHlwZScsXG4gICAgICAzOiAnYm9va21hcmsnLFxuICAgIH0sXG4gICAgb25TdWNjZXNzOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25TdWNjZXNzLFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBBbGwgZGVwb3NpdHMgdW5kZXIgdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50XG4gICAqL1xuICBERVBPU0lUUzoge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vZGVwb3NpdHMnLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgb25TdWNjZXNzOiBhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5ib2R5O1xuICAgICAgcmV0dXJuIGRhdGEucmVzdWx0cztcbiAgICB9LFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBBbGwgbGlua2VkIGJhbmsgYWNjb3VudHMgdW5kZXIgdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50XG4gICAqL1xuICBCQU5LX0FDQ09VTlRTOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9iYW5rLWFjY291bnRzJyxcbiAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgIG9uU3VjY2VzczogYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gcmVzcG9uc2UuYm9keTtcbiAgICAgIHJldHVybiBkYXRhLnJlc3VsdHM7XG4gICAgfSxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogQ3VycmVudCBXZWFsdGhzaW1wbGUgVHJhZGUgVVNEL0NBRCBleGNoYW5nZSByYXRlc1xuICAgKi9cbiAgRVhDSEFOR0VfUkFURVM6IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL2ZvcmV4JyxcbiAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgIG9uU3VjY2VzczogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uU3VjY2VzcyxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogR3JhYnMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHNlY3VyaXR5IHJlc2VtYmxlZCBieSB0aGUgdGlja2VyLlxuICAgKi9cbiAgU0VDVVJJVFk6IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL3NlY3VyaXRpZXM/cXVlcnk9ezB9JyxcbiAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgIDA6ICd0aWNrZXInLFxuICAgIH0sXG4gICAgb25TdWNjZXNzOiBhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5ib2R5O1xuXG4gICAgICBpZiAoZGF0YS5yZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlY3VyaXR5IGRvZXMgbm90IGV4aXN0Jyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRhLnJlc3VsdHM7XG4gICAgfSxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogRmV0Y2hlcyBkZXRhaWxlZCBpbmZvcm1hdGlvbiBhYm91dCBhIHNlY3VyaXR5IHVzaW5nIGl0cyB1bmlxdWVcbiAgICogc2VjdXJpdHkgaWRlbnRpZmllci4gTWFya2V0IHF1b3RlLCBiaWQgYW5kIGFzayBzaXplLCBhbmQgb3RoZXIgaW5mb3JtYXRpb25cbiAgICogYXJlIHJldHVybmVkLlxuICAgKi9cbiAgRVhURU5TSVZFX1NFQ1VSSVRZX0RFVEFJTFM6IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL3NlY3VyaXRpZXMvezB9JyxcbiAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgIDA6ICdpZCcsXG4gICAgfSxcbiAgICBvblN1Y2Nlc3M6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vblN1Y2Nlc3MsXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIEZldGNoZXMgaGlzdG9yaWNhbCBxdW90ZXMgZm9yIGEgc2VjdXJpdHkgaW4gdGhlIHNwZWNpZmllZCBpbnRlcnZhbC5cbiAgICovXG4gIFFVT1RFU19ISVNUT1JZOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9zZWN1cml0aWVzL3swfS9oaXN0b3JpY2FsX3F1b3Rlcy97MX0/bWljPVhOQVMnLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgcGFyYW1ldGVyczoge1xuICAgICAgMDogJ2lkJyxcbiAgICAgIDE6ICdpbnRlcnZhbCcsXG4gICAgfSxcbiAgICBvblN1Y2Nlc3M6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vblN1Y2Nlc3MsXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIExpc3RzIGFsbCBwb3NpdGlvbnMgdW5kZXIgYSB0cmFkaW5nIGFjY291bnQuXG4gICAqL1xuICBQT1NJVElPTlM6IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL2FjY291bnQvcG9zaXRpb25zP2FjY291bnRfaWQ9ezB9JyxcbiAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgIDA6ICdhY2NvdW50SWQnLFxuICAgIH0sXG4gICAgb25TdWNjZXNzOiBhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5ib2R5O1xuICAgICAgcmV0dXJuIGRhdGEucmVzdWx0cztcbiAgICB9LFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBHcmFiIGEgcGFnZSBvZiBvcmRlcnMgKDIwIG9yZGVycykuXG4gICAqL1xuICBPUkRFUlNfQllfUEFHRToge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vb3JkZXJzP29mZnNldD17MH0mYWNjb3VudF9pZD17MX0nLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgcGFyYW1ldGVyczoge1xuICAgICAgMDogJ29mZnNldCcsXG4gICAgICAxOiAnYWNjb3VudElkJyxcbiAgICB9LFxuICAgIG9uU3VjY2VzczogYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gcmVzcG9uc2UuYm9keTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvdGFsOiBkYXRhLnRvdGFsLFxuICAgICAgICBvcmRlcnM6IGRhdGEucmVzdWx0cyxcbiAgICAgIH07XG4gICAgfSxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogQ2FuY2VscyBhIHNwZWNpZmljIG9yZGVyIGJ5IGl0cyBpZC5cbiAgICovXG4gIENBTkNFTF9PUkRFUjoge1xuICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vb3JkZXJzL3swfScsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAwOiAnb3JkZXJJZCcsXG4gICAgfSxcbiAgICBvblN1Y2Nlc3M6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vblN1Y2Nlc3MsXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIFBsYWNlcyBhbiBvcmRlciBmb3IgYSBzZWN1cml0eS5cbiAgICovXG4gIFBMQUNFX09SREVSOiB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vb3JkZXJzJyxcbiAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgIG9uU3VjY2VzczogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uU3VjY2VzcyxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBXZWFsdGhzaW1wbGVUcmFkZUVuZHBvaW50cztcbiIsImltcG9ydCBoYW5kbGVSZXF1ZXN0LCB7IHJlZnJlc2hBdXRoZW50aWNhdGlvbiB9IGZyb20gJy4vbmV0d29yay9odHRwcyc7XG5pbXBvcnQgZW5kcG9pbnRzIGZyb20gJy4vYXBpL2VuZHBvaW50cyc7XG5pbXBvcnQgdG9rZW5zIGZyb20gJy4vY29yZS90b2tlbnMnO1xuXG4vLyBhdXRoZW50aWNhdGlvbiBldmVudHNcbmNvbnN0IGV2ZW50cyA9IHtcbiAgb3RwOiBudWxsLFxufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBhIGZ1bmN0aW9uIHRvIHJ1biBvbiBhIGNlcnRhaW4gZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gZXZlbnQgVGhlIHRyaWdnZXIgZm9yIHRoZSBmdW5jdGlvblxuICAgKiBAcGFyYW0geyp9IGhhbmRsZXIgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAqL1xuICBvbihldmVudCwgaGFuZGxlcikge1xuICAgIGlmICghKGV2ZW50IGluIGV2ZW50cykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgYXV0aGVudGljYXRpb24gZXZlbnQgJyR7ZXZlbnR9JyFgKTtcbiAgICB9XG5cbiAgICBldmVudHNbZXZlbnRdID0gaGFuZGxlcjtcbiAgfSxcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgYXV0aCBtb2R1bGUgd2l0aCBhbiBleGlzdGluZyBzdGF0ZSBvZiB0b2tlbnMuXG4gICAqIFRoZSBzdGF0ZSBwcm92aWRlZCBzaG91bGQgY29udGFpbiBhY2Nlc3MsIHJlZnJlc2gsIGFuZCBleHBpcmVzIHByb3BlcnRpZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gc3RhdGUgUHJlLWV4aXN0aW5nIGF1dGhlbnRpY2F0aW9uIHN0YXRlXG4gICAqL1xuICB1c2U6IChzdGF0ZSkgPT4gdG9rZW5zLnN0b3JlKHN0YXRlKSxcblxuICAvKipcbiAgICogU25hcHNob3Qgb2YgdGhlIGN1cnJlbnQgYXV0aGVudGljYXRpb24gdG9rZW5zLlxuICAgKi9cbiAgdG9rZW5zOiAoKSA9PiAoeyBhY2Nlc3M6IHRva2Vucy5hY2Nlc3MsIHJlZnJlc2g6IHRva2Vucy5yZWZyZXNoLCBleHBpcmVzOiB0b2tlbnMuZXhwaXJlcyB9KSxcblxuICAvKipcbiAgICogQXR0ZW1wdHMgdG8gZXN0YWJsaXNoIGEgc2Vzc2lvbiBmb3IgdGhlIHByb3ZpZGVkIGVtYWlsIGFuZCBwYXNzd29yZC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBlbWFpbCBlbWFpbGVkIHJlZ2lzdGVyZWQgYnkgdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50XG4gICAqIEBwYXJhbSB7Kn0gcGFzc3dvcmQgVGhlIHBhc3N3b3JkIG9mIHRoZSBhY2NvdW50XG4gICAqL1xuICBhc3luYyBsb2dpbihlbWFpbCwgcGFzc3dvcmQpIHtcbiAgICBsZXQgcmVzcG9uc2UgPSBudWxsO1xuXG4gICAgLypcbiAgICAgKiBJZiB3ZSBhcmUgZ2l2ZW4gYSBmdW5jdGlvbiBmb3Igb3RwLCB0aGVuIHdlIG11c3QgZmFpbCBhIGxvZyBpbiB0b1xuICAgICAqIHRyaWdnZXIgYW4gT1RQIGV2ZW50IHdpdGggV2VhbHRoc2ltcGxlIFRyYWRlLiBUaGlzIHdpbGwgYWxsb3cgdGhlIHVzZXJcbiAgICAgKiBvdHAgdGh1bmsgdG8gcmV0cmlldmUgdGhlIGNvZGUuXG4gICAgICpcbiAgICAgKiBJZiBhIGxpdGVyYWwgdmFsdWUgaXMgcHJvdmlkZWQgZm9yIG90cCwgaXQgbWVhbnMgdGhlIHVzZXIgaGFzIG1hbnVhbGx5XG4gICAgICogcHJvdmlkZWQgdXMgd2l0aCB0aGUgb3RwIGNvZGUuIFdlIGNhbiBza2lwIHRoaXMgbG9naW4gYXR0ZW1wdC5cbiAgICAgKi9cbiAgICBpZiAodHlwZW9mIChldmVudHMub3RwKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYXdhaXQgaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuTE9HSU4sIHtcbiAgICAgICAgZW1haWwsXG4gICAgICAgIHBhc3N3b3JkLFxuICAgICAgfSkuY2F0Y2goKCkgPT4ge30pO1xuICAgIH1cblxuICAgIC8vIFRyeSB0byBsb2cgaW4gZm9yIHJlYWwgdGhpcyB0aW1lLlxuICAgIHRyeSB7XG4gICAgICByZXNwb25zZSA9IGF3YWl0IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLkxPR0lOLCB7XG4gICAgICAgIGVtYWlsLFxuICAgICAgICBwYXNzd29yZCxcbiAgICAgICAgb3RwOiB0eXBlb2YgKGV2ZW50cy5vdHApID09PSAnZnVuY3Rpb24nID8gYXdhaXQgZXZlbnRzLm90cCgpIDogZXZlbnRzLm90cCxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyB3ZSBtaWdodCBoYXZlIGZhaWxlZCBiZWNhdXNlIE9UUCB3YXMgbm90IHByb3ZpZGVkXG4gICAgICBpZiAoIWV2ZW50cy5vdHApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPVFAgbm90IHByb3ZpZGVkIScpO1xuICAgICAgfVxuXG4gICAgICAvLyBTZWVtcyB0byBiZSBpbmNvcnJlY3QgY3JlZGVudGlhbHMgb3IgT1RQLlxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gICAgLy8gQ2FwdHVyZSB0aGUgdG9rZW5zIGZvciBsYXRlciB1c2FnZS5cbiAgICB0aGlzLnVzZShyZXNwb25zZS50b2tlbnMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgYSBuZXcgc2V0IG9mIGFjY2VzcyBhbmQgcmVmcmVzaCB0b2tlbnMuXG4gICAqL1xuICByZWZyZXNoOiBhc3luYyAoKSA9PiByZWZyZXNoQXV0aGVudGljYXRpb24oKSxcbn07XG4iLCIvLyBDb25kaXRpb25hbCBmZWF0dXJlcyB0aGF0IGFyZSBjdXJyZW50bHkgc3VwcG9ydGVkIGJ5IHdzdHJhZGUtYXBpXG5jb25zdCBzdXBwb3J0ZWRGZWF0dXJlcyA9IFsnaW1wbGljaXRfdG9rZW5fcmVmcmVzaCcsICdzZWN1cml0aWVzX2NhY2hlJ107XG5jb25zdCBzdXBwb3J0ZWQgPSAoZmVhdHVyZSkgPT4ge1xuICBpZiAoIWZlYXR1cmU/LnN0YXJ0c1dpdGgoJ25vXycpKSB7XG4gICAgcmV0dXJuIHN1cHBvcnRlZEZlYXR1cmVzLmluY2x1ZGVzKGZlYXR1cmUpO1xuICB9XG5cbiAgcmV0dXJuIHN1cHBvcnRlZEZlYXR1cmVzLmluY2x1ZGVzKGZlYXR1cmUuc3Vic3RyaW5nKCdub18nLmxlbmd0aCkpO1xufTtcblxuLy8gSG9sZHMgb3B0aW9uYWwgZmVhdHVyZXMgdGhhdCBoYXZlIGJlZW4gZGlzYWJsZWQuXG5jb25zdCBkaXNhYmxlZCA9IFsnc2VjdXJpdGllc19jYWNoZSddO1xuZXhwb3J0IGNvbnN0IGNvbmZpZ0VuYWJsZWQgPSAoZmVhdHVyZSkgPT4gIWRpc2FibGVkLmluY2x1ZGVzKGZlYXR1cmUpO1xuXG4vKipcbiAqIEVuYWJsZSBvciBkaXNhYmxlIGFuIG9wdGlvbmFsIGZlYXR1cmUgd2l0aGluIHdzdHJhZGUtYXBpLlxuICpcbiAqIEV4YW1wbGVzOlxuICogLS0tXG4gKiBjb25maWcoJ2ltcGxpY2l0X3Rva2VuX3JlZnJlc2gnKVxuICogRW5hYmxlcyBpbXBsaWNpdCByZWZyZXNoaW5nIG9mIHRva2Vucy5cbiAqXG4gKiBjb25maWcoJ25vX2ltcGxpY2l0X3Rva2VuX3JlZnJlc2gnKVxuICogRGlzYWJsZXMgaW1wbGljaXQgcmVmcmVzaGluZyBvZiB0b2tlbnMuXG4gKlxuICogQHBhcmFtIHsqfSBmZWF0dXJlIFRoZSBzdHJpbmcgaWRlbnRpZmllciBmb3IgdGhlIGZlYXR1cmUsIHN0YXJ0aW5nIHdpdGggXCJub19cIiBpZlxuICogICAgICAgICAgICAgICAgICAgIHlvdSB3aXNoIHRvIGRpc2FibGUgaXQuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbmZpZyhmZWF0dXJlKSB7XG4gIGlmICghc3VwcG9ydGVkKGZlYXR1cmUpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGAnJHtmZWF0dXJlfScgaXMgbm90IHN1cHBvcnRlZCFgKTtcbiAgfVxuXG4gIGlmIChmZWF0dXJlPy5zdGFydHNXaXRoKCdub18nKSkge1xuICAgIGNvbnN0IGN1dCA9IGZlYXR1cmUuc3Vic3RyaW5nKGZlYXR1cmUuaW5kZXhPZignXycpICsgMSk7XG5cbiAgICAvLyBXZSB3aWxsIG9ubHkgYXBwZW5kIHRoaXMgaWYgaXQgaXNuJ3QgYWxyZWFkeSBpbiB0aGVyZS5cbiAgICBpZiAoY29uZmlnRW5hYmxlZChjdXQpKSB7XG4gICAgICBkaXNhYmxlZC5wdXNoKGN1dCk7XG4gICAgfVxuXG4gIC8vIE9ubHkgZGVsZXRlIHRoZSBmZWF0dXJlIGlmIGl0J3MgYWxyZWFkeSBkaXNhYmxlZC5cbiAgfSBlbHNlIGlmICghY29uZmlnRW5hYmxlZChmZWF0dXJlKSkge1xuICAgIGRpc2FibGVkLnNwbGljZShkaXNhYmxlZC5pbmRleE9mKGZlYXR1cmUpLCAxKTtcbiAgfVxufVxuIiwiLy8gRXhjaGFuZ2VzIHN1cHBvcnRlZCBieSBXZWFsdGhzaW1wbGUgVHJhZGVcbi8vICdDQycgaXMgbm90IGFuIGV4Y2hhbmdlOyBpdCBzdGFuZHMgZm9yIENyeXB0byBjdXJyZW5jeSBhbmRcbi8vIGl0IGFsbG93cyB1cyB0byBkaXN0aW5ndWlzaCBpdCBmcm9tIGNvbnZlbnRpb25hbCBzZWN1cml0aWVzLlxuY29uc3QgZXhjaGFuZ2VzID0gWydOQVNEQVEnLCAnTllTRScsICdUU1gnLCAnVFNYLVYnLCAnQUVRVUlUQVMgTkVPIEVYQ0hBTkdFJywgJ0NDJ107XG5cbi8qKlxuICogVGlja2VyIHByb3ZpZGVzIGEgbG9naWNhbCBlbmNhcHN1bGF0aW9uIGZvciB0aGUgYWxsb3dlZCBmb3Jtc1xuICogb2YgYSBzZWN1cml0eSB0aWNrZXIgd2l0aGluIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYXBwbGljYXRpb24uXG4gKlxuICogSXQgcHJvdmlkZXMgdmFsaWRhdGlvbiBvZiB0aGUgZm9ybWF0IG9mIHRoZSB0aWNrZXIsIGFuZCB0aGVcbiAqIHZhbHVlIG9mIHRoZSBleGNoYW5nZSwgaWYgcHJvdmlkZWQuXG4gKlxuICogVGlja2VycyBtYXkgYmUgc3BlY2lmaWVkIGFzIHR3byBkYXRhIHR5cGVzOlxuICpcbiAqIC0gc3RyaW5nOiBUaGUgdGlja2VyIG1heSBiZSBhIHNpbXBsZSBzdHJpbmcgY29udGFpbmluZyB0aGUgc3ltYm9sLCBvciBhIGNvbWJpbmF0aW9uIG9mXG4gKiB0aGUgc3ltYm9sIGFuZCBleGNoYW5nZSBzZXBhcmF0ZWQgYnkgYSBjb2xvbi5cbiAqIC0gb2JqZWN0OiBUaGUgdGlja2VyIG1heSBiZSBhbiBvYmplY3Qgd2l0aCBzeW1ib2wsIGV4Y2hhbmdlLCBvciBpZCBwcm9wZXJ0aWVzLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqIFwiQUFQTFwiXG4gKiBcIlVCRVI6TllTRVwiXG4gKiB7IHN5bWJvbDogXCJBQVBMXCIgfVxuICogeyBzeW1ib2w6IFwiVUJFUlwiLCBleGNoYW5nZTogXCJOWVNFXCIgfVxuICogeyBpZDogXCJzZWMtcy03NmE3MTU1MjQyZTg0Nzc4ODBjYmI0MzI2OTIzNWNiNlwiIH1cbiAqL1xuY2xhc3MgVGlja2VyIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgdGhlIHRpY2tlciBvYmplY3QuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHNlY3VyaXR5IHRpY2tlciB2YWx1ZSwgcHJvdmlkZWQgYXMgYSBzdHJpbmcgb3IgYW4gb2JqZWN0IHdpdGggc3ltYm9sLFxuICAgKiBleGNoYW5nZSwgb3IgaWQuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgIHRoaXMuc3ltYm9sID0gbnVsbDtcbiAgICB0aGlzLmV4Y2hhbmdlID0gbnVsbDtcbiAgICB0aGlzLmlkID0gbnVsbDtcbiAgICB0aGlzLmNyeXB0byA9IGZhbHNlO1xuXG4gICAgaWYgKHR5cGVvZiAodmFsdWUpID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gRW1wdHkgdGlja2VycyBhcmUgbm90IGFsbG93ZWRcbiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbXB0eSB0aWNrZXInKTtcbiAgICAgIH1cblxuICAgICAgW3RoaXMuc3ltYm9sLCB0aGlzLmV4Y2hhbmdlXSA9IHZhbHVlLnNwbGl0KCc6Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFlvdSBuZWVkIGF0IGxlYXN0IGEgc3ltYm9sIG9yIGlkIHRvIGZvcm0gYSB0aWNrZXIuXG4gICAgICBpZiAoIXZhbHVlLnN5bWJvbCAmJiAhdmFsdWUuaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHRpY2tlciAnJHt2YWx1ZX0nYCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3ltYm9sID0gdmFsdWUuc3ltYm9sIHx8IG51bGw7XG4gICAgICB0aGlzLmV4Y2hhbmdlID0gdmFsdWUuZXhjaGFuZ2UgfHwgbnVsbDtcbiAgICAgIHRoaXMuaWQgPSB2YWx1ZS5pZCB8fCBudWxsO1xuICAgIH1cblxuICAgIC8vIFdlYWx0aHNpbXBsZSBUcmFkZSBkb2Vzbid0IGhhdmUgYSBzaG9ydCBleGNoYW5nZSBpZCAoJ05FTycpIGZvclxuICAgIC8vIEFFUVVJVEFTIE5FTyBFWENIQU5HRSBmb3Igc29tZSByZWFzb24uLi5cbiAgICAvLyBXZSBoYXZlIHRvIG1hcCBpdCB0byB0aGUgZnVsbCBuYW1lIGZvciBjb21wYXJpc29ucyB0byB3b3JrLlxuICAgIGlmICh0aGlzLmV4Y2hhbmdlID09PSAnTkVPJykge1xuICAgICAgdGhpcy5leGNoYW5nZSA9ICdBRVFVSVRBUyBORU8gRVhDSEFOR0UnO1xuICAgIH1cblxuICAgIC8vIEd1YXJhbnRlZSB0aGF0IHRoZSBleGNoYW5nZSBpcyB2YWxpZCBpZiBub3QgbnVsbFxuICAgIGlmICh0aGlzLmV4Y2hhbmdlICYmICFleGNoYW5nZXMuaW5jbHVkZXModGhpcy5leGNoYW5nZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBleGNoYW5nZSAnJHt0aGlzLmV4Y2hhbmdlfSchYCk7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSBjcnlwdG8gcHJvcGVydHkgdG8gdHJ1ZSB0byB0cmVhdCB0aGlzIHNlY3VyaXR5IGFzIGNyeXB0b2N1cnJlbmN5XG4gICAgaWYgKHRoaXMuZXhjaGFuZ2UgPT09ICdDQycgfHwgdGhpcy5pZD8uc3RhcnRzV2l0aCgnc2VjLXonKSkge1xuICAgICAgdGhpcy5jcnlwdG8gPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWR1Y2VzIHRoZSB0aWNrZXIgb2JqZWN0IHRvIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICAgKi9cbiAgZm9ybWF0KCkge1xuICAgIGlmICh0aGlzLmlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5pZDtcbiAgICB9XG5cbiAgICAvLyBXZSBtdXN0IHJldHJhbnNsYXRlIHRoZSBmdWxsIG5hbWUgb2YgdGhlIE5FTyBleGNoYW5nZSBiYWNrIHRvIE5FT1xuICAgIGlmICh0aGlzLmV4Y2hhbmdlID09PSAnQUVRVUlUQVMgTkVPIEVYQ0hBTkdFJykge1xuICAgICAgcmV0dXJuIGAke3RoaXMuc3ltYm9sfTpORU9gO1xuICAgIH1cblxuICAgIHJldHVybiBgJHt0aGlzLnN5bWJvbH0ke3RoaXMuZXhjaGFuZ2UgPyBgOiR7dGhpcy5leGNoYW5nZX1gIDogJyd9YDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wYXJlcyBzeW1ib2wgb3IgaWQgd2l0aCBhbm90aGVyIHRpY2tlci4gVGhpcyBpcyB3ZWFrIGJlY2F1c2VcbiAgICogZXhjaGFuZ2UgaXMgbm90IGNvbXBhcmVkIGhlcmUsIGFsbG93aW5nIGZvciBmYWxzZSBwb3NpdGl2ZXNcbiAgICogb2Ygc3ltYm9scyBvbiBkaWZmZXJlbnQgZXhjaGFuZ2VzLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IG90aGVyIFRpY2tlciB0byBjb21wYXJlIHVzIHdpdGhcbiAgICovXG4gIHdlYWtFcXVhbHMob3RoZXIpIHtcbiAgICBpZiAodGhpcy5pZCAmJiB0aGlzLmlkID09PSBvdGhlci5pZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3ltYm9sICYmIHRoaXMuc3ltYm9sID09PSBvdGhlci5zeW1ib2wgJiYgdGhpcy5jcnlwdG8gPT09IG90aGVyLmNyeXB0bykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpY2tlcjtcbiIsIi8qKlxuICogQ29tcHV0ZXMgdGhlIGN1cnJlbnQgdGltZSBpbiBlcG9jaCBzZWNvbmRzLlxuICovXG5jb25zdCBlcG9jaFNlY29uZHMgPSAoKSA9PiBwYXJzZUludChEYXRlLm5vdygpIC8gMTAwMCwgMTApO1xuZXhwb3J0IGRlZmF1bHQgZXBvY2hTZWNvbmRzO1xuIiwiaW1wb3J0IGVwb2NoU2Vjb25kcyBmcm9tICcuLi9oZWxwZXJzL3RpbWUnO1xuXG4vKipcbiAqIFRoaXMgbW9kdWxlIHdpbGwgcHJvdmlkZSBhIHVuaWZvcm0gaW50ZXJmYWNlIGZvciBzdG9yYWdlXG4gKiBhbmQgcmV0cmlldmFsIG9mIGF1dGhlbnRpY2F0b24gdG9rZW5zIHRocm91Z2hvdXQgd3N0cmFkZS1hcGkuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgYWNjZXNzOiBudWxsLFxuICByZWZyZXNoOiBudWxsLFxuICBleHBpcmVzOiBudWxsLFxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBhdXRoZW50aWNhdGlvbiB0b2tlbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdG9rZW5zIFRoZSBuZXcgdG9rZW5zXG4gICAqL1xuICBzdG9yZSh0b2tlbnMpIHtcbiAgICB0aGlzLmFjY2VzcyA9IHRva2Vucy5hY2Nlc3M7XG4gICAgdGhpcy5yZWZyZXNoID0gdG9rZW5zLnJlZnJlc2g7XG4gICAgdGhpcy5leHBpcmVzID0gdG9rZW5zLmV4cGlyZXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgY3VycmVudCB0b2tlbnMgaGF2ZSBleHBpcmVkLlxuICAgKi9cbiAgZXhwaXJlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5leHBpcmVzICYmIGVwb2NoU2Vjb25kcygpID49IHRoaXMuZXhwaXJlcztcbiAgfSxcbn07XG4iLCJpbXBvcnQgQVBJQ2FjaGUgZnJvbSAnLi4vY29yZS9jYWNoZSc7XG5pbXBvcnQgVGlja2VyIGZyb20gJy4uL2NvcmUvdGlja2VyJztcblxuY29uc3QgY2FjaGUgPSBuZXcgQVBJQ2FjaGUoMTApO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIC8qKlxuICAgICAqIFF1ZXJ5IHRoZSBjYWNoZSBmb3IgdGhlIHNlY3VyaXR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBzZWN1cml0eVxuICAgICAqL1xuICBnZXQoc2VjdXJpdHkpIHtcbiAgICAvLyBNdXN0IGRpZ2VzdCB0aGUgc2VjdXJpdHkgaW50byB0aGUgc3RhbmRhcmQgZm9ybWF0XG4gICAgY29uc3QgcmVzdWx0ID0gY2FjaGUuZ2V0KG5ldyBUaWNrZXIoc2VjdXJpdHkpLmZvcm1hdCgpKTtcblxuICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcblxuICAvKipcbiAgICAgKiBSZW1lbWJlciB0aGUgc2VjdXJpdHkgZm9yIGEgZnV0dXJlIHF1aWNrIHJldHJpZXZhbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0ga2V5XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqL1xuICBpbnNlcnQoa2V5LCB2YWx1ZSkge1xuICAgIGNhY2hlLmluc2VydChuZXcgVGlja2VyKGtleSkuZm9ybWF0KCksIHZhbHVlKTtcbiAgfSxcbn07XG4iLCIvKlxuICogQVBJQ2FjaGUgaXMgYW4gaW50ZXJuYWwgZWZmb3J0IHRvIG1pbmltaXplIHVubmVjZXNzYXJ5IEFQSSBjYWxscyB3aGVyZVxuICogcG9zc2libGUuIEEgc3BlY2lmaWMgdXNlY2FzZSB3aGVyZSBhIGNhY2hlIGlzIHVzZWZ1bCBpcyBmaWd1cmluZyBvdXQgdGhlXG4gKiBleGNoYW5nZSBhIHNlY3VyaXR5IGJlbG9uZ3MgdG8uIEEgY2FjaGUgd291bGQgYWxsb3cgdXMgdG8gbWVtb3JpemVcbiAqIHRoaXMgc3RhdGljIGRhdGEgZm9yIGEgcGVyaW9kIG9mIHRpbWUgdG8gYXZvaWQgdW5uZWNlc3NhcnkgQVBJIGNhbGxzLlxuICpcbiAqIFRoZSBjbGFzcyBlbmNhcHN1bGF0ZXMgdGhlIGZvbGxvd2luZyBjYWNoZSBiZWhhdmlvdXI6XG4gKiAtIEEgbWF4aW11bSBlbnRyaWVzIHByb3ZpZGVkIGFzIGEgY29uc3RydWN0b3IgYXJndW1lbnRcbiAqIC0gRmlyc3QgaW4sIEZpcnN0IG91dCAoRklGTykgbW9kZWxcbiAqXG4gKiBUaGUgaW50ZXJuZWwgZGF0YSBzdHJ1Y3R1cmUgaXMgYSBIYXNoU2V0LCBzbyBsb29rdXAgdGltZSBjb3N0IGlzIGZhaXJseVxuICogbWluaW1hbC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQVBJQ2FjaGUge1xuICBjb25zdHJ1Y3RvcihzaXplKSB7XG4gICAgdGhpcy5jYWNoZSA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLnNpemUgPSBzaXplO1xuICB9XG5cbiAgLyoqXG4gICAgICogU3RvcmUgdGhlIGtleS12YWx1ZSBwYWlyIGludG8gdGhpcyBjYWNoZS4gVGhlIG9sZGVzdCBlbnRyeSBpcyBldmljdGVkIGlmXG4gICAgICogd2UncmUgb3V0IG9mIHNwYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBrZXlcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAgICovXG4gIGluc2VydChrZXksIHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuY2FjaGUuc2l6ZSA+PSB0aGlzLnNpemUpIHtcbiAgICAgIHRoaXMuY2FjaGUuZGVsZXRlKHRoaXMuY2FjaGUua2V5cygpLm5leHQoKS52YWx1ZSk7XG4gICAgfVxuXG4gICAgdGhpcy5jYWNoZS5zZXQoa2V5LCB2YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICAgKiBSZXRyaWV2ZSB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSBrZXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IGtleVxuICAgICAqL1xuICBnZXQoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuY2FjaGUuZ2V0KGtleSk7XG4gIH1cbn1cbiIsImltcG9ydCBlbmRwb2ludHMgZnJvbSAnLi9hcGkvZW5kcG9pbnRzJztcbmltcG9ydCBoYW5kbGVSZXF1ZXN0IGZyb20gJy4vbmV0d29yay9odHRwcyc7XG5pbXBvcnQgVGlja2VyIGZyb20gJy4vY29yZS90aWNrZXInO1xuaW1wb3J0IHsgY29uZmlnRW5hYmxlZCB9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCBjYWNoZSBmcm9tICcuL29wdGlvbmFsL3NlY3VyaXRpZXMtY2FjaGUnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgLyoqXG4gICAqIEEgc25hcHNob3Qgb2YgdGhlIGN1cnJlbnQgVVNEL0NBRCBleGNoYW5nZSByYXRlcyBvbiB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlXG4gICAqIHBsYXRmb3JtLlxuICAgKi9cbiAgZXhjaGFuZ2VSYXRlczogYXN5bmMgKCkgPT4gaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuRVhDSEFOR0VfUkFURVMsIHt9KSxcblxuICAvKipcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgYSBzZWN1cml0eSBvbiB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIFBsYXRmb3JtLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHVzZXJUaWNrZXIgVGhlIHNlY3VyaXR5IGlkXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZXh0ZW5zaXZlIFB1bGxzIGEgbW9yZSBkZXRhaWxlZCByZXBvcnQgb2YgdGhlIHNlY3VyaXR5IHVzaW5nIHRoZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvc2VjdXJpdGllcy97aWR9IEFQSVxuICAgKi9cbiAgZ2V0U2VjdXJpdHk6IGFzeW5jICh1c2VyVGlja2VyLCBleHRlbnNpdmUpID0+IHtcbiAgICBsZXQgcmVzdWx0ID0gbnVsbDtcblxuICAgIC8vIFJ1biBzb21lIHZhbGlkYXRpb24gb24gdGhlIHRpY2tlclxuICAgIGNvbnN0IHRpY2tlciA9IG5ldyBUaWNrZXIodXNlclRpY2tlcik7XG5cbiAgICBpZiAoIWV4dGVuc2l2ZSAmJiBjb25maWdFbmFibGVkKCdzZWN1cml0aWVzX2NhY2hlJykpIHtcbiAgICAgIHJlc3VsdCA9IGNhY2hlLmdldCh0aWNrZXIpO1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aWNrZXIuaWQpIHtcbiAgICAgIC8vIFdlIHdpbGwgaW1tZWRpYXRlbHkgY2FsbCB0aGUgZXh0ZW5zaXZlIGRldGFpbHMgQVBJIHNpbmNlIHdlIGhhdmUgdGhlIHVuaXF1ZSBpZC5cbiAgICAgIHJlc3VsdCA9IGF3YWl0IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLkVYVEVOU0lWRV9TRUNVUklUWV9ERVRBSUxTLCB7IGlkOiB0aWNrZXIuaWQgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IGF3YWl0IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLlNFQ1VSSVRZLCB7IHRpY2tlcjogdGlja2VyLnN5bWJvbCB9KTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5maWx0ZXIoKHNlY3VyaXR5KSA9PiBzZWN1cml0eS5zdG9jay5zeW1ib2wgPT09IHRpY2tlci5zeW1ib2wpO1xuXG4gICAgICBpZiAodGlja2VyLmNyeXB0bykge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQuZmlsdGVyKChzZWN1cml0eSkgPT4gc2VjdXJpdHkuc2VjdXJpdHlfdHlwZSA9PT0gJ2NyeXB0b2N1cnJlbmN5Jyk7XG4gICAgICB9IGVsc2UgaWYgKHRpY2tlci5leGNoYW5nZSkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQuZmlsdGVyKChzZWN1cml0eSkgPT4gc2VjdXJpdHkuc3RvY2sucHJpbWFyeV9leGNoYW5nZSA9PT0gdGlja2VyLmV4Y2hhbmdlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTXVsdGlwbGUgc2VjdXJpdGllcyBtYXRjaGVkIHF1ZXJ5LicpO1xuICAgICAgfSBpZiAocmVzdWx0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHNlY3VyaXRpZXMgbWF0Y2hlZCBxdWVyeS4nKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29udmVydCByZXN1bHQgZnJvbSBhIHNpbmdsZXRvbiBsaXN0IHRvIGl0cyByYXcgZW50cnlcbiAgICAgIFtyZXN1bHRdID0gcmVzdWx0O1xuXG4gICAgICBpZiAoZXh0ZW5zaXZlKSB7XG4gICAgICAgIC8vIFRoZSBjYWxsZXIgaGFzIG9wdGVkIHRvIHJlY2VpdmUgdGhlIGV4dGVuc2l2ZSBkZXRhaWxzIGFib3V0IHRoZSBzZWN1cml0eS5cbiAgICAgICAgcmVzdWx0ID0gYXdhaXQgaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuRVhURU5TSVZFX1NFQ1VSSVRZX0RFVEFJTFMsIHsgaWQ6IHJlc3VsdC5pZCB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29uZmlnRW5hYmxlZCgnc2VjdXJpdGllc19jYWNoZScpICYmIGNhY2hlLmdldCh0aWNrZXIpID09PSBudWxsKSB7XG4gICAgICBjYWNoZS5pbnNlcnQodGlja2VyLCByZXN1bHQpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG59O1xuIiwiaW1wb3J0IHsgSGVhZGVycyB9IGZyb20gJ25vZGUtZmV0Y2gnO1xuXG5jb25zdCBjdXN0b21IZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIC8qKlxuICAgKiBBcHBlbmRzIGEgaGVhZGVyIG5hbWUtdmFsdWUgcGFpciB0byBhbGwgcmVxdWVzdHMuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gbmFtZSBIZWFkZXIga2V5XG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgSGVhZGVyIHZhbHVlXG4gICAqL1xuICBhZGQ6IChuYW1lLCB2YWx1ZSkgPT4gY3VzdG9tSGVhZGVycy5hcHBlbmQobmFtZSwgdmFsdWUpLFxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgY3VzdG9tIGhlYWRlciBmcm9tIGFsbCByZXF1ZXN0cy5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBuYW1lIEhlYWRlciBrZXlcbiAgICovXG4gIHJlbW92ZTogKG5hbWUpID0+IGN1c3RvbUhlYWRlcnMuZGVsZXRlKG5hbWUpLFxuXG4gIC8qKlxuICAgKiBDbGVhcnMgYWxsIGN1c3RvbSBoZWFkZXJzLlxuICAgKi9cbiAgY2xlYXI6ICgpID0+IFsuLi5jdXN0b21IZWFkZXJzXS5mb3JFYWNoKChoZWFkZXIpID0+IGN1c3RvbUhlYWRlcnMuZGVsZXRlKGhlYWRlclswXSkpLFxuXG4gIC8qKlxuICAgKiBQcm9kdWNlcyBhIGxpc3Qgb2YgY3VzdG9tIGhlYWRlcnMuXG4gICAqL1xuICB2YWx1ZXM6ICgpID0+IFsuLi5jdXN0b21IZWFkZXJzXSxcbn07XG4iLCJyZXF1aXJlKCdzb3VyY2UtbWFwLXN1cHBvcnQnKS5pbnN0YWxsKCk7XG5cbmNvbnN0IGF1dGggPSByZXF1aXJlKCcuL2F1dGgnKS5kZWZhdWx0O1xuY29uc3QgaGVhZGVycyA9IHJlcXVpcmUoJy4vaGVhZGVycycpLmRlZmF1bHQ7XG5jb25zdCBhY2NvdW50cyA9IHJlcXVpcmUoJy4vYWNjb3VudHMnKS5kZWZhdWx0O1xuY29uc3Qgb3JkZXJzID0gcmVxdWlyZSgnLi9vcmRlcnMnKS5kZWZhdWx0O1xuY29uc3QgZGF0YSA9IHJlcXVpcmUoJy4vZGF0YScpLmRlZmF1bHQ7XG5jb25zdCBxdW90ZXMgPSByZXF1aXJlKCcuL3F1b3RlcycpLmRlZmF1bHQ7XG5jb25zdCBjb25maWcgPSByZXF1aXJlKCcuL2NvbmZpZycpLmRlZmF1bHQ7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBhdXRoLFxuICBoZWFkZXJzLFxuICBhY2NvdW50cyxcbiAgb3JkZXJzLFxuICBxdW90ZXMsXG4gIGRhdGEsXG4gIGNvbmZpZyxcbn07XG4iLCJpbXBvcnQgY2xvdWRzY3JhcGVyIGZyb20gJ2Nsb3Vkc2NyYXBlcic7XG5pbXBvcnQgY3VzdG9tSGVhZGVycyBmcm9tICcuLi9oZWFkZXJzJztcbmltcG9ydCB0b2tlbnMgZnJvbSAnLi4vY29yZS90b2tlbnMnO1xuaW1wb3J0IGVuZHBvaW50cyBmcm9tICcuLi9hcGkvZW5kcG9pbnRzJztcbmltcG9ydCB7IGNvbmZpZ0VuYWJsZWQgfSBmcm9tICcuLi9jb25maWcnO1xuXG5jb25zdCBbSFRUUF9PSywgSFRUUF9DUkVBVEVEXSA9IFsyMDAsIDIwMV07XG5cbi8qXG4gKiBDb21wbGV0ZSB0aGUgVVJMIGJ5IGZpbGxpbmcgdGhlIHBhcmFtZXRlciBwbGFjZWhvbGRlcnMgd2l0aCB0aGVcbiAqIGRhdGEgYXJndW1lbnRzLlxuICovXG5mdW5jdGlvbiBmaW5hbGl6ZVJlcXVlc3QoZW5kcG9pbnQsIGRhdGEpIHtcbiAgLy8gTWFrZSBhIGNvcHkgc28gd2UgZG9uJ3QgbW9kaWZ5IHRoZSBvcmlnaW5hbCBvbmUuXG4gIGNvbnN0IHBhcmFtcyA9IHsgLi4uZGF0YSB9O1xuICBsZXQgeyB1cmwgfSA9IGVuZHBvaW50O1xuXG4gIC8vIE5vIG5lZWQgdG8gZG8gYW55dGhpbmcgaWYgdGhlIFVSTCBpcyBzdGF0aWMgKG5vIHBhcmFtZXRlcnMpXG4gIGlmIChlbmRwb2ludC5wYXJhbWV0ZXJzKSB7XG4gICAgLy8gU3dhcCBhbGwgdGhlIHBhcmFtZXRlciBwbGFjZWhvbGRlcnMgd2l0aCB0aGUgYXJndW1lbnRzLlxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBPYmplY3Qua2V5cyhlbmRwb2ludC5wYXJhbWV0ZXJzKS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIGNvbnN0IHBhcmFtZXRlck5hbWUgPSBlbmRwb2ludC5wYXJhbWV0ZXJzW2luZGV4XTtcblxuICAgICAgLy8gd2UgaGF2ZSB0byBleHBsaWNpdGx5IGNoZWNrIGZvciBudWxsIGFuZCB1bmRlZmluZWQgc2luY2UgcGFyYW1ldGVyXG4gICAgICAvLyB2YWx1ZXMgbWlnaHQgYmUgMC5cbiAgICAgIGlmIChwYXJhbXNbcGFyYW1ldGVyTmFtZV0gPT09IG51bGwgfHwgcGFyYW1zW3BhcmFtZXRlck5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVUkwgcGFyYW1ldGVyICcke3BhcmFtZXRlck5hbWV9JyBtaXNzaW5nIWApO1xuICAgICAgfVxuXG4gICAgICAvKlxuICAgICAgICogUGFyYW1ldGVycyBzdXJyb3VuZGVkIHdpdGggY3VybHkgYnJhY2VzIChlLmcuLCB7Mn0pIGFyZSBzaW1wbGUgdmFsdWUgcmVwbGFjZW1lbnRzLFxuICAgICAgICogd2hpbGUgb25lcyBzdXJyb3VuZGVkIHdpdGggc3F1YXJlIGJyYWNrZXRzIChlLmcuLCBbMV0pIGFyZSBhcnJheS12YWx1ZSByZXBsYWNlbWVudHMuXG4gICAgICAgKi9cbiAgICAgIGlmICh1cmwuaW5kZXhPZihgeyR7aW5kZXh9fWApID49IDApIHtcbiAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoYHske2luZGV4fX1gLCBwYXJhbXNbZW5kcG9pbnQucGFyYW1ldGVyc1tpbmRleF1dKTtcbiAgICAgIH0gZWxzZSBpZiAodXJsLmluZGV4T2YoYFske2luZGV4fV1gKSA+PSAwKSB7XG4gICAgICAgIC8vIGV4dHJhY3QgcXVlcnkgcGFyYW1ldGVyIG5hbWUgYW5kIHRoZSBhcnJheSBvZiB2YWx1ZXNcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbU5hbWUgPSBlbmRwb2ludC5wYXJhbWV0ZXJzW2luZGV4XTtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gcGFyYW1zW3F1ZXJ5UGFyYW1OYW1lXTtcblxuICAgICAgICAvLyBDb25zdHJ1Y3QgdGhlIHF1ZXJ5UGFyYW0gdXNpbmcgZXZlcnkgdmFsdWUgaW4gdGhlIHZhbHVlcyBhcnJheS5cbiAgICAgICAgLy8gSGVyZSBpcyBhbiBleGFtcGxlIG9mIHdoYXQgcXVlcnlQYXJhbSBlbmRzIHVwIGJlaW5nOlxuICAgICAgICAvL1xuICAgICAgICAvLyBxdWVyeVBhcmFtTmFtZSA9ICd0eXBlJ1xuICAgICAgICAvLyB2YWx1ZXMgPSBbJ2J1eScsICdzZWxsJywgJ2RpdmlkZW5kJ11cbiAgICAgICAgLy8gcXVlcnlQYXJhbSA9ICd0eXBlPWJ1eSZ0eXBlPXNlbGwmdHlwZT1kaXZpZGVuZCdcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbSA9IHZhbHVlcy5tYXAoKHZhbHVlKSA9PiBgJHtxdWVyeVBhcmFtTmFtZX09JHt2YWx1ZX1gKS5qb2luKCcmJyk7XG5cbiAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoYFske2luZGV4fV1gLCBxdWVyeVBhcmFtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWFsZm9ybWVkIFVSTCEgVGhpcyBpcyBhbiBpbnRlcm5hbCBlcnJvcjogcmFpc2UgYW4gaXNzdWUhJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIE11c3QgcmVtb3ZlIHRoaXMga2V5IGZyb20gdGhlIHBheWxvYWQgYXMgaXQgaGFzIGJlZW4gY29uc3VtZWQgYnkgdGhlIFVSTFxuICAgICAgZGVsZXRlIHBhcmFtc1tlbmRwb2ludC5wYXJhbWV0ZXJzW2luZGV4XV07XG4gICAgfVxuICB9XG5cbiAgLy8gTm8gcGF5bG9hZCBhdHRhY2hlZCB0byBHRVQvREVMRVRFIHJlcXVlc3RzXG4gIGlmIChbJ0dFVCcsICdIRUFEJ10uaW5jbHVkZXMoZW5kcG9pbnQubWV0aG9kKSkge1xuICAgIHJldHVybiB7IHVybCwgcGF5bG9hZDogdW5kZWZpbmVkIH07XG4gIH1cblxuICByZXR1cm4geyB1cmwsIHBheWxvYWQ6IEpTT04uc3RyaW5naWZ5KHBhcmFtcykgfTtcbn1cblxuLypcbiAqIEltcGxlbWVudHMgdGhlIG5ldHdvcmsgbGV2ZWwgcHJvdG9jb2wgZm9yIHRhbGtpbmcgdG8gdGhlXG4gKiBXZWFsdGhzaW1wbGUgVHJhZGUgSFRUUFMgQVBJLlxuICovXG5hc3luYyBmdW5jdGlvbiB0YWxrKGVuZHBvaW50LCBkYXRhKSB7XG4gIGNvbnN0IGhlYWRlcnMgPSB7ICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfTtcblxuICBpZiAoZW5kcG9pbnQuYXV0aGVudGljYXRlZCkge1xuICAgIC8vIG5vIGFjY2VzcyB0b2tlbiBtZWFucyB3ZSB3aWxsIHByZW1hdHVyZWx5IGZhaWwgdGhlIHJlcXVlc3QgYmVjYXVzZVxuICAgIC8vIHRoaXMgaXMgYSBwcml2aWxlZ2VkIGVuZHBvaW50LlxuICAgIGlmICghdG9rZW5zLmFjY2Vzcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBBdXRoZW50aWNhdGlvbiByZXF1aXJlZCBmb3IgJyR7ZW5kcG9pbnQudXJsfSdgKTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnRW5hYmxlZCgnaW1wbGljaXRfdG9rZW5fcmVmcmVzaCcpKSB7XG4gICAgICBhd2FpdCBpbXBsaWNpdFRva2VuUmVmcmVzaCgpO1xuICAgIH1cblxuICAgIGhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IHRva2Vucy5hY2Nlc3M7XG4gIH1cblxuICAvLyBBcHBseSBhbGwgY3VzdG9tIGhlYWRlcnNcbiAgY3VzdG9tSGVhZGVycy52YWx1ZXMoKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHsgaGVhZGVyc1trZXldID0gdmFsdWU7IH0pO1xuXG4gIC8vIGZpbGwgcGF0aCBhbmQgcXVlcnkgcGFyYW1ldGVycyBpbiB0aGUgVVJMXG4gIGNvbnN0IHsgdXJsLCBwYXlsb2FkIH0gPSBmaW5hbGl6ZVJlcXVlc3QoZW5kcG9pbnQsIGRhdGEpO1xuXG4gIC8vIFdlYWx0aHNpbXBsZSBlbmRwb2ludHMgYXJlIHByb3RlY3RlZCBieSBDbG91ZGZsYXJlLlxuICAvLyBUaGUgY2xvdWRzY3JhcGVyIGxpYnJhcnkgdGFrZXMgY2FyZSBvZiB0aGUgQ2xvdWRmbGFyZSBjaGFsbGVuZ2VzXG4gIC8vIHdoaWxlIGFsc28gZXhlY3V0aW5nIG91ciByZXF1ZXN0XG4gIGxldCByZXNwb25zZSA9IG51bGw7XG4gIGF3YWl0IGNsb3Vkc2NyYXBlcih7XG4gICAgdXJsLFxuICAgIGJvZHk6IHBheWxvYWQsXG4gICAgbWV0aG9kOiBlbmRwb2ludC5tZXRob2QsXG4gICAgaGVhZGVycyxcbiAgICBjYWxsYmFjazogKHVudXNlZCwgcmVzKSA9PiB7XG4gICAgICAvLyBTYXZlIHRoZSBIVFRQIHJlc3BvbnNlXG4gICAgICByZXNwb25zZSA9IHJlcztcbiAgICB9LFxuICB9KS5jYXRjaCgoKSA9PiB7fSk7XG5cbiAgdHJ5IHtcbiAgICByZXNwb25zZS5ib2R5ID0gSlNPTi5wYXJzZShyZXNwb25zZS5ib2R5KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAvLyBpdCdzIG5vdCBKU09OLCBidXQgdGhhdCdzIGZpbmUuIFdlIGRvbid0IGRvIGFueXRoaW5nXG4gICAgLy8gZm9yIG5vdy5cbiAgfVxuXG4gIHJldHVybiByZXNwb25zZTtcbn1cblxuLypcbiAqIEZ1bGZpbGwgdGhlIGVuZHBvaW50IHJlcXVlc3QgZ2l2ZW4gdGhlIGVuZHBvaW50IGNvbmZpZ3VyYXRpb24sIG9wdGlvbmFsXG4gKiBkYXRhLlxuICovXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50LCBkYXRhKSB7XG4gIC8vIFN1Ym1pdCB0aGUgSFRUUCByZXF1ZXN0IHRvIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgU2VydmVyc1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRhbGsoZW5kcG9pbnQsIGRhdGEpO1xuXG4gIGlmIChbSFRUUF9PSywgSFRUUF9DUkVBVEVEXS5pbmNsdWRlcyhyZXNwb25zZS5zdGF0dXNDb2RlKSkge1xuICAgIHJldHVybiBlbmRwb2ludC5vblN1Y2Nlc3MocmVzcG9uc2UpO1xuICB9XG5cbiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGF3YWl0IGVuZHBvaW50Lm9uRmFpbHVyZShyZXNwb25zZSkpO1xufVxuXG4vKipcbiAqIE9idGFpbiBhIG5ldyBzZXQgb2YgYXV0aGVudGljYXRpb24gdG9rZW5zIHVzaW5nIHRoZVxuICogZXhpc3RpbmcgcmVmcmVzaCB0b2tlbi5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlZnJlc2hBdXRoZW50aWNhdGlvbigpIHtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5SRUZSRVNILCB7IHJlZnJlc2hfdG9rZW46IHRva2Vucy5yZWZyZXNoIH0pO1xuICB0b2tlbnMuc3RvcmUocmVzcG9uc2UudG9rZW5zKTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgZXhpc3Rpbmcgc2V0IG9mIHRva2VucyBoYXZlIGV4cGlyZWQsIGF1dG9tYXRpY2FsbHlcbiAqIHRyaWdnZXJpbmcgYSByZWZyZXNoIGlmIHRoZXkgaGF2ZSBleHBpcmVkLlxuICovXG5hc3luYyBmdW5jdGlvbiBpbXBsaWNpdFRva2VuUmVmcmVzaCgpIHtcbiAgaWYgKHRva2Vucy5leHBpcmVkKCkpIHtcbiAgICBpZiAodG9rZW5zLnJlZnJlc2gpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIExldCdzIGltcGxpY2l0bHkgcmVmcmVzaCB0aGUgYWNjZXNzIHRva2VuIHVzaW5nIHRoZSByZWZyZXNoIHRva2VuLlxuICAgICAgICBhd2FpdCByZWZyZXNoQXV0aGVudGljYXRpb24oKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIFRoZSByZWZyZXNoIHRva2VuIGlzIG5vdCB2YWxpZC5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gcmVmcmVzaCBleHBpcmVkIHRva2VuOiAke2Vycm9yfWApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBXZSBhcmUgZm9yY2VkIHRvIHJlamVjdCBhcyBvdXIgYWNjZXNzIHRva2VuIGhhcyBleHBpcmVkIGFuZCB3ZVxuICAgICAgLy8gZG8gbm90IGhhdmUgYSByZWZyZXNoIHRva2VuLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY2Nlc3MgdG9rZW4gZXhwaXJlZCcpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IGVuZHBvaW50cyBmcm9tICcuLi9hcGkvZW5kcG9pbnRzJztcbmltcG9ydCBoYW5kbGVSZXF1ZXN0IGZyb20gJy4uL25ldHdvcmsvaHR0cHMnO1xuaW1wb3J0IFRpY2tlciBmcm9tICcuLi9jb3JlL3RpY2tlcic7XG5cbi8vIFRoZSBtYXhpbXVtIG51bWJlciBvZiBvcmRlcnMgcmV0cmlldmVkIGJ5IHRoZSAvb3JkZXJzIEFQSS5cbmNvbnN0IE9SREVSU19QRVJfUEFHRSA9IDIwO1xuXG4vKipcbiAqIENvbGxlY3RzIG9yZGVycyAoZmlsbGVkLCBwZW5kaW5nLCBjYW5jZWxsZWQpIGZvciB0aGUgcHJvdmlkZWQgcGFnZSBhbmRcbiAqIGFjY291bnQgaWQuXG4gKlxuICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIHNwZWNpZmljIGFjY291bnQgaW4gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50XG4gKiBAcGFyYW0geyp9IHBhZ2VOdW0gVGhlIG9yZGVycyBwYWdlIGluZGV4IHRvIHNlZWsgdG9cbiAqL1xuYXN5bmMgZnVuY3Rpb24gcGFnZShhY2NvdW50SWQsIHBhZ2VOdW0pIHtcbiAgcmV0dXJuIGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLk9SREVSU19CWV9QQUdFLCB7XG4gICAgb2Zmc2V0OiAocGFnZU51bSAtIDEpICogT1JERVJTX1BFUl9QQUdFLFxuICAgIGFjY291bnRJZCxcbiAgfSk7XG59XG5cbi8qKlxuICogQ29sbGVjdHMgYWxsIG9yZGVycyAoZmlsbGVkLCBwZW5kaW5nLCBjYW5jZWxsZWQpIGZvciB0aGUgc3BlY2lmaWMgYWNjb3VudC5cbiAqXG4gKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgc3BlY2lmaWMgYWNjb3VudCBpbiB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnRcbiAqL1xuYXN5bmMgZnVuY3Rpb24gYWxsKGFjY291bnRJZCkge1xuICAvLyBXZSBzdGFydCBieSBjYXB0dXJpbmcgdGhlIGZpcnN0IHBhZ2Ugb2Ygb3JkZXJzIGluIG9yZGVyIHRvXG4gIC8vIGRldGVybWluZSB0aGUgbnVtYmVyIG9mIHBhZ2VzIGF2YWlsYWJsZVxuICBjb25zdCBkYXRhID0gYXdhaXQgcGFnZShhY2NvdW50SWQsIDEpO1xuICBjb25zdCBwYWdlcyA9IE1hdGguY2VpbChkYXRhLnRvdGFsIC8gT1JERVJTX1BFUl9QQUdFKTtcblxuICBpZiAocGFnZXMgPiAxKSB7XG4gICAgY29uc3QgdGFza3MgPSBbXTtcblxuICAgIC8vIEJ1aWxkIHRoZSB0YXNrIHF1ZXVlIHRoYXQgd2lsbCByZXRyaWV2ZSB0aGUgcmVtYWluaW5nIHBhZ2VzIG9mIG9yZGVyc1xuICAgIGZvciAobGV0IHBhZ2VOdW0gPSAyOyBwYWdlTnVtIDw9IHBhZ2VzOyBwYWdlTnVtKyspIHtcbiAgICAgIHRhc2tzLnB1c2gocGFnZShhY2NvdW50SWQsIHBhZ2VOdW0pLnRoZW4oKHJlc3VsdCkgPT4gcmVzdWx0Lm9yZGVycykpO1xuICAgIH1cblxuICAgIC8vIE91dC1vZi1vcmRlciBpbnZvY2F0aW9uIGlzIGRlc2lyZWQuIFdoYXQgbWF0dGVycyBpcyB0aGF0IFByb21pc2UuYWxsIHdpbGxcbiAgICAvLyBndWFyYW50ZWUgdGhhdCB0aGUgZGF0YSBvcmRlciBpcyBwcmVzZXJ2ZWQuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUHJvbWlzZS5hbGwodGFza3MpO1xuICAgIHJlc3VsdC5mb3JFYWNoKChsaXN0KSA9PiBkYXRhLm9yZGVycy5wdXNoKC4uLmxpc3QpKTtcblxuICAgIC8vIFVwZGF0ZSB0aGUgdG90YWwgYXR0cmlidXRlIHRvIHJlZmxlY3QgdGhlIG5ldyBzaXplXG4gICAgZGF0YS50b3RhbCA9IGRhdGEub3JkZXJzLmxlbmd0aDtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKlxuICogUmV0cmlldmUgZmlsdGVyZWQgb3JkZXJzIGJ5IHRpY2tlciBhbmQgc3RhdHVzLlxuICovXG5hc3luYyBmdW5jdGlvbiBmaWx0ZXJlZE9yZGVycyhhY2NvdW50SWQsIHRpY2tlciwgc3RhdHVzKSB7XG4gIC8vIEZldGNoIGFsbCBvcmRlcnNcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYWxsKGFjY291bnRJZCk7XG5cbiAgY29uc3Qgb3JkZXJGaWx0ZXIgPSAob3JkZXIpID0+IHtcbiAgICBpZiAodGlja2VyKSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBuZXcgVGlja2VyKHsgc3ltYm9sOiBvcmRlci5zeW1ib2wsIGlkOiBvcmRlci5zZWN1cml0eV9pZCB9KTtcbiAgICAgIC8vIG9yZGVyIG9iamVjdHMgZG9uJ3QgaW5jbHVkZSBleGNoYW5nZXMsIHNvIHdlIGFyZSB1bmFibGUgdG8gbWFrZVxuICAgICAgLy8gYSBzdHJvbmcgY29tcGFyaXNvbiB3aXRob3V0IHJlcXVpcmluZyBhIGxpbmVhciBpbmNyZWFzZSBvZlxuICAgICAgLy8gZW5kcG9pbnQgY2FsbHMgKHdoaWNoIGlzIG5vdCByZWFzb25hYmxlKS5cbiAgICAgIC8vXG4gICAgICAvLyBUaGUgdXNlciBzaG91bGQgcHJvdmlkZSB0aGUgc2VjdXJpdHkgaWQgZm9yIGEgc3Ryb25nIGNvbXBhcmlzb24gaGVyZS5cbiAgICAgIGlmICghbmV3IFRpY2tlcih0aWNrZXIpLndlYWtFcXVhbHModGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9yZGVyLnN0YXR1cyA9PT0gc3RhdHVzO1xuICB9O1xuXG4gIC8vIEFwcGx5IGZpbHRlciB0byB0aGUgcmVzdWx0XG4gIHJlc3VsdC5vcmRlcnMgPSByZXN1bHQub3JkZXJzLmZpbHRlcihvcmRlckZpbHRlcik7XG4gIHJlc3VsdC50b3RhbCA9IHJlc3VsdC5vcmRlcnMubGVuZ3RoO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgcGFnZSxcbiAgYWxsLFxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgcGVuZGluZyBvcmRlcnMgZm9yIHRoZSBzcGVjaWZpZWQgc2VjdXJpdHkgaW4gdGhlIGFjY291bnQuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gYWNjb3VudElkIFRoZSBzcGVjaWZpYyBhY2NvdW50IGluIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudFxuICAgKiBAcGFyYW0geyp9IHRpY2tlciAob3B0aW9uYWwpIFRoZSBzZWN1cml0eSBzeW1ib2xcbiAgICovXG4gIHBlbmRpbmc6IGFzeW5jIChhY2NvdW50SWQsIHRpY2tlcikgPT4gZmlsdGVyZWRPcmRlcnMoYWNjb3VudElkLCB0aWNrZXIsICdzdWJtaXR0ZWQnKSxcblxuICAvKipcbiAgICogUmV0cmlldmVzIGZpbGxlZCBvcmRlcnMgZm9yIHRoZSBzcGVjaWZpZWQgc2VjdXJpdHkgaW4gdGhlIGFjY291bnQuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gYWNjb3VudElkIFRoZSBzcGVjaWZpYyBhY2NvdW50IGluIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudFxuICAgKiBAcGFyYW0geyp9IHRpY2tlciAob3B0aW9uYWwpIFRoZSBzZWN1cml0eSBzeW1ib2xcbiAgICovXG4gIGZpbGxlZDogYXN5bmMgKGFjY291bnRJZCwgdGlja2VyKSA9PiBmaWx0ZXJlZE9yZGVycyhhY2NvdW50SWQsIHRpY2tlciwgJ3Bvc3RlZCcpLFxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgY2FuY2VsbGVkIG9yZGVycyBmb3IgdGhlIHNwZWNpZmllZCBzZWN1cml0eSBpbiB0aGUgYWNjb3VudC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIHNwZWNpZmljIGFjY291bnQgaW4gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50XG4gICAqIEBwYXJhbSB7Kn0gdGlja2VyIChvcHRpb25hbCkgVGhlIHNlY3VyaXR5IHN5bWJvbFxuICAgKi9cbiAgY2FuY2VsbGVkOiBhc3luYyAoYWNjb3VudElkLCB0aWNrZXIpID0+IGZpbHRlcmVkT3JkZXJzKGFjY291bnRJZCwgdGlja2VyLCAnY2FuY2VsbGVkJyksXG59O1xuIiwiaW1wb3J0IGVuZHBvaW50cyBmcm9tICcuLi9hcGkvZW5kcG9pbnRzJztcbmltcG9ydCBoYW5kbGVSZXF1ZXN0IGZyb20gJy4uL25ldHdvcmsvaHR0cHMnO1xuaW1wb3J0IGhpc3RvcnkgZnJvbSAnLi9oaXN0b3J5JztcbmltcG9ydCBkYXRhIGZyb20gJy4uL2RhdGEnO1xuaW1wb3J0IHF1b3RlcyBmcm9tICcuLi9xdW90ZXMnO1xuaW1wb3J0IFRpY2tlciBmcm9tICcuLi9jb3JlL3RpY2tlcic7XG5cbmNvbnN0IGlzQ2FuYWRpYW5TZWN1cml0eSA9IChleGNoYW5nZSkgPT4gWydUU1gnLCAnVFNYLVYnXS5pbmNsdWRlcyhleGNoYW5nZSk7XG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAvKipcbiAgICogQ2FuY2VscyB0aGUgcGVuZGluZyBvcmRlciBzcGVjaWZpZWQgYnkgdGhlIG9yZGVyIGlkLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IG9yZGVySWQgVGhlIHBlbmRpbmcgb3JkZXIgdG8gY2FuY2VsXG4gICAqL1xuICBjYW5jZWw6IGFzeW5jIChvcmRlcklkKSA9PiAoe1xuICAgIG9yZGVyOiBvcmRlcklkLFxuICAgIHJlc3BvbnNlOiBhd2FpdCBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5DQU5DRUxfT1JERVIsIHsgb3JkZXJJZCB9KSxcbiAgfSksXG5cbiAgLyoqXG4gICAqIENhbmNlbHMgYWxsIHBlbmRpbmcgb3JkZXJzIHVuZGVyIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgQWNjb3VudC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIHNwZWNpZmljIGFjY291bnQgaW4gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50XG4gICAqL1xuICBhc3luYyBjYW5jZWxQZW5kaW5nKGFjY291bnRJZCkge1xuICAgIGNvbnN0IHBlbmRpbmcgPSBhd2FpdCBoaXN0b3J5LnBlbmRpbmcoYWNjb3VudElkKTtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZy5vcmRlcnMubWFwKGFzeW5jIChvcmRlcikgPT4gdGhpcy5jYW5jZWwob3JkZXIub3JkZXJfaWQpKSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1hcmtldCBidXkgYSBzZWN1cml0eSB0aHJvdWdoIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYXBwbGljYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gYWNjb3VudElkIFRoZSBhY2NvdW50IHRvIG1ha2UgdGhlIHRyYW5zYWN0aW9uIGZyb21cbiAgICogQHBhcmFtIHsqfSB0aWNrZXIgVGhlIHNlY3VyaXR5IHN5bWJvbFxuICAgKiBAcGFyYW0geyp9IHF1YW50aXR5IFRoZSBudW1iZXIgb2Ygc2VjdXJpdGllcyB0byBwdXJjaGFzZVxuICAgKi9cbiAgbWFya2V0QnV5OiBhc3luYyAoYWNjb3VudElkLCB0aWNrZXIsIHF1YW50aXR5KSA9PiB7XG4gICAgY29uc3QgZGV0YWlscyA9IGF3YWl0IGRhdGEuZ2V0U2VjdXJpdHkodGlja2VyKTtcblxuICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5QTEFDRV9PUkRFUiwge1xuICAgICAgc2VjdXJpdHlfaWQ6IGRldGFpbHMuaWQsXG4gICAgICBsaW1pdF9wcmljZTogIShuZXcgVGlja2VyKHRpY2tlcikuY3J5cHRvKSA/IGF3YWl0IHF1b3Rlcy5nZXQodGlja2VyKSA6IHVuZGVmaW5lZCxcbiAgICAgIHF1YW50aXR5LFxuICAgICAgb3JkZXJfdHlwZTogJ2J1eV9xdWFudGl0eScsXG4gICAgICBvcmRlcl9zdWJfdHlwZTogJ21hcmtldCcsXG4gICAgICB0aW1lX2luX2ZvcmNlOiAnZGF5JyxcbiAgICAgIGFjY291bnRfaWQ6IGFjY291bnRJZCxcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogTGltaXQgYnV5IGEgc2VjdXJpdHkgdGhyb3VnaCB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgYWNjb3VudCB0byBtYWtlIHRoZSB0cmFuc2FjdGlvbiBmcm9tXG4gICAqIEBwYXJhbSB7Kn0gdGlja2VyIFRoZSBzZWN1cml0eSBzeW1ib2xcbiAgICogQHBhcmFtIHsqfSBsaW1pdCBUaGUgbWF4aW11bSBwcmljZSB0byBwdXJjaGFzZSB0aGUgc2VjdXJpdHkgYXRcbiAgICogQHBhcmFtIHsqfSBxdWFudGl0eSBUaGUgbnVtYmVyIG9mIHNlY3VyaXRpZXMgdG8gcHVyY2hhc2VcbiAgICovXG4gIGxpbWl0QnV5OiBhc3luYyAoYWNjb3VudElkLCB0aWNrZXIsIGxpbWl0LCBxdWFudGl0eSkgPT4gaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuUExBQ0VfT1JERVIsIHtcbiAgICBzZWN1cml0eV9pZDogKGF3YWl0IGRhdGEuZ2V0U2VjdXJpdHkodGlja2VyKSkuaWQsXG4gICAgbGltaXRfcHJpY2U6IGxpbWl0LFxuICAgIHF1YW50aXR5LFxuICAgIG9yZGVyX3R5cGU6ICdidXlfcXVhbnRpdHknLFxuICAgIG9yZGVyX3N1Yl90eXBlOiAnbGltaXQnLFxuICAgIHRpbWVfaW5fZm9yY2U6ICdkYXknLFxuICAgIGFjY291bnRfaWQ6IGFjY291bnRJZCxcbiAgfSksXG5cbiAgLyoqXG4gICAqIFN0b3AgbGltaXQgYnV5IGEgc2VjdXJpdHkgdGhyb3VnaCB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgYWNjb3VudCB0byBtYWtlIHRoZSB0cmFuc2FjdGlvbiBmcm9tXG4gICAqIEBwYXJhbSB7Kn0gdGlja2VyIFRoZSBzZWN1cml0eSBzeW1ib2xcbiAgICogQHBhcmFtIHsqfSBzdG9wIFRoZSBwcmljZSBhdCB3aGljaCB0aGUgb3JkZXIgY29udmVydHMgdG8gYSBsaW1pdCBvcmRlclxuICAgKiBAcGFyYW0geyp9IGxpbWl0IFRoZSBtYXhpbXVtIHByaWNlIHRvIHB1cmNoYXNlIHRoZSBzZWN1cml0eSBhdFxuICAgKiBAcGFyYW0geyp9IHF1YW50aXR5IFRoZSBudW1iZXIgb2Ygc2VjdXJpdGllcyB0byBwdXJjaGFzZVxuICAgKi9cbiAgc3RvcExpbWl0QnV5OiBhc3luYyAoYWNjb3VudElkLCB0aWNrZXIsIHN0b3AsIGxpbWl0LCBxdWFudGl0eSkgPT4ge1xuICAgIGNvbnN0IHNlY3VyaXR5ID0gYXdhaXQgZGF0YS5nZXRTZWN1cml0eSh0aWNrZXIpO1xuXG4gICAgLy8gVGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBiYWNrZW5kIGRvZXNuJ3QgY2hlY2sgZm9yIHRoaXMsIGV2ZW4gdGhvdWdoIHRoZSBhcHAgZG9lcy4uXG4gICAgaWYgKGlzQ2FuYWRpYW5TZWN1cml0eShzZWN1cml0eS5zdG9jay5wcmltYXJ5X2V4Y2hhbmdlKSAmJiBzdG9wICE9PSBsaW1pdCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUU1gvVFNYLVYgc2VjdXJpdGllcyBtdXN0IGhhdmUgYW4gZXF1aXZhbGVudCBzdG9wIGFuZCBsaW1pdCBwcmljZS4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuUExBQ0VfT1JERVIsIHtcbiAgICAgIHNlY3VyaXR5X2lkOiBzZWN1cml0eS5pZCxcbiAgICAgIHN0b3BfcHJpY2U6IHN0b3AsXG4gICAgICBsaW1pdF9wcmljZTogbGltaXQsXG4gICAgICBxdWFudGl0eSxcbiAgICAgIG9yZGVyX3R5cGU6ICdidXlfcXVhbnRpdHknLFxuICAgICAgb3JkZXJfc3ViX3R5cGU6ICdzdG9wX2xpbWl0JyxcbiAgICAgIHRpbWVfaW5fZm9yY2U6ICdkYXknLFxuICAgICAgYWNjb3VudF9pZDogYWNjb3VudElkLFxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNYXJrZXQgc2VsbCBhIHNlY3VyaXR5IHRocm91Z2ggdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhcHBsaWNhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIGFjY291bnQgdG8gbWFrZSB0aGUgdHJhbnNhY3Rpb24gZnJvbVxuICAgKiBAcGFyYW0geyp9IHRpY2tlciBUaGUgc2VjdXJpdHkgc3ltYm9sXG4gICAqIEBwYXJhbSB7Kn0gcXVhbnRpdHkgVGhlIG51bWJlciBvZiBzZWN1cml0aWVzIHRvIHB1cmNoYXNlXG4gICAqL1xuICBtYXJrZXRTZWxsOiBhc3luYyAoYWNjb3VudElkLCB0aWNrZXIsIHF1YW50aXR5KSA9PiBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5QTEFDRV9PUkRFUiwge1xuICAgIHNlY3VyaXR5X2lkOiAoYXdhaXQgZGF0YS5nZXRTZWN1cml0eSh0aWNrZXIpKS5pZCxcbiAgICBtYXJrZXRfdmFsdWU6ICEobmV3IFRpY2tlcih0aWNrZXIpLmNyeXB0bykgPyBhd2FpdCBxdW90ZXMuZ2V0KHRpY2tlcikgOiB1bmRlZmluZWQsXG4gICAgcXVhbnRpdHksXG4gICAgb3JkZXJfdHlwZTogJ3NlbGxfcXVhbnRpdHknLFxuICAgIG9yZGVyX3N1Yl90eXBlOiAnbWFya2V0JyxcbiAgICB0aW1lX2luX2ZvcmNlOiAnZGF5JyxcbiAgICBhY2NvdW50X2lkOiBhY2NvdW50SWQsXG4gIH0pLFxuXG4gIC8qKlxuICAgKiBMaW1pdCBzZWxsIGEgc2VjdXJpdHkgdGhyb3VnaCB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgYWNjb3VudCB0byBtYWtlIHRoZSB0cmFuc2FjdGlvbiBmcm9tXG4gICAqIEBwYXJhbSB7Kn0gdGlja2VyIFRoZSBzZWN1cml0eSBzeW1ib2xcbiAgICogQHBhcmFtIHsqfSBsaW1pdCBUaGUgbWluaW11bSBwcmljZSB0byBzZWxsIHRoZSBzZWN1cml0eSBhdFxuICAgKiBAcGFyYW0geyp9IHF1YW50aXR5IFRoZSBudW1iZXIgb2Ygc2VjdXJpdGllcyB0byBzZWxsXG4gICAqL1xuICBsaW1pdFNlbGw6IGFzeW5jIChhY2NvdW50SWQsIHRpY2tlciwgbGltaXQsIHF1YW50aXR5KSA9PiBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5QTEFDRV9PUkRFUiwge1xuICAgIHNlY3VyaXR5X2lkOiAoYXdhaXQgZGF0YS5nZXRTZWN1cml0eSh0aWNrZXIpKS5pZCxcbiAgICBsaW1pdF9wcmljZTogbGltaXQsXG4gICAgcXVhbnRpdHksXG4gICAgb3JkZXJfdHlwZTogJ3NlbGxfcXVhbnRpdHknLFxuICAgIG9yZGVyX3N1Yl90eXBlOiAnbGltaXQnLFxuICAgIHRpbWVfaW5fZm9yY2U6ICdkYXknLFxuICAgIGFjY291bnRfaWQ6IGFjY291bnRJZCxcbiAgfSksXG5cbiAgLyoqXG4gICAqIFN0b3AgbGltaXQgc2VsbCBhIHNlY3VyaXR5IHRocm91Z2ggdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhcHBsaWNhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIGFjY291bnQgdG8gbWFrZSB0aGUgdHJhbnNhY3Rpb24gZnJvbVxuICAgKiBAcGFyYW0geyp9IHRpY2tlciBUaGUgc2VjdXJpdHkgc3ltYm9sXG4gICAqIEBwYXJhbSB7Kn0gc3RvcCBUaGUgcHJpY2UgYXQgd2hpY2ggdGhlIG9yZGVyIGNvbnZlcnRzIHRvIGEgbGltaXQgb3JkZXJcbiAgICogQHBhcmFtIHsqfSBsaW1pdCBUaGUgbWluaW11bSBwcmljZSB0byBzZWxsIHRoZSBzZWN1cml0eSBhdFxuICAgKiBAcGFyYW0geyp9IHF1YW50aXR5IFRoZSBudW1iZXIgb2Ygc2VjdXJpdGllcyB0byBzZWxsXG4gICAqL1xuICBzdG9wTGltaXRTZWxsOiBhc3luYyAoYWNjb3VudElkLCB0aWNrZXIsIHN0b3AsIGxpbWl0LCBxdWFudGl0eSkgPT4ge1xuICAgIGNvbnN0IHNlY3VyaXR5ID0gYXdhaXQgZGF0YS5nZXRTZWN1cml0eSh0aWNrZXIpO1xuXG4gICAgLy8gVGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBiYWNrZW5kIGRvZXNuJ3QgY2hlY2sgZm9yIHRoaXMsIGV2ZW4gdGhvdWdoIHRoZSBhcHAgZG9lcy4uXG4gICAgaWYgKGlzQ2FuYWRpYW5TZWN1cml0eShzZWN1cml0eS5zdG9jay5wcmltYXJ5X2V4Y2hhbmdlKSAmJiBzdG9wICE9PSBsaW1pdCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUU1gvVFNYLVYgc2VjdXJpdGllcyBtdXN0IGhhdmUgYW4gZXF1aXZhbGVudCBzdG9wIGFuZCBsaW1pdCBwcmljZS4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuUExBQ0VfT1JERVIsIHtcbiAgICAgIHNlY3VyaXR5X2lkOiBzZWN1cml0eS5pZCxcbiAgICAgIHN0b3BfcHJpY2U6IHN0b3AsXG4gICAgICBsaW1pdF9wcmljZTogbGltaXQsXG4gICAgICBxdWFudGl0eSxcbiAgICAgIG9yZGVyX3R5cGU6ICdzZWxsX3F1YW50aXR5JyxcbiAgICAgIG9yZGVyX3N1Yl90eXBlOiAnc3RvcF9saW1pdCcsXG4gICAgICB0aW1lX2luX2ZvcmNlOiAnZGF5JyxcbiAgICAgIGFjY291bnRfaWQ6IGFjY291bnRJZCxcbiAgICB9KTtcbiAgfSxcbn07XG4iLCJpbXBvcnQgaGlzdG9yeSBmcm9tICcuL2hpc3RvcnknO1xuaW1wb3J0IHN1Ym1pdCBmcm9tICcuL3N1Ym1pdCc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLi4uaGlzdG9yeSxcbiAgLi4uc3VibWl0LFxufTtcbiIsIi8qKlxuICogVGhlIGRlZmF1bHQgcHJvdmlkZXIgZm9yIHF1b3RlcyBpcyBXZWFsdGhzaW1wbGUgVHJhZGUuXG4gKi9cblxuaW1wb3J0IGRhdGEgZnJvbSAnLi4vZGF0YSc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAvKipcbiAgICAgKiBRdW90ZSBmb3IgYSB0aWNrZXIgZnJvbSB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGVuZHBvaW50LlxuICAgICAqXG4gICAgICogUmVtZW1iZXIgdGhhdCB0aGlzIHF1b3RlIGlzIE5PVCByZWFsLXRpbWUhXG4gICAgICovXG4gIHF1b3RlOiBhc3luYyAodGlja2VyKSA9PiB7XG4gICAgY29uc3QgaW5mbyA9IGF3YWl0IGRhdGEuZ2V0U2VjdXJpdHkodGlja2VyLCB0cnVlKTtcbiAgICByZXR1cm4gaW5mby5xdW90ZS5hbW91bnQ7XG4gIH0sXG59O1xuIiwiaW1wb3J0IHRyYWRlIGZyb20gJy4vZGVmYXVsdCc7XG5pbXBvcnQgZGF0YSBmcm9tICcuLi9kYXRhJztcbmltcG9ydCBUaWNrZXIgZnJvbSAnLi4vY29yZS90aWNrZXInO1xuaW1wb3J0IGhhbmRsZVJlcXVlc3QgZnJvbSAnLi4vbmV0d29yay9odHRwcyc7XG5pbXBvcnQgZW5kcG9pbnRzIGZyb20gJy4uL2FwaS9lbmRwb2ludHMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgLy8gV2VhbHRoc2ltcGxlIFRyYWRlIGlzIG91ciBkZWZhdWx0IHNvdXJjZSBmb3IgcXVvdGVzLCBkZXNwaXRlXG4gIC8vIGhhdmluZyBhIDE1IG1pbiBkZWxheVxuICBkZWZhdWx0UHJvdmlkZXI6IHRyYWRlLFxuXG4gIC8vIE1haW50YWlucyBxdW90ZSBwcm92aWRlcnMgb24gYW4gZXhjaGFuZ2UgYmFzaXNcbiAgcHJvdmlkZXJzOiB7fSxcblxuICAvKipcbiAgICAgKiBMb2FkIGEgY3VzdG9tIHByb3ZpZGVyIGZvciB0aGUgZXhjaGFuZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IGV4Y2hhbmdlIFRoZSBleGNoYW5nZSB0aGF0IHRoZSBwcm92aWRlciBmZXRjaGVzIHF1b3RlcyBmb3JcbiAgICAgKiBAcGFyYW0geyp9IHByb3ZpZGVyIFRoZSBwcm92aWRlciBvYmplY3QgY29udGFpbmluZyB0aGUgcXVvdGUoKSBpbXBsZW1lbnRhdGlvbi5cbiAgICAgKi9cbiAgdXNlKGV4Y2hhbmdlLCBwcm92aWRlcikge1xuICAgIGlmICh0eXBlb2YgKHByb3ZpZGVyLnF1b3RlKSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gVGhlIHByb3ZpZGVyIG11c3QgaGF2ZSBhIHF1b3RlKCkgaW1wbGVtZW50YXRpb24gdGhhdCB3ZSBjYW4gY2FsbCBsYXRlciFcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBxdW90ZSBwcm92aWRlciBmb3IgJHtleGNoYW5nZX0hYCk7XG4gICAgfVxuXG4gICAgdGhpcy5wcm92aWRlcnNbZXhjaGFuZ2VdID0gcHJvdmlkZXI7XG4gIH0sXG5cbiAgLyoqXG4gICAgICogT2J0YWlucyBhIHF1b3RlIGZvciB0aGUgdGlja2VyLiBUaGUgc291cmNlIG9mIHRoZSBxdW90ZSBtYXkgYmUgYSBjdXN0b21cbiAgICAgKiBwcm92aWRlciBpZiBhIHZhbGlkIHByb3ZpZGVyIGlzIHJlZ2lzdGVyZWQgZm9yIHRoZSBleGNoYW5nZSB0aGF0IHRoZVxuICAgICAqIHRpY2tlciB0cmFkZXMgb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHNlY3VyaXR5IFRoZSBzZWN1cml0eSB0byBnZXQgYSBxdW90ZSBmb3IuXG4gICAgICovXG4gIGFzeW5jIGdldChzZWN1cml0eSkge1xuICAgIGxldCBleGNoYW5nZSA9IG51bGw7XG4gICAgY29uc3QgdGlja2VyID0gbmV3IFRpY2tlcihzZWN1cml0eSk7XG5cbiAgICBpZiAodGlja2VyLmV4Y2hhbmdlKSB7XG4gICAgICAvLyBXZSBuZWVkIHRoZSBleGNoYW5nZSBpbiB0aGUgbmV4dCBzdGVwIGlmIHRoZSB1c2VyIGhhcyBzcGVjaWZpZWRcbiAgICAgIC8vIGEgY3VzdG9tIHByb3ZpZGVyIGZvciBhbiBleGNoYW5nZS4gU28gaWYgdGhlIHVzZXIgaGFzbid0IHByb3ZpZGVkXG4gICAgICAvLyBpdCwgd2Ugd2lsbCBoYXZlIHRvIHBpbmcgV2VhbHRoc2ltcGxlIHRyYWRlIHRvIGdldCBpdC5cbiAgICAgIGV4Y2hhbmdlID0gdGlja2VyLmV4Y2hhbmdlO1xuICAgIH0gZWxzZSBpZiAodGlja2VyLmNyeXB0byAmJiB0aWNrZXIuaWQpIHtcbiAgICAgIC8vIElmIHRoZSBpZCBpcyBvbmx5IGdpdmVuIGJ1dCB3ZSBrbm93IGl0J3MgYSBjcnlwdG8gaWQsXG4gICAgICAvLyB3ZSB3aWxsIGF1dG9tYXRpY2FsbHkgc2V0IGV4Y2hhbmdlIHRvICdDQycuXG4gICAgICBleGNoYW5nZSA9ICdDQyc7XG4gICAgfSBlbHNlIGlmIChPYmplY3Qua2V5cyh0aGlzLnByb3ZpZGVycykubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgaW5mbyA9IGF3YWl0IGRhdGEuZ2V0U2VjdXJpdHkodGlja2VyLCBmYWxzZSk7XG4gICAgICBleGNoYW5nZSA9IGluZm8uc3RvY2sucHJpbWFyeV9leGNoYW5nZTtcbiAgICB9XG5cbiAgICAvLyBBIGN1c3RvbSBwcm92aWRlciB3aWxsIHRha2UgcHJlY2VkZW5jZSBvdmVyIHRoZSBkZWZhdWx0IHNvdXJjZVxuICAgIGlmIChleGNoYW5nZSBpbiB0aGlzLnByb3ZpZGVycykge1xuICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXJzW2V4Y2hhbmdlXS5xdW90ZSh0aWNrZXIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5kZWZhdWx0UHJvdmlkZXIucXVvdGUodGlja2VyKTtcbiAgfSxcblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBoaXN0b3JpY2FsIHF1b3RlcyB3aXRoaW4gYSBzcGVjaWZpZWQgaW50ZXJ2YWwgZm9yIHRoZSB0aWNrZXIuXG4gICAqIFRoZSBzb3VyY2Ugb2YgdGhlIGhpc3RvcmljYWwgZGF0YSBpcyBub3QgY3VzdG9taXphYmxlIGF0IHRoaXMgdGltZSBiZWNhdXNlXG4gICAqIHRoZXJlIGlzIG5vIG5lZWQgZm9yIGl0IHRvIGJlIHNvLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHRpY2tlciBUaGUgdGlja2VyIHRvIHNlYXJjaCBoaXN0b3JpY2FsIHF1b3RlcyBmb3JcbiAgICogQHBhcmFtIHsqfSBpbnRlcnZhbCBUaGUgdGltZSByYW5nZSBvZiB0aGUgcXVvdGVzXG4gICAqL1xuICBhc3luYyBoaXN0b3J5KHNlY3VyaXR5LCBpbnRlcnZhbCkge1xuICAgIC8vIHZhbGlkYXRlIHRoZSB1c2VyLWdpdmVuIHNlY3VyaXR5XG4gICAgY29uc3QgdGlja2VyID0gbmV3IFRpY2tlcihzZWN1cml0eSk7XG4gICAgaWYgKCF0aWNrZXIuaWQpIHtcbiAgICAgIHRpY2tlci5pZCA9IChhd2FpdCBkYXRhLmdldFNlY3VyaXR5KHRpY2tlcikpLmlkO1xuICAgIH1cblxuICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5RVU9URVNfSElTVE9SWSwgeyBpZDogdGlja2VyLmlkLCBpbnRlcnZhbCB9KTtcbiAgfSxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbnZhciBydW50aW1lID0gKGZ1bmN0aW9uIChleHBvcnRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBPcCA9IE9iamVjdC5wcm90b3R5cGU7XG4gIHZhciBoYXNPd24gPSBPcC5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG4gIHZhciAkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sIDoge307XG4gIHZhciBpdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCI7XG4gIHZhciBhc3luY0l0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCI7XG4gIHZhciB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XG5cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xuICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG5cbiAgICAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgZXhwb3J0cy53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LlxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgSXRlcmF0b3JQcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgdmFyIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiZcbiAgICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJlxuICAgICAgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSkge1xuICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgLy8gb2YgdGhlIHBvbHlmaWxsLlxuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPVxuICAgIEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR3AuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvbjtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGVbdG9TdHJpbmdUYWdTeW1ib2xdID1cbiAgICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICBwcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3JcbiAgICAgID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHxcbiAgICAgICAgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxuICAgICAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuICBleHBvcnRzLm1hcmsgPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICAgIGlmICghKHRvU3RyaW5nVGFnU3ltYm9sIGluIGdlbkZ1bikpIHtcbiAgICAgICAgZ2VuRnVuW3RvU3RyaW5nVGFnU3ltYm9sXSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC5cbiAgZXhwb3J0cy5hd3JhcCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yLCBQcm9taXNlSW1wbCkge1xuICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHJlamVjdChyZWNvcmQuYXJnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnO1xuICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSAmJlxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaW52b2tlKFwibmV4dFwiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGludm9rZShcInRocm93XCIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHVud3JhcHBlZCkge1xuICAgICAgICAgIC8vIFdoZW4gYSB5aWVsZGVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGl0cyBmaW5hbCB2YWx1ZSBiZWNvbWVzXG4gICAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uXG4gICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAvLyBJZiBhIHJlamVjdGVkIFByb21pc2Ugd2FzIHlpZWxkZWQsIHRocm93IHRoZSByZWplY3Rpb24gYmFja1xuICAgICAgICAgIC8vIGludG8gdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBzbyBpdCBjYW4gYmUgaGFuZGxlZCB0aGVyZS5cbiAgICAgICAgICByZXR1cm4gaW52b2tlKFwidGhyb3dcIiwgZXJyb3IsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlSW1wbChmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID1cbiAgICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKFxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLFxuICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnXG4gICAgICAgICkgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG4gIEFzeW5jSXRlcmF0b3IucHJvdG90eXBlW2FzeW5jSXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QsIFByb21pc2VJbXBsKSB7XG4gICAgaWYgKFByb21pc2VJbXBsID09PSB2b2lkIDApIFByb21pc2VJbXBsID0gUHJvbWlzZTtcblxuICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3IoXG4gICAgICB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSxcbiAgICAgIFByb21pc2VJbXBsXG4gICAgKTtcblxuICAgIHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbilcbiAgICAgID8gaXRlciAvLyBJZiBvdXRlckZuIGlzIGEgZ2VuZXJhdG9yLCByZXR1cm4gdGhlIGZ1bGwgaXRlcmF0b3IuXG4gICAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkge1xuICAgIHZhciBzdGF0ZSA9IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlRXhlY3V0aW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVDb21wbGV0ZWQpIHtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzpcbiAgICAgICAgLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWdlbmVyYXRvcnJlc3VtZVxuICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgIGNvbnRleHQuYXJnID0gYXJnO1xuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgICB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcbiAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7XG4gICAgICAgICAgICByZXR1cm4gZGVsZWdhdGVSZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgIC8vIFNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICAgICAgY29udGV4dC5zZW50ID0gY29udGV4dC5fc2VudCA9IGNvbnRleHQuYXJnO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydCkge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAgIHRocm93IGNvbnRleHQuYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LmFyZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nO1xuXG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgLy8gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBmcm9tIGlubmVyRm4sIHdlIGxlYXZlIHN0YXRlID09PVxuICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZVxuICAgICAgICAgICAgPyBHZW5TdGF0ZUNvbXBsZXRlZFxuICAgICAgICAgICAgOiBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuXG4gICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogcmVjb3JkLmFyZyxcbiAgICAgICAgICAgIGRvbmU6IGNvbnRleHQuZG9uZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXG4gICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZykgY2FsbCBhYm92ZS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gQ2FsbCBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF0oY29udGV4dC5hcmcpIGFuZCBoYW5kbGUgdGhlXG4gIC8vIHJlc3VsdCwgZWl0aGVyIGJ5IHJldHVybmluZyBhIHsgdmFsdWUsIGRvbmUgfSByZXN1bHQgZnJvbSB0aGVcbiAgLy8gZGVsZWdhdGUgaXRlcmF0b3IsIG9yIGJ5IG1vZGlmeWluZyBjb250ZXh0Lm1ldGhvZCBhbmQgY29udGV4dC5hcmcsXG4gIC8vIHNldHRpbmcgY29udGV4dC5kZWxlZ2F0ZSB0byBudWxsLCBhbmQgcmV0dXJuaW5nIHRoZSBDb250aW51ZVNlbnRpbmVsLlxuICBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIG1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXTtcbiAgICBpZiAobWV0aG9kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIEEgLnRocm93IG9yIC5yZXR1cm4gd2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIC50aHJvd1xuICAgICAgLy8gbWV0aG9kIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAvLyBOb3RlOiBbXCJyZXR1cm5cIl0gbXVzdCBiZSB1c2VkIGZvciBFUzMgcGFyc2luZyBjb21wYXRpYmlsaXR5LlxuICAgICAgICBpZiAoZGVsZWdhdGUuaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcblxuICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAvLyBJZiBtYXliZUludm9rZURlbGVnYXRlKGNvbnRleHQpIGNoYW5nZWQgY29udGV4dC5tZXRob2QgZnJvbVxuICAgICAgICAgICAgLy8gXCJyZXR1cm5cIiB0byBcInRocm93XCIsIGxldCB0aGF0IG92ZXJyaWRlIHRoZSBUeXBlRXJyb3IgYmVsb3cuXG4gICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgIFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZFwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTtcblxuICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuXG4gICAgaWYgKCEgaW5mbykge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKTtcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnlcbiAgICAgIC8vIHZhcmlhYmxlIHNwZWNpZmllZCBieSBkZWxlZ2F0ZS5yZXN1bHROYW1lIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTtcblxuICAgICAgLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcblxuICAgICAgLy8gSWYgY29udGV4dC5tZXRob2Qgd2FzIFwidGhyb3dcIiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlXG4gICAgICAvLyBleGNlcHRpb24sIGxldCB0aGUgb3V0ZXIgZ2VuZXJhdG9yIHByb2NlZWQgbm9ybWFsbHkuIElmXG4gICAgICAvLyBjb250ZXh0Lm1ldGhvZCB3YXMgXCJuZXh0XCIsIGZvcmdldCBjb250ZXh0LmFyZyBzaW5jZSBpdCBoYXMgYmVlblxuICAgICAgLy8gXCJjb25zdW1lZFwiIGJ5IHRoZSBkZWxlZ2F0ZSBpdGVyYXRvci4gSWYgY29udGV4dC5tZXRob2Qgd2FzXG4gICAgICAvLyBcInJldHVyblwiLCBhbGxvdyB0aGUgb3JpZ2luYWwgLnJldHVybiBjYWxsIHRvIGNvbnRpbnVlIGluIHRoZVxuICAgICAgLy8gb3V0ZXIgZ2VuZXJhdG9yLlxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kICE9PSBcInJldHVyblwiKSB7XG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlLXlpZWxkIHRoZSByZXN1bHQgcmV0dXJuZWQgYnkgdGhlIGRlbGVnYXRlIG1ldGhvZC5cbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIC8vIFRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBpcyBmaW5pc2hlZCwgc28gZm9yZ2V0IGl0IGFuZCBjb250aW51ZSB3aXRoXG4gICAgLy8gdGhlIG91dGVyIGdlbmVyYXRvci5cbiAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgfVxuXG4gIC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTtcblxuICBHcFt0b1N0cmluZ1RhZ1N5bWJvbF0gPSBcIkdlbmVyYXRvclwiO1xuXG4gIC8vIEEgR2VuZXJhdG9yIHNob3VsZCBhbHdheXMgcmV0dXJuIGl0c2VsZiBhcyB0aGUgaXRlcmF0b3Igb2JqZWN0IHdoZW4gdGhlXG4gIC8vIEBAaXRlcmF0b3IgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIGl0LiBTb21lIGJyb3dzZXJzJyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlXG4gIC8vIGl0ZXJhdG9yIHByb3RvdHlwZSBjaGFpbiBpbmNvcnJlY3RseSBpbXBsZW1lbnQgdGhpcywgY2F1c2luZyB0aGUgR2VuZXJhdG9yXG4gIC8vIG9iamVjdCB0byBub3QgYmUgcmV0dXJuZWQgZnJvbSB0aGlzIGNhbGwuIFRoaXMgZW5zdXJlcyB0aGF0IGRvZXNuJ3QgaGFwcGVuLlxuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2lzc3Vlcy8yNzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgR3BbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgR3AudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIGV4cG9ydHMua2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIGtleXMucmV2ZXJzZSgpO1xuXG4gICAgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcbiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcbiAgfVxuICBleHBvcnRzLnZhbHVlcyA9IHZhbHVlcztcblxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJlxuICAgICAgICAgICAgICBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJlxuICAgICAgICAgICAgICAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG5cbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG5cbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG5cbiAgICAgICAgaWYgKGNhdWdodCkge1xuICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICEhIGNhdWdodDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWJydXB0OiBmdW5jdGlvbih0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJlxuICAgICAgICAgICAgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmluYWxseUVudHJ5ICYmXG4gICAgICAgICAgKHR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgICB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmXG4gICAgICAgICAgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiZcbiAgICAgICAgICBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYVxuICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgIGZpbmFsbHlFbnRyeSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlO1xuICAgICAgcmVjb3JkLmFyZyA9IGFyZztcblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYztcbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgfSxcblxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgIHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgdGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbihmaW5hbGx5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcbiAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uKHRyeUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykge1xuICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjb250ZXh0LmNhdGNoIG1ldGhvZCBtdXN0IG9ubHkgYmUgY2FsbGVkIHdpdGggYSBsb2NhdGlvblxuICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG5cbiAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbihpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXG4gICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsXG4gICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9O1xuXG4gIC8vIFJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGVcbiAgLy8gb3Igbm90LCByZXR1cm4gdGhlIHJ1bnRpbWUgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIGRlY2xhcmUgdGhlIHZhcmlhYmxlXG4gIC8vIHJlZ2VuZXJhdG9yUnVudGltZSBpbiB0aGUgb3V0ZXIgc2NvcGUsIHdoaWNoIGFsbG93cyB0aGlzIG1vZHVsZSB0byBiZVxuICAvLyBpbmplY3RlZCBlYXNpbHkgYnkgYGJpbi9yZWdlbmVyYXRvciAtLWluY2x1ZGUtcnVudGltZSBzY3JpcHQuanNgLlxuICByZXR1cm4gZXhwb3J0cztcblxufShcbiAgLy8gSWYgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlLCB1c2UgbW9kdWxlLmV4cG9ydHNcbiAgLy8gYXMgdGhlIHJlZ2VuZXJhdG9yUnVudGltZSBuYW1lc3BhY2UuIE90aGVyd2lzZSBjcmVhdGUgYSBuZXcgZW1wdHlcbiAgLy8gb2JqZWN0LiBFaXRoZXIgd2F5LCB0aGUgcmVzdWx0aW5nIG9iamVjdCB3aWxsIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZVxuICAvLyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIHZhcmlhYmxlIGF0IHRoZSB0b3Agb2YgdGhpcyBmaWxlLlxuICB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiID8gbW9kdWxlLmV4cG9ydHMgOiB7fVxuKSk7XG5cbnRyeSB7XG4gIHJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG59IGNhdGNoIChhY2NpZGVudGFsU3RyaWN0TW9kZSkge1xuICAvLyBUaGlzIG1vZHVsZSBzaG91bGQgbm90IGJlIHJ1bm5pbmcgaW4gc3RyaWN0IG1vZGUsIHNvIHRoZSBhYm92ZVxuICAvLyBhc3NpZ25tZW50IHNob3VsZCBhbHdheXMgd29yayB1bmxlc3Mgc29tZXRoaW5nIGlzIG1pc2NvbmZpZ3VyZWQuIEp1c3RcbiAgLy8gaW4gY2FzZSBydW50aW1lLmpzIGFjY2lkZW50YWxseSBydW5zIGluIHN0cmljdCBtb2RlLCB3ZSBjYW4gZXNjYXBlXG4gIC8vIHN0cmljdCBtb2RlIHVzaW5nIGEgZ2xvYmFsIEZ1bmN0aW9uIGNhbGwuIFRoaXMgY291bGQgY29uY2VpdmFibHkgZmFpbFxuICAvLyBpZiBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGZvcmJpZHMgdXNpbmcgRnVuY3Rpb24sIGJ1dCBpbiB0aGF0IGNhc2VcbiAgLy8gdGhlIHByb3BlciBzb2x1dGlvbiBpcyB0byBmaXggdGhlIGFjY2lkZW50YWwgc3RyaWN0IG1vZGUgcHJvYmxlbS4gSWZcbiAgLy8geW91J3ZlIG1pc2NvbmZpZ3VyZWQgeW91ciBidW5kbGVyIHRvIGZvcmNlIHN0cmljdCBtb2RlIGFuZCBhcHBsaWVkIGFcbiAgLy8gQ1NQIHRvIGZvcmJpZCBGdW5jdGlvbiwgYW5kIHlvdSdyZSBub3Qgd2lsbGluZyB0byBmaXggZWl0aGVyIG9mIHRob3NlXG4gIC8vIHByb2JsZW1zLCBwbGVhc2UgZGV0YWlsIHlvdXIgdW5pcXVlIHByZWRpY2FtZW50IGluIGEgR2l0SHViIGlzc3VlLlxuICBGdW5jdGlvbihcInJcIiwgXCJyZWdlbmVyYXRvclJ1bnRpbWUgPSByXCIpKHJ1bnRpbWUpO1xufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18yMTRfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzU0NV9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fOTQ5X187IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBtb2R1bGUgZXhwb3J0cyBtdXN0IGJlIHJldHVybmVkIGZyb20gcnVudGltZSBzbyBlbnRyeSBpbmxpbmluZyBpcyBkaXNhYmxlZFxuLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG5yZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygzNTIpO1xuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gbW9kdWxlWydkZWZhdWx0J10gOlxuXHRcdCgpID0+IG1vZHVsZTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIl0sInNvdXJjZVJvb3QiOiIifQ==