!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("source-map-support"),require("node-fetch"),require("cloudscraper")):"function"==typeof define&&define.amd?define(["source-map-support","node-fetch","cloudscraper"],t):"object"==typeof exports?exports["wstrade-api"]=t(require("source-map-support"),require("node-fetch"),require("cloudscraper")):e["wstrade-api"]=t(e._,e._,e._)}(global,(function(e,t,r){return(()=>{var n={228:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},858:e=>{e.exports=function(e){if(Array.isArray(e))return e}},646:(e,t,r)=>{var n=r(228);e.exports=function(e){if(Array.isArray(e))return n(e)}},926:e=>{function t(e,t,r,n,a,i,s){try{var o=e[i](s),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,a)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(a,i){var s=e.apply(r,n);function o(e){t(s,a,i,o,u,"next",e)}function u(e){t(s,a,i,o,u,"throw",e)}o(void 0)}))}}},575:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},913:e=>{function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}},713:e=>{e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},860:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},884:e=>{e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(a)throw i}}return r}}},521:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},206:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},38:(e,t,r)=>{var n=r(858),a=r(884),i=r(379),s=r(521);e.exports=function(e,t){return n(e)||a(e,t)||i(e,t)||s()}},319:(e,t,r)=>{var n=r(646),a=r(860),i=r(379),s=r(206);e.exports=function(e){return n(e)||a(e)||i(e)||s()}},379:(e,t,r)=>{var n=r(228);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}},757:(e,t,r)=>{e.exports=r(666)},391:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(319),a=r.n(n),i=r(757),s=r.n(i),o=r(926),u=r.n(o),c=r(575),h=r.n(c),l=r(913),p=r.n(l),f=r(726),d=99,y=["sell","deposit","withdrawal","dividend","institutional_transfer","internal_transfer","refund","referral_bonus","affiliate","buy"];const v=function(){function e(t){h()(this,e),this.worker=t}var t,r,n,i,o,c,l,v,m;return p()(e,[{key:"all",value:(m=u()(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.worker.handleRequest(f.Z.ACCOUNT_IDS,{});case 2:return t=e.sent,e.abrupt("return",{tfsa:t.find((function(e){return e.startsWith("tfsa")})),rrsp:t.find((function(e){return e.startsWith("rrsp")})),crypto:t.find((function(e){return e.startsWith("non-registered-crypto")})),personal:t.find((function(e){return e.startsWith("non-registered")&&!e.startsWith("non-registered-crypto")}))});case 4:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"data",value:(v=u()(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.worker.handleRequest(f.Z.LIST_ACCOUNT,{}));case 1:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"me",value:(l=u()(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.worker.handleRequest(f.Z.ME,{}));case 1:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"person",value:(c=u()(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.worker.handleRequest(f.Z.PERSON,{}));case 1:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"history",value:(o=u()(s().mark((function e(t,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.worker.handleRequest(f.Z.HISTORY_ACCOUNT,{interval:t,accountId:r}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"activities",value:(i=u()(s().mark((function e(){var t,r,n,i,o,u,c,h,l,p,v=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=(o=v.length>0&&void 0!==v[0]?v[0]:{})&&o.limit&&o.limit>d)){e.next=3;break}throw new Error("filters.limit can not exceed 99! Leave filters.limit undefined if you want to retrieve all.");case 3:if(null==o||!o.accounts||Array.isArray(o.accounts)){e.next=5;break}throw new Error("filters.accounts must be an array!");case 5:if(null==o||!o.type||Array.isArray(o.type)){e.next=7;break}throw new Error("filters.type must be an array!");case 7:return u=[],e.next=10,this.worker.handleRequest(f.Z.ACTIVITIES,{limit:null!==(t=null==o?void 0:o.limit)&&void 0!==t?t:d,accountIds:null!==(r=null==o||null===(n=o.accounts)||void 0===n?void 0:n.join())&&void 0!==r?r:"",bookmark:"",type:null!==(i=null==o?void 0:o.type)&&void 0!==i?i:y});case 10:if(c=e.sent,u.push.apply(u,a()(c.results)),null!=o&&o.limit){e.next=22;break}case 13:if(u.length%d!=0){e.next=22;break}return e.next=16,this.worker.handleRequest(f.Z.ACTIVITIES,{limit:d,accountIds:null!==(h=null==o||null===(l=o.accounts)||void 0===l?void 0:l.join())&&void 0!==h?h:"",bookmark:c.bookmark,type:null!==(p=null==o?void 0:o.type)&&void 0!==p?p:y});case 16:if(0!==(c=e.sent).results.length){e.next=19;break}return e.abrupt("break",22);case 19:u.push.apply(u,a()(c.results)),e.next=13;break;case 22:return e.abrupt("return",u);case 23:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getBankAccounts",value:(n=u()(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.worker.handleRequest(f.Z.BANK_ACCOUNTS,{}));case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"deposits",value:(r=u()(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.worker.handleRequest(f.Z.DEPOSITS,{}));case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"positions",value:(t=u()(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.worker.handleRequest(f.Z.POSITIONS,{accountId:t}));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}()},726:(e,t,r)=>{"use strict";r.d(t,{Z:()=>k});var n,a,i,s,o,u,c,h,l,p,f,d=r(757),y=r.n(d),v=r(926),m=r.n(v),w={onFailure:(a=m()(y().mark((function e(t){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{status:t.statusCode,reason:t.statusMessage,body:t.body});case 1:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)}),onSuccess:(n=m()(y().mark((function e(t){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.body);case 1:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})};const k={LOGIN:{method:"POST",url:"https://trade-service.wealthsimple.com/auth/login",authenticated:!1,onSuccess:(f=m()(y().mark((function e(t){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{tokens:{access:t.headers["x-access-token"],refresh:t.headers["x-refresh-token"],expires:parseInt(t.headers["x-access-token-expires"],10)},accountInfo:t.body});case 1:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)}),onFailure:w.onFailure},REFRESH:{method:"POST",url:"https://trade-service.wealthsimple.com/auth/refresh",authenticated:!1,onSuccess:(p=m()(y().mark((function e(t){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{tokens:{access:t.headers["x-access-token"],refresh:t.headers["x-refresh-token"],expires:parseInt(t.headers["x-access-token-expires"],10)}});case 1:case"end":return e.stop()}}),e)}))),function(e){return p.apply(this,arguments)}),onFailure:w.onFailure},ACCOUNT_IDS:{method:"GET",url:"https://trade-service.wealthsimple.com/account/list",authenticated:!0,onSuccess:(l=m()(y().mark((function e(t){var r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.body,e.abrupt("return",r.results.map((function(e){return e.id})));case 2:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)}),onFailure:w.onFailure},LIST_ACCOUNT:{method:"GET",url:"https://trade-service.wealthsimple.com/account/list",authenticated:!0,onSuccess:(h=m()(y().mark((function e(t){var r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.body,e.abrupt("return",r.results);case 2:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)}),onFailure:w.onFailure},ME:{method:"GET",url:"https://trade-service.wealthsimple.com/me",authenticated:!0,onSuccess:w.onSuccess,onFailure:w.onFailure},PERSON:{method:"GET",url:"https://trade-service.wealthsimple.com/person",authenticated:!0,onSuccess:w.onSuccess,onFailure:w.onFailure},HISTORY_ACCOUNT:{method:"GET",url:"https://trade-service.wealthsimple.com/account/history/{0}?account_id={1}",authenticated:!0,parameters:{0:"interval",1:"accountId"},onSuccess:w.onSuccess,onFailure:w.onFailure},ACTIVITIES:{method:"GET",url:"https://trade-service.wealthsimple.com/account/activities?limit={0}&account_ids={1}&[2]&bookmark={3}",authenticated:!0,parameters:{0:"limit",1:"accountIds",2:"type",3:"bookmark"},onSuccess:w.onSuccess,onFailure:w.onFailure},DEPOSITS:{method:"GET",url:"https://trade-service.wealthsimple.com/deposits",authenticated:!0,onSuccess:(c=m()(y().mark((function e(t){var r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.body,e.abrupt("return",r.results);case 2:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)}),onFailure:w.onFailure},BANK_ACCOUNTS:{method:"GET",url:"https://trade-service.wealthsimple.com/bank-accounts",authenticated:!0,onSuccess:(u=m()(y().mark((function e(t){var r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.body,e.abrupt("return",r.results);case 2:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)}),onFailure:w.onFailure},EXCHANGE_RATES:{method:"GET",url:"https://trade-service.wealthsimple.com/forex",authenticated:!0,onSuccess:w.onSuccess,onFailure:w.onFailure},SECURITY:{method:"GET",url:"https://trade-service.wealthsimple.com/securities?query={0}",authenticated:!0,parameters:{0:"ticker"},onSuccess:(o=m()(y().mark((function e(t){var r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(r=t.body).results.length){e.next=3;break}throw new Error("Security does not exist");case 3:return e.abrupt("return",r.results);case 4:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)}),onFailure:w.onFailure},EXTENSIVE_SECURITY_DETAILS:{method:"GET",url:"https://trade-service.wealthsimple.com/securities/{0}",authenticated:!0,parameters:{0:"id"},onSuccess:w.onSuccess,onFailure:w.onFailure},QUOTES_HISTORY:{method:"GET",url:"https://trade-service.wealthsimple.com/securities/{0}/historical_quotes/{1}?mic=XNAS",authenticated:!0,parameters:{0:"id",1:"interval"},onSuccess:w.onSuccess,onFailure:w.onFailure},POSITIONS:{method:"GET",url:"https://trade-service.wealthsimple.com/account/positions?account_id={0}",authenticated:!0,parameters:{0:"accountId"},onSuccess:(s=m()(y().mark((function e(t){var r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.body,e.abrupt("return",r.results);case 2:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)}),onFailure:w.onFailure},ORDERS_BY_PAGE:{method:"GET",url:"https://trade-service.wealthsimple.com/orders?offset={0}&account_id={1}",authenticated:!0,parameters:{0:"offset",1:"accountId"},onSuccess:(i=m()(y().mark((function e(t){var r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.body,e.abrupt("return",{total:r.total,orders:r.results});case 2:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)}),onFailure:w.onFailure},CANCEL_ORDER:{method:"DELETE",url:"https://trade-service.wealthsimple.com/orders/{0}",authenticated:!0,parameters:{0:"orderId"},onSuccess:w.onSuccess,onFailure:w.onFailure},PLACE_ORDER:{method:"POST",url:"https://trade-service.wealthsimple.com/orders",authenticated:!0,onSuccess:w.onSuccess,onFailure:w.onFailure}}},464:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(757),a=r.n(n),i=r(926),s=r.n(i),o=r(575),u=r.n(o),c=r(913),h=r.n(c),l=r(726);const p=function(){function e(t,r){u()(this,e),this.authTokens=t,this.worker=r,this.events={otp:null}}var t,r;return h()(e,[{key:"on",value:function(e,t){if(!(e in this.events))throw new Error("Unsupported authentication event '".concat(e,"'!"));this.events[e]=t}},{key:"use",value:function(e){this.authTokens.store(e)}},{key:"tokens",value:function(){return{access:this.authTokens.access,refresh:this.authTokens.refresh,expires:this.authTokens.expires}}},{key:"login",value:(r=s()(a().mark((function e(t,r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,"function"!=typeof this.events.otp){e.next=4;break}return e.next=4,this.worker.handleRequest(l.Z.LOGIN,{email:t,password:r}).catch((function(){}));case 4:if(e.prev=4,e.t0=this.worker,e.t1=l.Z.LOGIN,e.t2=t,e.t3=r,"function"!=typeof this.events.otp){e.next=15;break}return e.next=12,this.events.otp();case 12:e.t4=e.sent,e.next=16;break;case 15:e.t4=this.events.otp;case 16:return e.t5=e.t4,e.t6={email:e.t2,password:e.t3,otp:e.t5},e.next=20,e.t0.handleRequest.call(e.t0,e.t1,e.t6);case 20:n=e.sent,e.next=28;break;case 23:if(e.prev=23,e.t7=e.catch(4),this.events.otp){e.next=27;break}throw new Error("OTP not provided!");case 27:throw e.t7;case 28:this.use(n.tokens);case 29:case"end":return e.stop()}}),e,this,[[4,23]])}))),function(e,t){return r.apply(this,arguments)})},{key:"refresh",value:(t=s()(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.worker.refreshAuthentication();case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()},500:(e,t,r)=>{"use strict";r.d(t,{e:()=>i,Z:()=>s});var n=["implicit_token_refresh","securities_cache"],a=["securities_cache"],i=function(e){return!a.includes(e)};function s(e){if(!function(e){return null!=e&&e.startsWith("no_")?n.includes(e.substring("no_".length)):n.includes(e)}(e))throw new Error("'".concat(e,"' is not supported!"));if(null!=e&&e.startsWith("no_")){var t=e.substring(e.indexOf("_")+1);i(t)&&a.push(t)}else i(e)||a.splice(a.indexOf(e),1)}},657:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(38),a=r.n(n),i=r(575),s=r.n(i),o=r(913),u=r.n(o),c=["NASDAQ","NYSE","TSX","TSX-V","AEQUITAS NEO EXCHANGE","CC"];const h=function(){function e(t){var r;if(s()(this,e),this.symbol=null,this.exchange=null,this.id=null,this.crypto=!1,"string"==typeof t){if(""===t)throw new Error("Empty ticker");var n=t.split(":"),i=a()(n,2);this.symbol=i[0],this.exchange=i[1]}else{if(!t.symbol&&!t.id)throw new Error("Invalid ticker '".concat(t,"'"));this.symbol=t.symbol||null,this.exchange=t.exchange||null,this.id=t.id||null}if("NEO"===this.exchange&&(this.exchange="AEQUITAS NEO EXCHANGE"),this.exchange&&!c.includes(this.exchange))throw new Error("Invalid exchange '".concat(this.exchange,"'!"));("CC"===this.exchange||null!==(r=this.id)&&void 0!==r&&r.startsWith("sec-z"))&&(this.crypto=!0)}return u()(e,[{key:"format",value:function(){return this.id?this.id:"AEQUITAS NEO EXCHANGE"===this.exchange?"".concat(this.symbol,":NEO"):"".concat(this.symbol).concat(this.exchange?":".concat(this.exchange):"")}},{key:"weakEquals",value:function(e){return!(!this.id||this.id!==e.id)||!(!this.symbol||this.symbol!==e.symbol||this.crypto!==e.crypto)}}]),e}()},628:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(575),a=r.n(n),i=r(913),s=r.n(i);const o=function(){function e(){a()(this,e),this.access=null,this.refresh=null,this.expires=null}return s()(e,[{key:"store",value:function(e){this.access=e.access,this.refresh=e.refresh,this.expires=e.expires}},{key:"expired",value:function(){return this.expires&&parseInt(Date.now()/1e3,10)>=this.expires}}]),e}()},752:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var n=r(38),a=r.n(n),i=r(757),s=r.n(i),o=r(926),u=r.n(o),c=r(575),h=r.n(c),l=r(913),p=r.n(l),f=r(726),d=r(657),y=r(500),v=new(function(){function e(t){h()(this,e),this.cache=new Map,this.size=t}return p()(e,[{key:"insert",value:function(e,t){this.cache.size>=this.size&&this.cache.delete(this.cache.keys().next().value),this.cache.set(e,t)}},{key:"get",value:function(e){return this.cache.get(e)}}]),e}())(10);const m=function(e){var t=v.get(new d.Z(e).format());return void 0===t?null:t},w=function(){function e(t){h()(this,e),this.worker=t}var t,r;return p()(e,[{key:"exchangeRates",value:(r=u()(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.worker.handleRequest(f.Z.EXCHANGE_RATES,{}));case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getSecurity",value:(t=u()(s().mark((function e(t,r){var n,i,o,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,i=new d.Z(t),r||!(0,y.e)("securities_cache")){e.next=6;break}if(!(n=m(i))){e.next=6;break}return e.abrupt("return",n);case 6:if(!i.id){e.next=12;break}return e.next=9,this.worker.handleRequest(f.Z.EXTENSIVE_SECURITY_DETAILS,{id:i.id});case 9:n=e.sent,e.next=28;break;case 12:return e.next=14,this.worker.handleRequest(f.Z.SECURITY,{ticker:i.symbol});case 14:if(n=(n=e.sent).filter((function(e){return e.stock.symbol===i.symbol})),i.crypto?n=n.filter((function(e){return"cryptocurrency"===e.security_type})):i.exchange&&(n=n.filter((function(e){return e.stock.primary_exchange===i.exchange}))),!(n.length>1)){e.next=19;break}throw new Error("Multiple securities matched query.");case 19:if(0!==n.length){e.next=21;break}throw new Error("No securities matched query.");case 21:if(o=n,u=a()(o,1),n=u[0],!r){e.next=28;break}return e.next=27,this.worker.handleRequest(f.Z.EXTENSIVE_SECURITY_DETAILS,{id:n.id});case 27:n=e.sent;case 28:return(0,y.e)("securities_cache")&&null===m(i)&&(s=i,c=n,v.insert(new d.Z(s).format(),c)),e.abrupt("return",n);case 30:case"end":return e.stop()}var s,c}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),e}()},568:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(319),a=r.n(n),i=new(r(545).Headers);const s={add:function(e,t){return i.append(e,t)},remove:function(e){return i.delete(e)},clear:function(){return a()(i).forEach((function(e){return i.delete(e[0])}))},values:function(){return a()(i)}}},352:(e,t,r)=>{r(949).install();var n=r(464).Z,a=r(568).Z,i=r(391).Z,s=r(764).Z,o=r(752).Z,u=r(889).Z,c=r(500).Z,h=r(628).Z,l=r(714).Z,p=function(){var e=new h,t=new l(e),r=new o(t);return{auth:new n(e,t),headers:a,accounts:new i(t),orders:new s(t,r),quotes:new u(t,r),data:r,config:c}},f=new p;f.Session=function(){return new p},e.exports=f},714:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});var n=r(757),a=r.n(n),i=r(38),s=r.n(i),o=r(926),u=r.n(o),c=r(575),h=r.n(c),l=r(913),p=r.n(l),f=r(713),d=r.n(f),y=r(214),v=r.n(y),m=r(568),w=r(726),k=r(500);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var b=200,E=201;function g(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t),n=e.url;if(e.parameters)for(var a=0;a<Object.keys(e.parameters).length;a++){var i=e.parameters[a];if(null===r[i]||void 0===r[i])throw new Error("URL parameter '".concat(i,"' missing!"));if(n.indexOf("{".concat(a,"}"))>=0)n=n.replace("{".concat(a,"}"),r[e.parameters[a]]);else{if(!(n.indexOf("[".concat(a,"]"))>=0))throw new Error("Malformed URL! This is an internal error: raise an issue!");!function(){var t=e.parameters[a],i=r[t].map((function(e){return"".concat(t,"=").concat(e)})).join("&");n=n.replace("[".concat(a,"]"),i)}()}delete r[e.parameters[a]]}return["GET","HEAD"].includes(e.method)?{url:n,payload:void 0}:{url:n,payload:JSON.stringify(r)}}const _=function(){function e(t){h()(this,e),this.tokens=t}var t,r,n,i;return p()(e,[{key:"talk",value:(i=u()(a().mark((function e(t,r){var n,i,o,u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={"Content-type":"application/json"},!t.authenticated){e.next=8;break}if(this.tokens.access){e.next=4;break}throw new Error("Authentication required for '".concat(t.url,"'"));case 4:if(!(0,k.e)("implicit_token_refresh")){e.next=7;break}return e.next=7,this.implicitTokenRefresh();case 7:n.Authorization=this.tokens.access;case 8:return m.Z.values().forEach((function(e){var t=s()(e,2),r=t[0],a=t[1];n[r]=a})),i=g(t,r),o=i.url,u=i.payload,c=null,e.next=13,v()({url:o,body:u,method:t.method,headers:n,callback:function(e,t){c=t}}).catch((function(){}));case 13:try{c.body=JSON.parse(c.body)}catch(e){}return e.abrupt("return",c);case 15:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"handleRequest",value:(n=u()(a().mark((function e(t,r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.talk(t,r);case 2:if(n=e.sent,![b,E].includes(n.statusCode)){e.next=5;break}return e.abrupt("return",t.onSuccess(n));case 5:return e.t0=Promise,e.next=8,t.onFailure(n);case 8:return e.t1=e.sent,e.abrupt("return",e.t0.reject.call(e.t0,e.t1));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"refreshAuthentication",value:(r=u()(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.handleRequest(w.Z.REFRESH,{refresh_token:this.tokens.refresh});case 2:t=e.sent,this.tokens.store(t.tokens);case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"implicitTokenRefresh",value:(t=u()(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.tokens.expired()){e.next=13;break}if(!this.tokens.refresh){e.next=12;break}return e.prev=2,e.next=5,this.refreshAuthentication();case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),new Error("Unable to refresh expired token: ".concat(e.t0));case 10:e.next=13;break;case 12:throw new Error("Access token expired");case 13:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(){return t.apply(this,arguments)})}]),e}()},764:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(319),a=r.n(n),i=r(757),s=r.n(i),o=r(926),u=r.n(o),c=r(575),h=r.n(c),l=r(913),p=r.n(l),f=r(726),d=r(657),y=function(e){return["TSX","TSX-V"].includes(e)};function v(e,t,r){var n=e.orders.filter((function(e){if(t){var n=new d.Z({symbol:e.symbol,id:e.security_id});if(!new d.Z(t).weakEquals(n))return!1}return e.status===r}));return{orders:n,total:n.length}}const m=function(){function e(t,r){h()(this,e),this.worker=t,this.data=r}var t,r,n,i,o,c,l,m,w,k,x,b,E;return p()(e,[{key:"page",value:(E=u()(s().mark((function e(t,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.worker.handleRequest(f.Z.ORDERS_BY_PAGE,{offset:20*(r-1),accountId:t}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return E.apply(this,arguments)})},{key:"all",value:(b=u()(s().mark((function e(t){var r,n,i,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.page(t,1);case 2:if(r=e.sent,!((n=Math.ceil(r.total/20))>1)){e.next=12;break}for(i=[],o=2;o<=n;o++)i.push(this.page(t,o).then((function(e){return e.orders})));return e.next=9,Promise.all(i);case 9:e.sent.forEach((function(e){var t;return(t=r.orders).push.apply(t,a()(e))})),r.total=r.orders.length;case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"pending",value:(x=u()(s().mark((function e(t,r){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.all(t);case 2:return n=e.sent,e.abrupt("return",v(n,r,"submitted"));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return x.apply(this,arguments)})},{key:"filled",value:(k=u()(s().mark((function e(t,r){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.all(t);case 2:return n=e.sent,e.abrupt("return",v(n,r,"posted"));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return k.apply(this,arguments)})},{key:"cancelled",value:(w=u()(s().mark((function e(t,r){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.all(t);case 2:return n=e.sent,e.abrupt("return",v(n,r,"cancelled"));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return w.apply(this,arguments)})},{key:"cancel",value:(m=u()(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,this.worker.handleRequest(f.Z.CANCEL_ORDER,{orderId:t});case 3:return e.t1=e.sent,e.abrupt("return",{order:e.t0,response:e.t1});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"cancelPending",value:(l=u()(s().mark((function e(t){var r,n=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pending(t);case 2:return r=e.sent,e.abrupt("return",Promise.all(r.orders.map(function(){var e=u()(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.cancel(t.order_id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"marketBuy",value:(c=u()(s().mark((function e(t,r,n){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data.getSecurity(r,!0);case 2:return a=e.sent,e.abrupt("return",this.worker.handleRequest(f.Z.PLACE_ORDER,{security_id:a.id,limit_price:new d.Z(r).crypto?void 0:a.quote.amount,quantity:n,order_type:"buy_quantity",order_sub_type:"market",time_in_force:"day",account_id:t}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return c.apply(this,arguments)})},{key:"limitBuy",value:(o=u()(s().mark((function e(t,r,n,a){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.worker,e.t1=f.Z.PLACE_ORDER,e.next=4,this.data.getSecurity(r);case 4:return e.t2=e.sent.id,e.t3=n,e.t4=a,e.t5=t,e.t6={security_id:e.t2,limit_price:e.t3,quantity:e.t4,order_type:"buy_quantity",order_sub_type:"limit",time_in_force:"day",account_id:e.t5},e.abrupt("return",e.t0.handleRequest.call(e.t0,e.t1,e.t6));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return o.apply(this,arguments)})},{key:"stopLimitBuy",value:(i=u()(s().mark((function e(t,r,n,a,i){var o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data.getSecurity(r);case 2:if(o=e.sent,!y(o.stock.primary_exchange)||n===a){e.next=5;break}throw new Error("TSX/TSX-V securities must have an equivalent stop and limit price.");case 5:return e.abrupt("return",this.worker.handleRequest(f.Z.PLACE_ORDER,{security_id:o.id,stop_price:n,limit_price:a,quantity:i,order_type:"buy_quantity",order_sub_type:"stop_limit",time_in_force:"day",account_id:t}));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,a){return i.apply(this,arguments)})},{key:"marketSell",value:(n=u()(s().mark((function e(t,r,n){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data.getSecurity(r,!0);case 2:return a=e.sent,e.abrupt("return",this.worker.handleRequest(f.Z.PLACE_ORDER,{security_id:a.id,market_value:new d.Z(r).crypto?void 0:a.quote.amount,quantity:n,order_type:"sell_quantity",order_sub_type:"market",time_in_force:"day",account_id:t}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"limitSell",value:(r=u()(s().mark((function e(t,r,n,a){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.worker,e.t1=f.Z.PLACE_ORDER,e.next=4,this.data.getSecurity(r);case 4:return e.t2=e.sent.id,e.t3=n,e.t4=a,e.t5=t,e.t6={security_id:e.t2,limit_price:e.t3,quantity:e.t4,order_type:"sell_quantity",order_sub_type:"limit",time_in_force:"day",account_id:e.t5},e.abrupt("return",e.t0.handleRequest.call(e.t0,e.t1,e.t6));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t,n,a){return r.apply(this,arguments)})},{key:"stopLimitSell",value:(t=u()(s().mark((function e(t,r,n,a,i){var o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data.getSecurity(r);case 2:if(o=e.sent,!y(o.stock.primary_exchange)||n===a){e.next=5;break}throw new Error("TSX/TSX-V securities must have an equivalent stop and limit price.");case 5:return e.abrupt("return",this.worker.handleRequest(f.Z.PLACE_ORDER,{security_id:o.id,stop_price:n,limit_price:a,quantity:i,order_type:"sell_quantity",order_sub_type:"stop_limit",time_in_force:"day",account_id:t}));case 6:case"end":return e.stop()}}),e,this)}))),function(e,r,n,a,i){return t.apply(this,arguments)})}]),e}()},889:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(757),a=r.n(n),i=r(926),s=r.n(i),o=r(575),u=r.n(o),c=r(913),h=r.n(c);const l=function(e){return{quote:function(t){return s()(a().mark((function r(){var n;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getSecurity(t,!0);case 2:return n=r.sent,r.abrupt("return",n.quote.amount);case 4:case"end":return r.stop()}}),r)})))()}}};var p=r(657),f=r(726);const d=function(){function e(t,r){u()(this,e),this.defaultProvider=new l(r),this.providers={},this.worker=t,this.data=r}var t,r;return h()(e,[{key:"use",value:function(e,t){if("function"!=typeof t.quote)throw new Error("Invalid quote provider for ".concat(e,"!"));this.providers[e]=t}},{key:"get",value:(r=s()(a().mark((function e(t){var r,n,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,!(n=new p.Z(t)).exchange){e.next=6;break}r=n.exchange,e.next=15;break;case 6:if(!n.crypto||!n.id){e.next=10;break}r="CC",e.next=15;break;case 10:if(!(Object.keys(this.providers).length>0)){e.next=15;break}return e.next=13,this.data.getSecurity(n,!1);case 13:i=e.sent,r=i.stock.primary_exchange;case 15:if(!(r in this.providers)){e.next=17;break}return e.abrupt("return",this.providers[r].quote(n));case 17:return e.abrupt("return",this.defaultProvider.quote(n));case 18:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"history",value:(t=s()(a().mark((function e(t,r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=new p.Z(t)).id){e.next=5;break}return e.next=4,this.data.getSecurity(n);case 4:n.id=e.sent.id;case 5:return e.abrupt("return",this.worker.handleRequest(f.Z.QUOTES_HISTORY,{id:n.id,interval:r}));case 6:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),e}()},666:e=>{var t=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",o=a.toStringTag||"@@toStringTag";function u(e,t,r,n){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),s=new T(n||[]);return i._invoke=function(e,t,r){var n=h;return function(a,i){if(n===p)throw new Error("Generator is already running");if(n===f){if("throw"===a)throw i;return A()}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var o=_(s,r);if(o){if(o===d)continue;return o}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=c(e,t,r);if("normal"===u.type){if(n=r.done?f:l,u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=f,r.method="throw",r.arg=u.arg)}}}(e,r,s),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var h="suspendedStart",l="suspendedYield",p="executing",f="completed",d={};function y(){}function v(){}function m(){}var w={};w[i]=function(){return this};var k=Object.getPrototypeOf,x=k&&k(k(R([])));x&&x!==r&&n.call(x,i)&&(w=x);var b=m.prototype=y.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function g(e,t){function r(a,i,s,o){var u=c(e[a],e,i);if("throw"!==u.type){var h=u.arg,l=h.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,s,o)}),(function(e){r("throw",e,s,o)})):t.resolve(l).then((function(e){h.value=e,s(h)}),(function(e){return r("throw",e,s,o)}))}o(u.arg)}var a;this._invoke=function(e,n){function i(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(i,i):i()}}function _(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method))return d;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var a=c(n,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,d;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function R(e){if(e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,s=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return s.next=s}}return{next:A}}function A(){return{value:t,done:!0}}return v.prototype=b.constructor=m,m.constructor=v,m[o]=v.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,o in e||(e[o]="GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},E(g.prototype),g.prototype[s]=function(){return this},e.AsyncIterator=g,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var s=new g(u(t,r,n,a),i);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(b),b[o]="Generator",b[i]=function(){return this},b.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=R,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return o.type="throw",o.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],o=s.completion;if("root"===s.tryLoc)return a("end");if(s.tryLoc<=this.prev){var u=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return a(s.catchLoc,!0);if(this.prev<s.finallyLoc)return a(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return a(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return a(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},214:e=>{"use strict";e.exports=r},545:e=>{"use strict";e.exports=t},949:t=>{"use strict";t.exports=e}},a={};function i(e){if(a[e])return a[e].exports;var t=a[e]={exports:{}};return n[e](t,t.exports,i),t.exports}return i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i(352)})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93c3RyYWRlLWFwaS93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hcnJheUxpa2VUb0FycmF5LmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXJyYXlXaXRoSG9sZXMuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hcnJheVdpdGhvdXRIb2xlcy5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL25vbkl0ZXJhYmxlUmVzdC5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL25vbkl0ZXJhYmxlU3ByZWFkLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheS5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5LmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvYWNjb3VudHMuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvYXBpL2VuZHBvaW50cy5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9hdXRoLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9jb3JlL3RpY2tlci5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9oZWxwZXJzL3RpbWUuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvY29yZS90b2tlbnMuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvb3B0aW9uYWwvc2VjdXJpdGllcy1jYWNoZS5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9jb3JlL2NhY2hlLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL2RhdGEuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvaGVhZGVycy5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9uZXR3b3JrL2h0dHBzLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL29yZGVycy5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9xdW90ZXMvZGVmYXVsdC5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9xdW90ZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpL2V4dGVybmFsIHtcImNvbW1vbmpzXCI6XCJjbG91ZHNjcmFwZXJcIixcImNvbW1vbmpzMlwiOlwiY2xvdWRzY3JhcGVyXCIsXCJhbWRcIjpcImNsb3Vkc2NyYXBlclwiLFwicm9vdFwiOlwiX1wifSIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS9leHRlcm5hbCB7XCJjb21tb25qc1wiOlwibm9kZS1mZXRjaFwiLFwiY29tbW9uanMyXCI6XCJub2RlLWZldGNoXCIsXCJhbWRcIjpcIm5vZGUtZmV0Y2hcIixcInJvb3RcIjpcIl9cIn0iLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvZXh0ZXJuYWwge1wiY29tbW9uanNcIjpcInNvdXJjZS1tYXAtc3VwcG9ydFwiLFwiY29tbW9uanMyXCI6XCJzb3VyY2UtbWFwLXN1cHBvcnRcIixcImFtZFwiOlwic291cmNlLW1hcC1zdXBwb3J0XCIsXCJyb290XCI6XCJfXCJ9Iiwid2VicGFjazovL3dzdHJhZGUtYXBpL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dzdHJhZGUtYXBpL3dlYnBhY2svc3RhcnR1cCIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwiZ2xvYmFsIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fOTQ5X18iLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX181NDVfXyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzIxNF9fIiwiYXJyIiwibGVuIiwibGVuZ3RoIiwiaSIsImFycjIiLCJBcnJheSIsImlzQXJyYXkiLCJhcnJheUxpa2VUb0FycmF5IiwiYXN5bmNHZW5lcmF0b3JTdGVwIiwiZ2VuIiwicmVzb2x2ZSIsInJlamVjdCIsIl9uZXh0IiwiX3Rocm93Iiwia2V5IiwiYXJnIiwiaW5mbyIsInZhbHVlIiwiZXJyb3IiLCJkb25lIiwiUHJvbWlzZSIsInRoZW4iLCJmbiIsInNlbGYiLCJ0aGlzIiwiYXJncyIsImFyZ3VtZW50cyIsImFwcGx5IiwiZXJyIiwidW5kZWZpbmVkIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJwcm90b3R5cGUiLCJvYmoiLCJpdGVyIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJmcm9tIiwiX2FyciIsIl9uIiwiX2QiLCJfZSIsIl9zIiwiX2kiLCJuZXh0IiwicHVzaCIsImFycmF5V2l0aEhvbGVzIiwiaXRlcmFibGVUb0FycmF5TGltaXQiLCJ1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIm5vbkl0ZXJhYmxlUmVzdCIsImFycmF5V2l0aG91dEhvbGVzIiwiaXRlcmFibGVUb0FycmF5Iiwibm9uSXRlcmFibGVTcHJlYWQiLCJvIiwibWluTGVuIiwibiIsInRvU3RyaW5nIiwiY2FsbCIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwidGVzdCIsIkFDVElWSVRJRVNfTUFYX0RSQVciLCJBQ1RJVklUSUVTX1RZUEVTX0FMTCIsImh0dHBzV29ya2VyIiwid29ya2VyIiwiaGFuZGxlUmVxdWVzdCIsImVuZHBvaW50cyIsImFjY291bnRzIiwidGZzYSIsImZpbmQiLCJhY2NvdW50Iiwic3RhcnRzV2l0aCIsInJyc3AiLCJjcnlwdG8iLCJwZXJzb25hbCIsImludGVydmFsIiwiYWNjb3VudElkIiwiZmlsdGVycyIsImxpbWl0IiwiRXJyb3IiLCJ0eXBlIiwicmVzdWx0cyIsImFjY291bnRJZHMiLCJqb2luIiwiYm9va21hcmsiLCJyZXNwb25zZSIsImRlZmF1bHRFbmRwb2ludEJlaGF2aW91ciIsIm9uRmFpbHVyZSIsInN0YXR1cyIsInN0YXR1c0NvZGUiLCJyZWFzb24iLCJzdGF0dXNNZXNzYWdlIiwiYm9keSIsIm9uU3VjY2VzcyIsIkxPR0lOIiwibWV0aG9kIiwidXJsIiwiYXV0aGVudGljYXRlZCIsInRva2VucyIsImFjY2VzcyIsImhlYWRlcnMiLCJyZWZyZXNoIiwiZXhwaXJlcyIsInBhcnNlSW50IiwiYWNjb3VudEluZm8iLCJSRUZSRVNIIiwiQUNDT1VOVF9JRFMiLCJkYXRhIiwibWFwIiwiaWQiLCJMSVNUX0FDQ09VTlQiLCJNRSIsIlBFUlNPTiIsIkhJU1RPUllfQUNDT1VOVCIsInBhcmFtZXRlcnMiLCIwIiwiMSIsIkFDVElWSVRJRVMiLCIyIiwiMyIsIkRFUE9TSVRTIiwiQkFOS19BQ0NPVU5UUyIsIkVYQ0hBTkdFX1JBVEVTIiwiU0VDVVJJVFkiLCJFWFRFTlNJVkVfU0VDVVJJVFlfREVUQUlMUyIsIlFVT1RFU19ISVNUT1JZIiwiUE9TSVRJT05TIiwiT1JERVJTX0JZX1BBR0UiLCJ0b3RhbCIsIm9yZGVycyIsIkNBTkNFTF9PUkRFUiIsIlBMQUNFX09SREVSIiwiYXV0aFRva2VucyIsImV2ZW50cyIsIm90cCIsImV2ZW50IiwiaGFuZGxlciIsInN0YXRlIiwic3RvcmUiLCJlbWFpbCIsInBhc3N3b3JkIiwidXNlIiwicmVmcmVzaEF1dGhlbnRpY2F0aW9uIiwic3VwcG9ydGVkRmVhdHVyZXMiLCJkaXNhYmxlZCIsImNvbmZpZ0VuYWJsZWQiLCJmZWF0dXJlIiwiaW5jbHVkZXMiLCJjb25maWciLCJzdWJzdHJpbmciLCJzdXBwb3J0ZWQiLCJjdXQiLCJpbmRleE9mIiwic3BsaWNlIiwiZXhjaGFuZ2VzIiwic3ltYm9sIiwiZXhjaGFuZ2UiLCJzcGxpdCIsIm90aGVyIiwiRGF0ZSIsIm5vdyIsImNhY2hlIiwic2l6ZSIsIk1hcCIsImtleXMiLCJzZXQiLCJnZXQiLCJzZWN1cml0eSIsInJlc3VsdCIsIlRpY2tlciIsImZvcm1hdCIsInVzZXJUaWNrZXIiLCJleHRlbnNpdmUiLCJ0aWNrZXIiLCJmaWx0ZXIiLCJzdG9jayIsInNlY3VyaXR5X3R5cGUiLCJwcmltYXJ5X2V4Y2hhbmdlIiwiaW5zZXJ0IiwiY3VzdG9tSGVhZGVycyIsIkhlYWRlcnMiLCJhZGQiLCJhcHBlbmQiLCJyZW1vdmUiLCJjbGVhciIsImZvckVhY2giLCJoZWFkZXIiLCJ2YWx1ZXMiLCJBdXRoZW50aWNhdGlvbiIsIkFjY291bnRzIiwiT3JkZXJzIiwiRGF0YSIsIlF1b3RlcyIsIlRva2VucyIsIkh0dHBzV29ya2VyIiwiU2Vzc2lvbiIsImF1dGgiLCJxdW90ZXMiLCJkZWZhdWx0U2Vzc2lvbiIsIkhUVFBfT0siLCJIVFRQX0NSRUFURUQiLCJmaW5hbGl6ZVJlcXVlc3QiLCJlbmRwb2ludCIsInBhcmFtcyIsImluZGV4IiwicGFyYW1ldGVyTmFtZSIsInJlcGxhY2UiLCJxdWVyeVBhcmFtTmFtZSIsInF1ZXJ5UGFyYW0iLCJwYXlsb2FkIiwiSlNPTiIsInN0cmluZ2lmeSIsImltcGxpY2l0VG9rZW5SZWZyZXNoIiwiQXV0aG9yaXphdGlvbiIsImNsb3Vkc2NyYXBlciIsImNhbGxiYWNrIiwidW51c2VkIiwicmVzIiwicGFyc2UiLCJ0YWxrIiwicmVmcmVzaF90b2tlbiIsImV4cGlyZWQiLCJpc0NhbmFkaWFuU2VjdXJpdHkiLCJmaWx0ZXJlZE9yZGVycyIsImxpc3QiLCJmaWx0ZXJlZCIsIm9yZGVyIiwic2VjdXJpdHlfaWQiLCJ3ZWFrRXF1YWxzIiwicGFnZU51bSIsIm9mZnNldCIsInBhZ2UiLCJwYWdlcyIsIk1hdGgiLCJjZWlsIiwidGFza3MiLCJhbGwiLCJvcmRlcklkIiwicGVuZGluZyIsImNhbmNlbCIsIm9yZGVyX2lkIiwicXVhbnRpdHkiLCJnZXRTZWN1cml0eSIsImRldGFpbHMiLCJsaW1pdF9wcmljZSIsInF1b3RlIiwiYW1vdW50Iiwib3JkZXJfdHlwZSIsIm9yZGVyX3N1Yl90eXBlIiwidGltZV9pbl9mb3JjZSIsImFjY291bnRfaWQiLCJzdG9wIiwic3RvcF9wcmljZSIsIm1hcmtldF92YWx1ZSIsImRlZmF1bHRQcm92aWRlciIsIlRyYWRlUXVvdGVzIiwicHJvdmlkZXJzIiwicHJvdmlkZXIiLCJydW50aW1lIiwiT3AiLCJoYXNPd24iLCJoYXNPd25Qcm9wZXJ0eSIsIiRTeW1ib2wiLCJpdGVyYXRvclN5bWJvbCIsImFzeW5jSXRlcmF0b3JTeW1ib2wiLCJhc3luY0l0ZXJhdG9yIiwidG9TdHJpbmdUYWdTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIndyYXAiLCJpbm5lckZuIiwib3V0ZXJGbiIsInRyeUxvY3NMaXN0IiwicHJvdG9HZW5lcmF0b3IiLCJHZW5lcmF0b3IiLCJnZW5lcmF0b3IiLCJjcmVhdGUiLCJjb250ZXh0IiwiQ29udGV4dCIsIl9pbnZva2UiLCJHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0IiwiR2VuU3RhdGVFeGVjdXRpbmciLCJHZW5TdGF0ZUNvbXBsZXRlZCIsImRvbmVSZXN1bHQiLCJkZWxlZ2F0ZSIsImRlbGVnYXRlUmVzdWx0IiwibWF5YmVJbnZva2VEZWxlZ2F0ZSIsIkNvbnRpbnVlU2VudGluZWwiLCJzZW50IiwiX3NlbnQiLCJkaXNwYXRjaEV4Y2VwdGlvbiIsImFicnVwdCIsInJlY29yZCIsInRyeUNhdGNoIiwiR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCIsIm1ha2VJbnZva2VNZXRob2QiLCJHZW5lcmF0b3JGdW5jdGlvbiIsIkdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlIiwiSXRlcmF0b3JQcm90b3R5cGUiLCJnZXRQcm90byIsImdldFByb3RvdHlwZU9mIiwiTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUiLCJHcCIsImRlZmluZUl0ZXJhdG9yTWV0aG9kcyIsIkFzeW5jSXRlcmF0b3IiLCJQcm9taXNlSW1wbCIsImludm9rZSIsIl9fYXdhaXQiLCJ1bndyYXBwZWQiLCJwcmV2aW91c1Byb21pc2UiLCJjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyIsInJlc3VsdE5hbWUiLCJuZXh0TG9jIiwicHVzaFRyeUVudHJ5IiwibG9jcyIsImVudHJ5IiwidHJ5TG9jIiwiY2F0Y2hMb2MiLCJmaW5hbGx5TG9jIiwiYWZ0ZXJMb2MiLCJ0cnlFbnRyaWVzIiwicmVzZXRUcnlFbnRyeSIsImNvbXBsZXRpb24iLCJyZXNldCIsIml0ZXJhYmxlIiwiaXRlcmF0b3JNZXRob2QiLCJpc05hTiIsImRpc3BsYXlOYW1lIiwiaXNHZW5lcmF0b3JGdW5jdGlvbiIsImdlbkZ1biIsImN0b3IiLCJtYXJrIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJhd3JhcCIsImFzeW5jIiwib2JqZWN0IiwicmV2ZXJzZSIsInBvcCIsInNraXBUZW1wUmVzZXQiLCJwcmV2IiwiY2hhckF0Iiwicm9vdFJlY29yZCIsInJ2YWwiLCJleGNlcHRpb24iLCJoYW5kbGUiLCJsb2MiLCJjYXVnaHQiLCJoYXNDYXRjaCIsImhhc0ZpbmFsbHkiLCJmaW5hbGx5RW50cnkiLCJjb21wbGV0ZSIsImZpbmlzaCIsInRocm93biIsImRlbGVnYXRlWWllbGQiLCJyZWdlbmVyYXRvclJ1bnRpbWUiLCJhY2NpZGVudGFsU3RyaWN0TW9kZSIsIkZ1bmN0aW9uIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJwcm9wIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsRUFBUUcsUUFBUSxzQkFBdUJBLFFBQVEsY0FBZUEsUUFBUSxpQkFDOUQsbUJBQVhDLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxDQUFDLHFCQUFzQixhQUFjLGdCQUFpQkosR0FDbkMsaUJBQVpDLFFBQ2RBLFFBQVEsZUFBaUJELEVBQVFHLFFBQVEsc0JBQXVCQSxRQUFRLGNBQWVBLFFBQVEsaUJBRS9GSixFQUFLLGVBQWlCQyxFQUFRRCxFQUFRLEVBQUdBLEVBQVEsRUFBR0EsRUFBUSxHQVI5RCxDQVNHTyxRQUFRLFNBQVNDLEVBQWtDQyxFQUFrQ0MsR0FDeEYsTSxxQkNBQVAsRUFBT0QsUUFWUCxTQUEyQlMsRUFBS0MsSUFDbkIsTUFBUEEsR0FBZUEsRUFBTUQsRUFBSUUsVUFBUUQsRUFBTUQsRUFBSUUsUUFFL0MsSUFBSyxJQUFJQyxFQUFJLEVBQUdDLEVBQU8sSUFBSUMsTUFBTUosR0FBTUUsRUFBSUYsRUFBS0UsSUFDOUNDLEVBQUtELEdBQUtILEVBQUlHLEdBR2hCLE9BQU9DLEksUUNIVFosRUFBT0QsUUFKUCxTQUF5QlMsR0FDdkIsR0FBSUssTUFBTUMsUUFBUU4sR0FBTSxPQUFPQSxJLGNDRGpDLElBQUlPLEVBQW1CLEVBQVEsS0FNL0JmLEVBQU9ELFFBSlAsU0FBNEJTLEdBQzFCLEdBQUlLLE1BQU1DLFFBQVFOLEdBQU0sT0FBT08sRUFBaUJQLEssUUNIbEQsU0FBU1EsRUFBbUJDLEVBQUtDLEVBQVNDLEVBQVFDLEVBQU9DLEVBQVFDLEVBQUtDLEdBQ3BFLElBQ0UsSUFBSUMsRUFBT1AsRUFBSUssR0FBS0MsR0FDaEJFLEVBQVFELEVB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QUFJLENBQUNwQixFQUFLOFUsSUFBU25WLE9BQU9JLFVBQVVzTyxlQUFlN00sS0FBS3hCLEVBQUs4VSxHSEcxRVIsRUFBb0IsTSIsImZpbGUiOiJkaXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwic291cmNlLW1hcC1zdXBwb3J0XCIpLCByZXF1aXJlKFwibm9kZS1mZXRjaFwiKSwgcmVxdWlyZShcImNsb3Vkc2NyYXBlclwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJzb3VyY2UtbWFwLXN1cHBvcnRcIiwgXCJub2RlLWZldGNoXCIsIFwiY2xvdWRzY3JhcGVyXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIndzdHJhZGUtYXBpXCJdID0gZmFjdG9yeShyZXF1aXJlKFwic291cmNlLW1hcC1zdXBwb3J0XCIpLCByZXF1aXJlKFwibm9kZS1mZXRjaFwiKSwgcmVxdWlyZShcImNsb3Vkc2NyYXBlclwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wid3N0cmFkZS1hcGlcIl0gPSBmYWN0b3J5KHJvb3RbXCJfXCJdLCByb290W1wiX1wiXSwgcm9vdFtcIl9cIl0pO1xufSkoZ2xvYmFsLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX185NDlfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fNTQ1X18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzIxNF9fKSB7XG5yZXR1cm4gIiwiZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYXJyMltpXSA9IGFycltpXTtcbiAgfVxuXG4gIHJldHVybiBhcnIyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hcnJheUxpa2VUb0FycmF5OyIsImZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfYXJyYXlXaXRoSG9sZXM7IiwidmFyIGFycmF5TGlrZVRvQXJyYXkgPSByZXF1aXJlKFwiLi9hcnJheUxpa2VUb0FycmF5XCIpO1xuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KGFycik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2FycmF5V2l0aG91dEhvbGVzOyIsImZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHtcbiAgdHJ5IHtcbiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZWplY3QoZXJyb3IpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpbmZvLmRvbmUpIHtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTtcblxuICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpO1xuICAgICAgfVxuXG4gICAgICBfbmV4dCh1bmRlZmluZWQpO1xuICAgIH0pO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hc3luY1RvR2VuZXJhdG9yOyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2NsYXNzQ2FsbENoZWNrOyIsImZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfY3JlYXRlQ2xhc3M7IiwiZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2RlZmluZVByb3BlcnR5OyIsImZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikge1xuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfaXRlcmFibGVUb0FycmF5OyIsImZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47XG4gIHZhciBfYXJyID0gW107XG4gIHZhciBfbiA9IHRydWU7XG4gIHZhciBfZCA9IGZhbHNlO1xuICB2YXIgX2UgPSB1bmRlZmluZWQ7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfZCA9IHRydWU7XG4gICAgX2UgPSBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gX2Fycjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfaXRlcmFibGVUb0FycmF5TGltaXQ7IiwiZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfbm9uSXRlcmFibGVSZXN0OyIsImZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX25vbkl0ZXJhYmxlU3ByZWFkOyIsInZhciBhcnJheVdpdGhIb2xlcyA9IHJlcXVpcmUoXCIuL2FycmF5V2l0aEhvbGVzXCIpO1xuXG52YXIgaXRlcmFibGVUb0FycmF5TGltaXQgPSByZXF1aXJlKFwiLi9pdGVyYWJsZVRvQXJyYXlMaW1pdFwiKTtcblxudmFyIHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5ID0gcmVxdWlyZShcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXlcIik7XG5cbnZhciBub25JdGVyYWJsZVJlc3QgPSByZXF1aXJlKFwiLi9ub25JdGVyYWJsZVJlc3RcIik7XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgbm9uSXRlcmFibGVSZXN0KCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3NsaWNlZFRvQXJyYXk7IiwidmFyIGFycmF5V2l0aG91dEhvbGVzID0gcmVxdWlyZShcIi4vYXJyYXlXaXRob3V0SG9sZXNcIik7XG5cbnZhciBpdGVyYWJsZVRvQXJyYXkgPSByZXF1aXJlKFwiLi9pdGVyYWJsZVRvQXJyYXlcIik7XG5cbnZhciB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSA9IHJlcXVpcmUoXCIuL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5XCIpO1xuXG52YXIgbm9uSXRlcmFibGVTcHJlYWQgPSByZXF1aXJlKFwiLi9ub25JdGVyYWJsZVNwcmVhZFwiKTtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IG5vbkl0ZXJhYmxlU3ByZWFkKCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3RvQ29uc3VtYWJsZUFycmF5OyIsInZhciBhcnJheUxpa2VUb0FycmF5ID0gcmVxdWlyZShcIi4vYXJyYXlMaWtlVG9BcnJheVwiKTtcblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXk7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVnZW5lcmF0b3ItcnVudGltZVwiKTtcbiIsImltcG9ydCBlbmRwb2ludHMgZnJvbSAnLi9hcGkvZW5kcG9pbnRzJztcblxuLy8gVGhlIG1heGltdW11bSBudW1iZXIgb2YgYWN0aXZpdGllcyB3ZSBjYW4gcHVsbCBpbiBvbmUgZ28uXG5jb25zdCBBQ1RJVklUSUVTX01BWF9EUkFXID0gOTk7XG4vLyBTdXBwb3J0ZWQgYWN0aXZpdHkgdHlwZXNcbmNvbnN0IEFDVElWSVRJRVNfVFlQRVNfQUxMID0gW1xuICAnc2VsbCcsXG4gICdkZXBvc2l0JyxcbiAgJ3dpdGhkcmF3YWwnLFxuICAnZGl2aWRlbmQnLFxuICAnaW5zdGl0dXRpb25hbF90cmFuc2ZlcicsXG4gICdpbnRlcm5hbF90cmFuc2ZlcicsXG4gICdyZWZ1bmQnLFxuICAncmVmZXJyYWxfYm9udXMnLFxuICAnYWZmaWxpYXRlJyxcbiAgJ2J1eScsXG5dO1xuXG5jbGFzcyBBY2NvdW50cyB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IEFjY291bnQgb2JqZWN0IGFzc29jaWF0ZWQgd2l0aCBhbiBIVFRQUyB3b3JrZXIgc3RhdGUuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gaHR0cHNXb3JrZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yKGh0dHBzV29ya2VyKSB7XG4gICAgdGhpcy53b3JrZXIgPSBodHRwc1dvcmtlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYWxsIGFjY291bnQgaWRzIG9wZW4gdW5kZXIgdGhpcyBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudC5cbiAgICovXG4gIGFzeW5jIGFsbCgpIHtcbiAgICBjb25zdCBhY2NvdW50cyA9IGF3YWl0IHRoaXMud29ya2VyLmhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLkFDQ09VTlRfSURTLCB7fSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdGZzYTogYWNjb3VudHMuZmluZCgoYWNjb3VudCkgPT4gYWNjb3VudC5zdGFydHNXaXRoKCd0ZnNhJykpLFxuICAgICAgcnJzcDogYWNjb3VudHMuZmluZCgoYWNjb3VudCkgPT4gYWNjb3VudC5zdGFydHNXaXRoKCdycnNwJykpLFxuICAgICAgY3J5cHRvOiBhY2NvdW50cy5maW5kKChhY2NvdW50KSA9PiBhY2NvdW50LnN0YXJ0c1dpdGgoJ25vbi1yZWdpc3RlcmVkLWNyeXB0bycpKSxcbiAgICAgIHBlcnNvbmFsOiBhY2NvdW50cy5maW5kKChhY2NvdW50KSA9PiBhY2NvdW50LnN0YXJ0c1dpdGgoJ25vbi1yZWdpc3RlcmVkJykgJiYgIWFjY291bnQuc3RhcnRzV2l0aCgnbm9uLXJlZ2lzdGVyZWQtY3J5cHRvJykpLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIGxpc3Qgb2YgZGV0YWlscyBhYm91dCB5b3VyIG9wZW4gYWNjb3VudHMsIGxpa2UgYWNjb3VudCB0eXBlLCBidXlpbmcgcG93ZXIsXG4gICAqIGN1cnJlbnQgYmFsYW5jZSwgYW5kIG1vcmUuXG4gICAqL1xuICBhc3luYyBkYXRhKCkge1xuICAgIHJldHVybiB0aGlzLndvcmtlci5oYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5MSVNUX0FDQ09VTlQsIHt9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgc29tZSBzdXJmYWNlIGluZm9ybWF0aW9uIGFib3V0IHlvdSBsaWtlIHlvdXIgbmFtZSBhbmQgZW1haWwsIGFjY291bnRcbiAgICogc2lnbmF0dXJlcywgYW5kIG90aGVyIG1ldGFkYXRhLlxuICAgKi9cbiAgYXN5bmMgbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMud29ya2VyLmhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLk1FLCB7fSk7XG4gIH1cblxuICAvKipcbiAgICogRGV0YWlsZWQgaW5mb3JtYXRpb24gYWJvdXQgeW91IHRoYXQgeW91IHByb3ZpZGVkIG9uIHNpZ251cCwgbGlrZSByZXNpZGVudGlhbCBhbmRcbiAgICogbWFpbGluZyBhZGRyZXNzZXMsIGVtcGxveW1lbnQsIHBob25lIG51bWJlcnMsIGFuZCBzbyBvbi5cbiAgICovXG4gIGFzeW5jIHBlcnNvbigpIHtcbiAgICByZXR1cm4gdGhpcy53b3JrZXIuaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuUEVSU09OLCB7fSk7XG4gIH1cblxuICAvKipcbiAgICogUXVlcnkgdGhlIGhpc3Rvcnkgb2YgdGhlIGFjY291bnQgd2l0aGluIGEgY2VydGFpbiB0aW1lIGludGVydmFsLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGludGVydmFsIFRoZSB0aW1lIGludGVydmFsIGZvciB0aGUgaGlzdG9yeSBxdWVyeVxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgYWNjb3VudCB0byBxdWVyeVxuICAgKi9cbiAgYXN5bmMgaGlzdG9yeShpbnRlcnZhbCwgYWNjb3VudElkKSB7XG4gICAgcmV0dXJuIHRoaXMud29ya2VyLmhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLkhJU1RPUllfQUNDT1VOVCwgeyBpbnRlcnZhbCwgYWNjb3VudElkIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoZXMgYWN0aXZpdGllcyBvbiB5b3VyIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50LiBZb3UgY2FuIGxpbWl0IG51bWJlciBvZiBhY3Rpdml0aWVzXG4gICAqIHRvIGZldGNoIG9yIHJlZmluZSB3aGF0IGFjdGl2aXRpZXMgYXJlIGZldGNoZWQgYmFzZWQgb24gYWN0aXZpdHkgdHlwZSAoZS5nLiwgYnV5LCBzZWxsKSxcbiAgICogYWNjb3VudCAoZS5nLiwgdGZzYSwgcnJzcCkuXG4gICAqL1xuICBhc3luYyBhY3Rpdml0aWVzKGZpbHRlcnMgPSB7fSkge1xuICAgIC8vIFRoZSBtYXhpbXVtIGRyYXcgcGVyIEFQSSBjYWxsIGlzIDk5LiBJZiBpdCdzIGhpZ2hlciwgd2UgbXVzdCBhYm9ydC5cbiAgICBpZiAoZmlsdGVycz8ubGltaXQgJiYgZmlsdGVycy5saW1pdCA+IEFDVElWSVRJRVNfTUFYX0RSQVcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZmlsdGVycy5saW1pdCBjYW4gbm90IGV4Y2VlZCA5OSEgTGVhdmUgZmlsdGVycy5saW1pdCB1bmRlZmluZWQgaWYgeW91IHdhbnQgdG8gcmV0cmlldmUgYWxsLicpO1xuICAgIH1cblxuICAgIC8vIFRlbGwgdGhlIHVzZXIgdGhhdCBmaWx0ZXIuYWNjb3VudHMgbXVzdCBiZSBhbiBlcnJvclxuICAgIGlmIChmaWx0ZXJzPy5hY2NvdW50cyAmJiAhQXJyYXkuaXNBcnJheShmaWx0ZXJzLmFjY291bnRzKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdmaWx0ZXJzLmFjY291bnRzIG11c3QgYmUgYW4gYXJyYXkhJyk7XG4gICAgfVxuXG4gICAgLy8gVGVsbCB0aGUgdXNlciB0aGF0IGZpbHRlci50eXBlIG11c3QgYmUgYW4gZXJyb3JcbiAgICBpZiAoZmlsdGVycz8udHlwZSAmJiAhQXJyYXkuaXNBcnJheShmaWx0ZXJzLnR5cGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZpbHRlcnMudHlwZSBtdXN0IGJlIGFuIGFycmF5IScpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcblxuICAgIC8vIERyYXcgdGhlIGZpcnN0IHNldCBvZiBhY3Rpdml0aWVzXG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy53b3JrZXIuaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuQUNUSVZJVElFUywge1xuICAgICAgbGltaXQ6IGZpbHRlcnM/LmxpbWl0ID8/IEFDVElWSVRJRVNfTUFYX0RSQVcsXG4gICAgICBhY2NvdW50SWRzOiBmaWx0ZXJzPy5hY2NvdW50cz8uam9pbigpID8/ICcnLFxuICAgICAgYm9va21hcms6ICcnLFxuICAgICAgdHlwZTogZmlsdGVycz8udHlwZSA/PyBBQ1RJVklUSUVTX1RZUEVTX0FMTCxcbiAgICB9KTtcbiAgICByZXN1bHRzLnB1c2goLi4ucmVzcG9uc2UucmVzdWx0cyk7XG5cbiAgICAvKlxuICAgICAqIFRvIGdldCBhbGwgYWN0aXZpdGllcywgd2Ugd2lsbCBoYXZlIHRvIGRyYXcgdGhlIG1heGltdW0gbnVtYmVyXG4gICAgICogb2YgYWN0aXZpdGllcyBwZXIgQVBJIGNhbGwgdW50aWwgd2UgYXJlIGRvbmUgKGkuZS4sIHdoZW4gd2VcbiAgICAgKiByZWNlaXZlIGEgbnVtYmVyIG9mIGFjdGl2aXRpZXMgbGVzcyB0aGFuIHRoZSBtYXhpbXVtIHBlciBkcmF3KVxuICAgICAqL1xuICAgIGlmICghZmlsdGVycz8ubGltaXQpIHtcbiAgICAgIC8qXG4gICAgICAgKiBUaGUgbm8tYXdhaXQtaW4tbG9vcCBydWxlIGlzIGJlaW5nIGRpc2FibGVkIGZvciB0aGlzIGNhc2UgYmVjYXVzZVxuICAgICAgICogZXZlcnkgbG9vcCBmZWVkcyBiYWNrIGludG8gdGhlIG5leHQgb25lIHdpdGggdGhlIGJvb2ttYXJrIChpLmUuLCB0aGV5XG4gICAgICAgKiBhcmUgbm90IGluZGVwZW5kZW50IGFuZCBtdXN0IHJ1biBzZXF1ZW50aWFsbHkpLlxuICAgICAgICovXG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1hd2FpdC1pbi1sb29wICovXG4gICAgICB3aGlsZSAocmVzdWx0cy5sZW5ndGggJSBBQ1RJVklUSUVTX01BWF9EUkFXID09PSAwKSB7XG4gICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy53b3JrZXIuaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuQUNUSVZJVElFUywge1xuICAgICAgICAgIGxpbWl0OiBBQ1RJVklUSUVTX01BWF9EUkFXLFxuICAgICAgICAgIGFjY291bnRJZHM6IGZpbHRlcnM/LmFjY291bnRzPy5qb2luKCkgPz8gJycsXG4gICAgICAgICAgYm9va21hcms6IHJlc3BvbnNlLmJvb2ttYXJrLFxuICAgICAgICAgIHR5cGU6IGZpbHRlcnM/LnR5cGUgPz8gQUNUSVZJVElFU19UWVBFU19BTEwsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEVzY2FwZSB0aGUgbG9vcCBpZiB0aGUgcmV0dXJuZWQgcmVzdWx0cyBpcyBlbXB0eS4gVGhpcyBtZWFucyB3ZSBoYXZlIHJlYWNoZWQgdGhlIGVuZC5cbiAgICAgICAgaWYgKHJlc3BvbnNlLnJlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHRzLnB1c2goLi4ucmVzcG9uc2UucmVzdWx0cyk7XG4gICAgICB9XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWF3YWl0LWluLWxvb3AgKi9cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYWxsIGJhbmsgYWNjb3VudHMgbGlua2VkIHRvIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudC5cbiAgICovXG4gIGFzeW5jIGdldEJhbmtBY2NvdW50cygpIHtcbiAgICByZXR1cm4gdGhpcy53b3JrZXIuaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuQkFOS19BQ0NPVU5UUywge30pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdyYWIgYWxsIGRlcG9zaXQgcmVjb3JkcyBvbiB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnQuXG4gICAqL1xuICBhc3luYyBkZXBvc2l0cygpIHtcbiAgICByZXR1cm4gdGhpcy53b3JrZXIuaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuREVQT1NJVFMsIHt9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaXN0cyBhbGwgcG9zaXRpb25zIGluIHRoZSBzcGVjaWZpZWQgdHJhZGluZyBhY2NvdW50IHVuZGVyIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgQWNjb3VudC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIHNwZWNpZmljIGFjY291bnQgaW4gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50XG4gICAqL1xuICBhc3luYyBwb3NpdGlvbnMoYWNjb3VudElkKSB7XG4gICAgcmV0dXJuIHRoaXMud29ya2VyLmhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLlBPU0lUSU9OUywgeyBhY2NvdW50SWQgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQWNjb3VudHM7XG4iLCJjb25zdCBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIgPSB7XG5cbiAgLy8gRGVmYXVsdCBmYWlsdXJlIG1ldGhvZCBmb3IgYWxsIGVuZHBvaW50IGNhbGxzXG4gIG9uRmFpbHVyZTogYXN5bmMgKHJlc3BvbnNlKSA9PiAoe1xuICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzQ29kZSxcbiAgICByZWFzb246IHJlc3BvbnNlLnN0YXR1c01lc3NhZ2UsXG4gICAgYm9keTogcmVzcG9uc2UuYm9keSxcbiAgfSksXG5cbiAgLy8gRGVmYXVsdCBzdWNjZXNzIG1ldGhvZCBmb3IgYWxsIGVuZHBvaW50IGNhbGxzXG4gIG9uU3VjY2VzczogYXN5bmMgKHJlc3BvbnNlKSA9PiByZXNwb25zZS5ib2R5LFxufTtcblxuY29uc3QgV2VhbHRoc2ltcGxlVHJhZGVFbmRwb2ludHMgPSB7XG5cbiAgLypcbiAgICogVGhlIExPR0lOIGVuZHBvaW50IGludGlhbGl6ZXMgYSBuZXcgc2Vzc2lvbiBmb3IgdGhlIGdpdmVuIGVtYWlsIGFuZFxuICAgKiBwYXNzd29yZCBzZXQuIElmIHRoZSBsb2dpbiBpcyBzdWNjZXNzZnVsLCBhY2Nlc3MgYW5kIHJlZnJlc2ggdG9rZW5zXG4gICAqIGFyZSByZXR1cm5lZCBpbiB0aGUgaGVhZGVycy4gVGhlIGFjY2VzcyB0b2tlbiBpcyB0aGUga2V5IGZvciBpbnZva2luZ1xuICAgKiBhbGwgb3RoZXIgZW5kIHBvaW50cy5cbiAgICovXG4gIExPR0lOOiB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vYXV0aC9sb2dpbicsXG4gICAgYXV0aGVudGljYXRlZDogZmFsc2UsXG4gICAgb25TdWNjZXNzOiBhc3luYyAocmVzcG9uc2UpID0+ICh7XG4gICAgICB0b2tlbnM6IHtcbiAgICAgICAgYWNjZXNzOiByZXNwb25zZS5oZWFkZXJzWyd4LWFjY2Vzcy10b2tlbiddLFxuICAgICAgICByZWZyZXNoOiByZXNwb25zZS5oZWFkZXJzWyd4LXJlZnJlc2gtdG9rZW4nXSxcbiAgICAgICAgZXhwaXJlczogcGFyc2VJbnQocmVzcG9uc2UuaGVhZGVyc1sneC1hY2Nlc3MtdG9rZW4tZXhwaXJlcyddLCAxMCksXG4gICAgICB9LFxuXG4gICAgICBhY2NvdW50SW5mbzogcmVzcG9uc2UuYm9keSxcbiAgICB9KSxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogR2VuZXJhdGVzIGEgbmV3IHNldCBvZiBhY2Nlc3MgYW5kIHJlZnJlc2ggdG9rZW5zLlxuICAgKi9cbiAgUkVGUkVTSDoge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL2F1dGgvcmVmcmVzaCcsXG4gICAgYXV0aGVudGljYXRlZDogZmFsc2UsXG4gICAgb25TdWNjZXNzOiBhc3luYyAocmVzcG9uc2UpID0+ICh7XG4gICAgICB0b2tlbnM6IHtcbiAgICAgICAgYWNjZXNzOiByZXNwb25zZS5oZWFkZXJzWyd4LWFjY2Vzcy10b2tlbiddLFxuICAgICAgICByZWZyZXNoOiByZXNwb25zZS5oZWFkZXJzWyd4LXJlZnJlc2gtdG9rZW4nXSxcbiAgICAgICAgZXhwaXJlczogcGFyc2VJbnQocmVzcG9uc2UuaGVhZGVyc1sneC1hY2Nlc3MtdG9rZW4tZXhwaXJlcyddLCAxMCksXG4gICAgICB9LFxuICAgIH0pLFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBHcmFicyBhbGwgYWNjb3VudCBpZHMgaW4gdGhpcyBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudC5cbiAgICovXG4gIEFDQ09VTlRfSURTOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9hY2NvdW50L2xpc3QnLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgb25TdWNjZXNzOiBhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5ib2R5O1xuXG4gICAgICAvLyBDb2xsZWN0IGFsbCBhY2NvdW50IGlkcyByZWdpc3RlcmVkIHVuZGVyIHRoaXMgV2VhbHRoc2ltcGxlIFRyYWRlIEFjY291bnRcbiAgICAgIHJldHVybiBkYXRhLnJlc3VsdHMubWFwKChhY2NvdW50KSA9PiBhY2NvdW50LmlkKTtcbiAgICB9LFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBUaGUgTElTVF9BQ0NPVU5UIGVuZHBvaW50IHJldHJpZXZlcyBnZW5lcmFsIG1ldGFkYXRhIG9mIHRoZVxuICAgKiBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudCwgaW5jbHVkaW5nIGJhbGFuY2VzLCBhY2NvdW50IGlkLCBhbmRcbiAgICogbW9yZS5cbiAgICovXG4gIExJU1RfQUNDT1VOVDoge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vYWNjb3VudC9saXN0JyxcbiAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgIG9uU3VjY2VzczogYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gcmVzcG9uc2UuYm9keTtcbiAgICAgIHJldHVybiBkYXRhLnJlc3VsdHM7XG4gICAgfSxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogVGhlIE1FIGVuZHBvaW50IHJldHJpZXZlcyBzb21lIHN1cmZhY2UgaW5mb3JtYXRpb24gYWJvdXQgeW91IGxpa2VcbiAgICogeW91ciBuYW1lIGFuZCBlbWFpbC5cbiAgICovXG4gIE1FOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9tZScsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBvblN1Y2Nlc3M6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vblN1Y2Nlc3MsXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIFRoZSBQRVJTT04gZW5kcG9pbnQgcmV0cmlldmVzIGRldGFpbGVkIGluZm9ybWF0aW9uIGFib3V0IHlvdSB0aGF0XG4gICAqIHlvdSBwcm92aWRlZCBvbiBzaWdudXAsIGxpa2UgcmVzaWRlbnRpYWwgYW5kIG1haWxpbmcgYWRkcmVzc2VzLFxuICAgKiBlbXBsb3ltZW50LCBwaG9uZSBudW1iZXJzLCBhbmQgc28gb24uXG4gICAqL1xuICBQRVJTT046IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL3BlcnNvbicsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBvblN1Y2Nlc3M6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vblN1Y2Nlc3MsXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIFRoZSBISVNUT1JZX0FDQ09VTlQgZW5kcG9pbnQgcHJvdmlkZXMgaGlzdG9yaWNhbCBzbmFwc2hvdHMgb2YgdGhlXG4gICAqIFdlYWx0aHNpbXBsZSBhY2NvdW50IGZvciBhIHNwZWNpZmllZCB0aW1lZnJhbWUuXG4gICAqL1xuICBISVNUT1JZX0FDQ09VTlQ6IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL2FjY291bnQvaGlzdG9yeS97MH0/YWNjb3VudF9pZD17MX0nLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgcGFyYW1ldGVyczoge1xuICAgICAgMDogJ2ludGVydmFsJyxcbiAgICAgIDE6ICdhY2NvdW50SWQnLFxuICAgIH0sXG4gICAgb25TdWNjZXNzOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25TdWNjZXNzLFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBQcm92aWRlcyB0aGUgbW9zdCByZWNlbnQgMjAgYWN0aXZpdGllcyAoZGVwb3NpdHMsIGRpdmlkZW5kcywgb3JkZXJzLCBldGMpIG9uIHRoZSBXZWFsdGhzaW1wbGVcbiAgICogVHJhZGUgYWNjb3VudC5cbiAgICovXG4gIEFDVElWSVRJRVM6IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL2FjY291bnQvYWN0aXZpdGllcz9saW1pdD17MH0mYWNjb3VudF9pZHM9ezF9JlsyXSZib29rbWFyaz17M30nLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgcGFyYW1ldGVyczoge1xuICAgICAgMDogJ2xpbWl0JyxcbiAgICAgIDE6ICdhY2NvdW50SWRzJyxcbiAgICAgIDI6ICd0eXBlJyxcbiAgICAgIDM6ICdib29rbWFyaycsXG4gICAgfSxcbiAgICBvblN1Y2Nlc3M6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vblN1Y2Nlc3MsXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIEFsbCBkZXBvc2l0cyB1bmRlciB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnRcbiAgICovXG4gIERFUE9TSVRTOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9kZXBvc2l0cycsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBvblN1Y2Nlc3M6IGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IHJlc3BvbnNlLmJvZHk7XG4gICAgICByZXR1cm4gZGF0YS5yZXN1bHRzO1xuICAgIH0sXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIEFsbCBsaW5rZWQgYmFuayBhY2NvdW50cyB1bmRlciB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnRcbiAgICovXG4gIEJBTktfQUNDT1VOVFM6IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL2JhbmstYWNjb3VudHMnLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgb25TdWNjZXNzOiBhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5ib2R5O1xuICAgICAgcmV0dXJuIGRhdGEucmVzdWx0cztcbiAgICB9LFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBDdXJyZW50IFdlYWx0aHNpbXBsZSBUcmFkZSBVU0QvQ0FEIGV4Y2hhbmdlIHJhdGVzXG4gICAqL1xuICBFWENIQU5HRV9SQVRFUzoge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vZm9yZXgnLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgb25TdWNjZXNzOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25TdWNjZXNzLFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBHcmFicyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgc2VjdXJpdHkgcmVzZW1ibGVkIGJ5IHRoZSB0aWNrZXIuXG4gICAqL1xuICBTRUNVUklUWToge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vc2VjdXJpdGllcz9xdWVyeT17MH0nLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgcGFyYW1ldGVyczoge1xuICAgICAgMDogJ3RpY2tlcicsXG4gICAgfSxcbiAgICBvblN1Y2Nlc3M6IGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IHJlc3BvbnNlLmJvZHk7XG5cbiAgICAgIGlmIChkYXRhLnJlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2VjdXJpdHkgZG9lcyBub3QgZXhpc3QnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGEucmVzdWx0cztcbiAgICB9LFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBGZXRjaGVzIGRldGFpbGVkIGluZm9ybWF0aW9uIGFib3V0IGEgc2VjdXJpdHkgdXNpbmcgaXRzIHVuaXF1ZVxuICAgKiBzZWN1cml0eSBpZGVudGlmaWVyLiBNYXJrZXQgcXVvdGUsIGJpZCBhbmQgYXNrIHNpemUsIGFuZCBvdGhlciBpbmZvcm1hdGlvblxuICAgKiBhcmUgcmV0dXJuZWQuXG4gICAqL1xuICBFWFRFTlNJVkVfU0VDVVJJVFlfREVUQUlMUzoge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vc2VjdXJpdGllcy97MH0nLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgcGFyYW1ldGVyczoge1xuICAgICAgMDogJ2lkJyxcbiAgICB9LFxuICAgIG9uU3VjY2VzczogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uU3VjY2VzcyxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogRmV0Y2hlcyBoaXN0b3JpY2FsIHF1b3RlcyBmb3IgYSBzZWN1cml0eSBpbiB0aGUgc3BlY2lmaWVkIGludGVydmFsLlxuICAgKi9cbiAgUVVPVEVTX0hJU1RPUlk6IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL3NlY3VyaXRpZXMvezB9L2hpc3RvcmljYWxfcXVvdGVzL3sxfT9taWM9WE5BUycsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAwOiAnaWQnLFxuICAgICAgMTogJ2ludGVydmFsJyxcbiAgICB9LFxuICAgIG9uU3VjY2VzczogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uU3VjY2VzcyxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogTGlzdHMgYWxsIHBvc2l0aW9ucyB1bmRlciBhIHRyYWRpbmcgYWNjb3VudC5cbiAgICovXG4gIFBPU0lUSU9OUzoge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vYWNjb3VudC9wb3NpdGlvbnM/YWNjb3VudF9pZD17MH0nLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgcGFyYW1ldGVyczoge1xuICAgICAgMDogJ2FjY291bnRJZCcsXG4gICAgfSxcbiAgICBvblN1Y2Nlc3M6IGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IHJlc3BvbnNlLmJvZHk7XG4gICAgICByZXR1cm4gZGF0YS5yZXN1bHRzO1xuICAgIH0sXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIEdyYWIgYSBwYWdlIG9mIG9yZGVycyAoMjAgb3JkZXJzKS5cbiAgICovXG4gIE9SREVSU19CWV9QQUdFOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9vcmRlcnM/b2Zmc2V0PXswfSZhY2NvdW50X2lkPXsxfScsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAwOiAnb2Zmc2V0JyxcbiAgICAgIDE6ICdhY2NvdW50SWQnLFxuICAgIH0sXG4gICAgb25TdWNjZXNzOiBhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5ib2R5O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG90YWw6IGRhdGEudG90YWwsXG4gICAgICAgIG9yZGVyczogZGF0YS5yZXN1bHRzLFxuICAgICAgfTtcbiAgICB9LFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBDYW5jZWxzIGEgc3BlY2lmaWMgb3JkZXIgYnkgaXRzIGlkLlxuICAgKi9cbiAgQ0FOQ0VMX09SREVSOiB7XG4gICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9vcmRlcnMvezB9JyxcbiAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgIDA6ICdvcmRlcklkJyxcbiAgICB9LFxuICAgIG9uU3VjY2VzczogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uU3VjY2VzcyxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogUGxhY2VzIGFuIG9yZGVyIGZvciBhIHNlY3VyaXR5LlxuICAgKi9cbiAgUExBQ0VfT1JERVI6IHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9vcmRlcnMnLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgb25TdWNjZXNzOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25TdWNjZXNzLFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFdlYWx0aHNpbXBsZVRyYWRlRW5kcG9pbnRzO1xuIiwiaW1wb3J0IGVuZHBvaW50cyBmcm9tICcuL2FwaS9lbmRwb2ludHMnO1xuXG5jbGFzcyBBdXRoZW50aWNhdGlvbiB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoZSBBdXRoZW50aWNhdGlvbiBjbGFzc3MgYXNzb2NpYXRlZCB3aXRoIHRoZVxuICAgKiBwcm92aWRlZCB0b2tlbnMgYW5kIGh0dHBzIHdvcmtlci5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhdXRoVG9rZW5zXG4gICAqIEBwYXJhbSB7Kn0gaHR0cHNXb3JrZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yKGF1dGhUb2tlbnMsIGh0dHBzV29ya2VyKSB7XG4gICAgdGhpcy5hdXRoVG9rZW5zID0gYXV0aFRva2VucztcbiAgICB0aGlzLndvcmtlciA9IGh0dHBzV29ya2VyO1xuXG4gICAgLy8gYXV0aGVudGljYXRpb24gZXZlbnRzXG4gICAgdGhpcy5ldmVudHMgPSB7XG4gICAgICBvdHA6IG51bGwsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBhIGZ1bmN0aW9uIHRvIHJ1biBvbiBhIGNlcnRhaW4gZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gZXZlbnQgVGhlIHRyaWdnZXIgZm9yIHRoZSBmdW5jdGlvblxuICAgKiBAcGFyYW0geyp9IGhhbmRsZXIgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAqL1xuICBvbihldmVudCwgaGFuZGxlcikge1xuICAgIGlmICghKGV2ZW50IGluIHRoaXMuZXZlbnRzKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBhdXRoZW50aWNhdGlvbiBldmVudCAnJHtldmVudH0nIWApO1xuICAgIH1cblxuICAgIHRoaXMuZXZlbnRzW2V2ZW50XSA9IGhhbmRsZXI7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgYXV0aCBtb2R1bGUgd2l0aCBhbiBleGlzdGluZyBzdGF0ZSBvZiB0b2tlbnMuXG4gICAqIFRoZSBzdGF0ZSBwcm92aWRlZCBzaG91bGQgY29udGFpbiBhY2Nlc3MsIHJlZnJlc2gsIGFuZCBleHBpcmVzIHByb3BlcnRpZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gc3RhdGUgUHJlLWV4aXN0aW5nIGF1dGhlbnRpY2F0aW9uIHN0YXRlXG4gICAqL1xuICB1c2Uoc3RhdGUpIHtcbiAgICB0aGlzLmF1dGhUb2tlbnMuc3RvcmUoc3RhdGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNuYXBzaG90IG9mIHRoZSBjdXJyZW50IGF1dGhlbnRpY2F0aW9uIHRva2Vucy5cbiAgICovXG4gIHRva2VucygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWNjZXNzOiB0aGlzLmF1dGhUb2tlbnMuYWNjZXNzLFxuICAgICAgcmVmcmVzaDogdGhpcy5hdXRoVG9rZW5zLnJlZnJlc2gsXG4gICAgICBleHBpcmVzOiB0aGlzLmF1dGhUb2tlbnMuZXhwaXJlcyxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEF0dGVtcHRzIHRvIGVzdGFibGlzaCBhIHNlc3Npb24gZm9yIHRoZSBwcm92aWRlZCBlbWFpbCBhbmQgcGFzc3dvcmQuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gZW1haWwgZW1haWxlZCByZWdpc3RlcmVkIGJ5IHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudFxuICAgKiBAcGFyYW0geyp9IHBhc3N3b3JkIFRoZSBwYXNzd29yZCBvZiB0aGUgYWNjb3VudFxuICAgKi9cbiAgYXN5bmMgbG9naW4oZW1haWwsIHBhc3N3b3JkKSB7XG4gICAgbGV0IHJlc3BvbnNlID0gbnVsbDtcblxuICAgIC8qXG4gICAgICogSWYgd2UgYXJlIGdpdmVuIGEgZnVuY3Rpb24gZm9yIG90cCwgdGhlbiB3ZSBtdXN0IGZhaWwgYSBsb2cgaW4gdG9cbiAgICAgKiB0cmlnZ2VyIGFuIE9UUCBldmVudCB3aXRoIFdlYWx0aHNpbXBsZSBUcmFkZS4gVGhpcyB3aWxsIGFsbG93IHRoZSB1c2VyXG4gICAgICogb3RwIHRodW5rIHRvIHJldHJpZXZlIHRoZSBjb2RlLlxuICAgICAqXG4gICAgICogSWYgYSBsaXRlcmFsIHZhbHVlIGlzIHByb3ZpZGVkIGZvciBvdHAsIGl0IG1lYW5zIHRoZSB1c2VyIGhhcyBtYW51YWxseVxuICAgICAqIHByb3ZpZGVkIHVzIHdpdGggdGhlIG90cCBjb2RlLiBXZSBjYW4gc2tpcCB0aGlzIGxvZ2luIGF0dGVtcHQuXG4gICAgICovXG4gICAgaWYgKHR5cGVvZiAodGhpcy5ldmVudHMub3RwKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYXdhaXQgdGhpcy53b3JrZXIuaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuTE9HSU4sIHtcbiAgICAgICAgZW1haWwsXG4gICAgICAgIHBhc3N3b3JkLFxuICAgICAgfSkuY2F0Y2goKCkgPT4geyB9KTtcbiAgICB9XG5cbiAgICAvLyBUcnkgdG8gbG9nIGluIGZvciByZWFsIHRoaXMgdGltZS5cbiAgICB0cnkge1xuICAgICAgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLndvcmtlci5oYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5MT0dJTiwge1xuICAgICAgICBlbWFpbCxcbiAgICAgICAgcGFzc3dvcmQsXG4gICAgICAgIG90cDogdHlwZW9mICh0aGlzLmV2ZW50cy5vdHApID09PSAnZnVuY3Rpb24nID8gYXdhaXQgdGhpcy5ldmVudHMub3RwKCkgOiB0aGlzLmV2ZW50cy5vdHAsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gd2UgbWlnaHQgaGF2ZSBmYWlsZWQgYmVjYXVzZSBPVFAgd2FzIG5vdCBwcm92aWRlZFxuICAgICAgaWYgKCF0aGlzLmV2ZW50cy5vdHApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPVFAgbm90IHByb3ZpZGVkIScpO1xuICAgICAgfVxuXG4gICAgICAvLyBTZWVtcyB0byBiZSBpbmNvcnJlY3QgY3JlZGVudGlhbHMgb3IgT1RQLlxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gICAgLy8gQ2FwdHVyZSB0aGUgdG9rZW5zIGZvciBsYXRlciB1c2FnZS5cbiAgICB0aGlzLnVzZShyZXNwb25zZS50b2tlbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhIG5ldyBzZXQgb2YgYWNjZXNzIGFuZCByZWZyZXNoIHRva2Vucy5cbiAgICovXG4gIGFzeW5jIHJlZnJlc2goKSB7XG4gICAgdGhpcy53b3JrZXIucmVmcmVzaEF1dGhlbnRpY2F0aW9uKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXV0aGVudGljYXRpb247XG4iLCIvLyBDb25kaXRpb25hbCBmZWF0dXJlcyB0aGF0IGFyZSBjdXJyZW50bHkgc3VwcG9ydGVkIGJ5IHdzdHJhZGUtYXBpXG5jb25zdCBzdXBwb3J0ZWRGZWF0dXJlcyA9IFsnaW1wbGljaXRfdG9rZW5fcmVmcmVzaCcsICdzZWN1cml0aWVzX2NhY2hlJ107XG5jb25zdCBzdXBwb3J0ZWQgPSAoZmVhdHVyZSkgPT4ge1xuICBpZiAoIWZlYXR1cmU/LnN0YXJ0c1dpdGgoJ25vXycpKSB7XG4gICAgcmV0dXJuIHN1cHBvcnRlZEZlYXR1cmVzLmluY2x1ZGVzKGZlYXR1cmUpO1xuICB9XG5cbiAgcmV0dXJuIHN1cHBvcnRlZEZlYXR1cmVzLmluY2x1ZGVzKGZlYXR1cmUuc3Vic3RyaW5nKCdub18nLmxlbmd0aCkpO1xufTtcblxuLy8gSG9sZHMgb3B0aW9uYWwgZmVhdHVyZXMgdGhhdCBoYXZlIGJlZW4gZGlzYWJsZWQuXG5jb25zdCBkaXNhYmxlZCA9IFsnc2VjdXJpdGllc19jYWNoZSddO1xuZXhwb3J0IGNvbnN0IGNvbmZpZ0VuYWJsZWQgPSAoZmVhdHVyZSkgPT4gIWRpc2FibGVkLmluY2x1ZGVzKGZlYXR1cmUpO1xuXG4vKipcbiAqIEVuYWJsZSBvciBkaXNhYmxlIGFuIG9wdGlvbmFsIGZlYXR1cmUgd2l0aGluIHdzdHJhZGUtYXBpLlxuICpcbiAqIEV4YW1wbGVzOlxuICogLS0tXG4gKiBjb25maWcoJ2ltcGxpY2l0X3Rva2VuX3JlZnJlc2gnKVxuICogRW5hYmxlcyBpbXBsaWNpdCByZWZyZXNoaW5nIG9mIHRva2Vucy5cbiAqXG4gKiBjb25maWcoJ25vX2ltcGxpY2l0X3Rva2VuX3JlZnJlc2gnKVxuICogRGlzYWJsZXMgaW1wbGljaXQgcmVmcmVzaGluZyBvZiB0b2tlbnMuXG4gKlxuICogQHBhcmFtIHsqfSBmZWF0dXJlIFRoZSBzdHJpbmcgaWRlbnRpZmllciBmb3IgdGhlIGZlYXR1cmUsIHN0YXJ0aW5nIHdpdGggXCJub19cIiBpZlxuICogICAgICAgICAgICAgICAgICAgIHlvdSB3aXNoIHRvIGRpc2FibGUgaXQuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbmZpZyhmZWF0dXJlKSB7XG4gIGlmICghc3VwcG9ydGVkKGZlYXR1cmUpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGAnJHtmZWF0dXJlfScgaXMgbm90IHN1cHBvcnRlZCFgKTtcbiAgfVxuXG4gIGlmIChmZWF0dXJlPy5zdGFydHNXaXRoKCdub18nKSkge1xuICAgIGNvbnN0IGN1dCA9IGZlYXR1cmUuc3Vic3RyaW5nKGZlYXR1cmUuaW5kZXhPZignXycpICsgMSk7XG5cbiAgICAvLyBXZSB3aWxsIG9ubHkgYXBwZW5kIHRoaXMgaWYgaXQgaXNuJ3QgYWxyZWFkeSBpbiB0aGVyZS5cbiAgICBpZiAoY29uZmlnRW5hYmxlZChjdXQpKSB7XG4gICAgICBkaXNhYmxlZC5wdXNoKGN1dCk7XG4gICAgfVxuXG4gIC8vIE9ubHkgZGVsZXRlIHRoZSBmZWF0dXJlIGlmIGl0J3MgYWxyZWFkeSBkaXNhYmxlZC5cbiAgfSBlbHNlIGlmICghY29uZmlnRW5hYmxlZChmZWF0dXJlKSkge1xuICAgIGRpc2FibGVkLnNwbGljZShkaXNhYmxlZC5pbmRleE9mKGZlYXR1cmUpLCAxKTtcbiAgfVxufVxuIiwiLy8gRXhjaGFuZ2VzIHN1cHBvcnRlZCBieSBXZWFsdGhzaW1wbGUgVHJhZGVcbi8vICdDQycgaXMgbm90IGFuIGV4Y2hhbmdlOyBpdCBzdGFuZHMgZm9yIENyeXB0byBjdXJyZW5jeSBhbmRcbi8vIGl0IGFsbG93cyB1cyB0byBkaXN0aW5ndWlzaCBpdCBmcm9tIGNvbnZlbnRpb25hbCBzZWN1cml0aWVzLlxuY29uc3QgZXhjaGFuZ2VzID0gWydOQVNEQVEnLCAnTllTRScsICdUU1gnLCAnVFNYLVYnLCAnQUVRVUlUQVMgTkVPIEVYQ0hBTkdFJywgJ0NDJ107XG5cbi8qKlxuICogVGlja2VyIHByb3ZpZGVzIGEgbG9naWNhbCBlbmNhcHN1bGF0aW9uIGZvciB0aGUgYWxsb3dlZCBmb3Jtc1xuICogb2YgYSBzZWN1cml0eSB0aWNrZXIgd2l0aGluIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYXBwbGljYXRpb24uXG4gKlxuICogSXQgcHJvdmlkZXMgdmFsaWRhdGlvbiBvZiB0aGUgZm9ybWF0IG9mIHRoZSB0aWNrZXIsIGFuZCB0aGVcbiAqIHZhbHVlIG9mIHRoZSBleGNoYW5nZSwgaWYgcHJvdmlkZWQuXG4gKlxuICogVGlja2VycyBtYXkgYmUgc3BlY2lmaWVkIGFzIHR3byBkYXRhIHR5cGVzOlxuICpcbiAqIC0gc3RyaW5nOiBUaGUgdGlja2VyIG1heSBiZSBhIHNpbXBsZSBzdHJpbmcgY29udGFpbmluZyB0aGUgc3ltYm9sLCBvciBhIGNvbWJpbmF0aW9uIG9mXG4gKiB0aGUgc3ltYm9sIGFuZCBleGNoYW5nZSBzZXBhcmF0ZWQgYnkgYSBjb2xvbi5cbiAqIC0gb2JqZWN0OiBUaGUgdGlja2VyIG1heSBiZSBhbiBvYmplY3Qgd2l0aCBzeW1ib2wsIGV4Y2hhbmdlLCBvciBpZCBwcm9wZXJ0aWVzLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqIFwiQUFQTFwiXG4gKiBcIlVCRVI6TllTRVwiXG4gKiB7IHN5bWJvbDogXCJBQVBMXCIgfVxuICogeyBzeW1ib2w6IFwiVUJFUlwiLCBleGNoYW5nZTogXCJOWVNFXCIgfVxuICogeyBpZDogXCJzZWMtcy03NmE3MTU1MjQyZTg0Nzc4ODBjYmI0MzI2OTIzNWNiNlwiIH1cbiAqL1xuY2xhc3MgVGlja2VyIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgdGhlIHRpY2tlciBvYmplY3QuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHNlY3VyaXR5IHRpY2tlciB2YWx1ZSwgcHJvdmlkZWQgYXMgYSBzdHJpbmcgb3IgYW4gb2JqZWN0IHdpdGggc3ltYm9sLFxuICAgKiBleGNoYW5nZSwgb3IgaWQuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgIHRoaXMuc3ltYm9sID0gbnVsbDtcbiAgICB0aGlzLmV4Y2hhbmdlID0gbnVsbDtcbiAgICB0aGlzLmlkID0gbnVsbDtcbiAgICB0aGlzLmNyeXB0byA9IGZhbHNlO1xuXG4gICAgaWYgKHR5cGVvZiAodmFsdWUpID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gRW1wdHkgdGlja2VycyBhcmUgbm90IGFsbG93ZWRcbiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbXB0eSB0aWNrZXInKTtcbiAgICAgIH1cblxuICAgICAgW3RoaXMuc3ltYm9sLCB0aGlzLmV4Y2hhbmdlXSA9IHZhbHVlLnNwbGl0KCc6Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFlvdSBuZWVkIGF0IGxlYXN0IGEgc3ltYm9sIG9yIGlkIHRvIGZvcm0gYSB0aWNrZXIuXG4gICAgICBpZiAoIXZhbHVlLnN5bWJvbCAmJiAhdmFsdWUuaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHRpY2tlciAnJHt2YWx1ZX0nYCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3ltYm9sID0gdmFsdWUuc3ltYm9sIHx8IG51bGw7XG4gICAgICB0aGlzLmV4Y2hhbmdlID0gdmFsdWUuZXhjaGFuZ2UgfHwgbnVsbDtcbiAgICAgIHRoaXMuaWQgPSB2YWx1ZS5pZCB8fCBudWxsO1xuICAgIH1cblxuICAgIC8vIFdlYWx0aHNpbXBsZSBUcmFkZSBkb2Vzbid0IGhhdmUgYSBzaG9ydCBleGNoYW5nZSBpZCAoJ05FTycpIGZvclxuICAgIC8vIEFFUVVJVEFTIE5FTyBFWENIQU5HRSBmb3Igc29tZSByZWFzb24uLi5cbiAgICAvLyBXZSBoYXZlIHRvIG1hcCBpdCB0byB0aGUgZnVsbCBuYW1lIGZvciBjb21wYXJpc29ucyB0byB3b3JrLlxuICAgIGlmICh0aGlzLmV4Y2hhbmdlID09PSAnTkVPJykge1xuICAgICAgdGhpcy5leGNoYW5nZSA9ICdBRVFVSVRBUyBORU8gRVhDSEFOR0UnO1xuICAgIH1cblxuICAgIC8vIEd1YXJhbnRlZSB0aGF0IHRoZSBleGNoYW5nZSBpcyB2YWxpZCBpZiBub3QgbnVsbFxuICAgIGlmICh0aGlzLmV4Y2hhbmdlICYmICFleGNoYW5nZXMuaW5jbHVkZXModGhpcy5leGNoYW5nZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBleGNoYW5nZSAnJHt0aGlzLmV4Y2hhbmdlfSchYCk7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSBjcnlwdG8gcHJvcGVydHkgdG8gdHJ1ZSB0byB0cmVhdCB0aGlzIHNlY3VyaXR5IGFzIGNyeXB0b2N1cnJlbmN5XG4gICAgaWYgKHRoaXMuZXhjaGFuZ2UgPT09ICdDQycgfHwgdGhpcy5pZD8uc3RhcnRzV2l0aCgnc2VjLXonKSkge1xuICAgICAgdGhpcy5jcnlwdG8gPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWR1Y2VzIHRoZSB0aWNrZXIgb2JqZWN0IHRvIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICAgKi9cbiAgZm9ybWF0KCkge1xuICAgIGlmICh0aGlzLmlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5pZDtcbiAgICB9XG5cbiAgICAvLyBXZSBtdXN0IHJldHJhbnNsYXRlIHRoZSBmdWxsIG5hbWUgb2YgdGhlIE5FTyBleGNoYW5nZSBiYWNrIHRvIE5FT1xuICAgIGlmICh0aGlzLmV4Y2hhbmdlID09PSAnQUVRVUlUQVMgTkVPIEVYQ0hBTkdFJykge1xuICAgICAgcmV0dXJuIGAke3RoaXMuc3ltYm9sfTpORU9gO1xuICAgIH1cblxuICAgIHJldHVybiBgJHt0aGlzLnN5bWJvbH0ke3RoaXMuZXhjaGFuZ2UgPyBgOiR7dGhpcy5leGNoYW5nZX1gIDogJyd9YDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wYXJlcyBzeW1ib2wgb3IgaWQgd2l0aCBhbm90aGVyIHRpY2tlci4gVGhpcyBpcyB3ZWFrIGJlY2F1c2VcbiAgICogZXhjaGFuZ2UgaXMgbm90IGNvbXBhcmVkIGhlcmUsIGFsbG93aW5nIGZvciBmYWxzZSBwb3NpdGl2ZXNcbiAgICogb2Ygc3ltYm9scyBvbiBkaWZmZXJlbnQgZXhjaGFuZ2VzLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IG90aGVyIFRpY2tlciB0byBjb21wYXJlIHVzIHdpdGhcbiAgICovXG4gIHdlYWtFcXVhbHMob3RoZXIpIHtcbiAgICBpZiAodGhpcy5pZCAmJiB0aGlzLmlkID09PSBvdGhlci5pZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3ltYm9sICYmIHRoaXMuc3ltYm9sID09PSBvdGhlci5zeW1ib2wgJiYgdGhpcy5jcnlwdG8gPT09IG90aGVyLmNyeXB0bykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpY2tlcjtcbiIsIi8qKlxuICogQ29tcHV0ZXMgdGhlIGN1cnJlbnQgdGltZSBpbiBlcG9jaCBzZWNvbmRzLlxuICovXG5jb25zdCBlcG9jaFNlY29uZHMgPSAoKSA9PiBwYXJzZUludChEYXRlLm5vdygpIC8gMTAwMCwgMTApO1xuZXhwb3J0IGRlZmF1bHQgZXBvY2hTZWNvbmRzO1xuIiwiaW1wb3J0IGVwb2NoU2Vjb25kcyBmcm9tICcuLi9oZWxwZXJzL3RpbWUnO1xuXG4vKipcbiAqIFRoaXMgbW9kdWxlIHdpbGwgcHJvdmlkZSBhIHVuaWZvcm0gaW50ZXJmYWNlIGZvciBzdG9yYWdlXG4gKiBhbmQgcmV0cmlldmFsIG9mIGF1dGhlbnRpY2F0b24gdG9rZW5zIHRocm91Z2hvdXQgd3N0cmFkZS1hcGkuXG4gKi9cbmNsYXNzIFRva2VucyB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGF1dGhlbnRpY2F0aW9uIHRva2VucyBvYmplY3QuXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmFjY2VzcyA9IG51bGw7XG4gICAgdGhpcy5yZWZyZXNoID0gbnVsbDtcbiAgICB0aGlzLmV4cGlyZXMgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGF1dGhlbnRpY2F0aW9uIHRva2Vucy5cbiAgICpcbiAgICogQHBhcmFtIHsqfSB0b2tlbnMgVGhlIG5ldyB0b2tlbnNcbiAgICovXG4gIHN0b3JlKHRva2Vucykge1xuICAgIHRoaXMuYWNjZXNzID0gdG9rZW5zLmFjY2VzcztcbiAgICB0aGlzLnJlZnJlc2ggPSB0b2tlbnMucmVmcmVzaDtcbiAgICB0aGlzLmV4cGlyZXMgPSB0b2tlbnMuZXhwaXJlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGN1cnJlbnQgdG9rZW5zIGhhdmUgZXhwaXJlZC5cbiAgICovXG4gIGV4cGlyZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXhwaXJlcyAmJiBlcG9jaFNlY29uZHMoKSA+PSB0aGlzLmV4cGlyZXM7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVG9rZW5zO1xuIiwiaW1wb3J0IEFQSUNhY2hlIGZyb20gJy4uL2NvcmUvY2FjaGUnO1xuaW1wb3J0IFRpY2tlciBmcm9tICcuLi9jb3JlL3RpY2tlcic7XG5cbmNvbnN0IGNhY2hlID0gbmV3IEFQSUNhY2hlKDEwKTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICAvKipcbiAgICAgKiBRdWVyeSB0aGUgY2FjaGUgZm9yIHRoZSBzZWN1cml0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gc2VjdXJpdHlcbiAgICAgKi9cbiAgZ2V0KHNlY3VyaXR5KSB7XG4gICAgLy8gTXVzdCBkaWdlc3QgdGhlIHNlY3VyaXR5IGludG8gdGhlIHN0YW5kYXJkIGZvcm1hdFxuICAgIGNvbnN0IHJlc3VsdCA9IGNhY2hlLmdldChuZXcgVGlja2VyKHNlY3VyaXR5KS5mb3JtYXQoKSk7XG5cbiAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG5cbiAgLyoqXG4gICAgICogUmVtZW1iZXIgdGhlIHNlY3VyaXR5IGZvciBhIGZ1dHVyZSBxdWljayByZXRyaWV2YWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IGtleVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICAgKi9cbiAgaW5zZXJ0KGtleSwgdmFsdWUpIHtcbiAgICBjYWNoZS5pbnNlcnQobmV3IFRpY2tlcihrZXkpLmZvcm1hdCgpLCB2YWx1ZSk7XG4gIH0sXG59O1xuIiwiLypcbiAqIEFQSUNhY2hlIGlzIGFuIGludGVybmFsIGVmZm9ydCB0byBtaW5pbWl6ZSB1bm5lY2Vzc2FyeSBBUEkgY2FsbHMgd2hlcmVcbiAqIHBvc3NpYmxlLiBBIHNwZWNpZmljIHVzZWNhc2Ugd2hlcmUgYSBjYWNoZSBpcyB1c2VmdWwgaXMgZmlndXJpbmcgb3V0IHRoZVxuICogZXhjaGFuZ2UgYSBzZWN1cml0eSBiZWxvbmdzIHRvLiBBIGNhY2hlIHdvdWxkIGFsbG93IHVzIHRvIG1lbW9yaXplXG4gKiB0aGlzIHN0YXRpYyBkYXRhIGZvciBhIHBlcmlvZCBvZiB0aW1lIHRvIGF2b2lkIHVubmVjZXNzYXJ5IEFQSSBjYWxscy5cbiAqXG4gKiBUaGUgY2xhc3MgZW5jYXBzdWxhdGVzIHRoZSBmb2xsb3dpbmcgY2FjaGUgYmVoYXZpb3VyOlxuICogLSBBIG1heGltdW0gZW50cmllcyBwcm92aWRlZCBhcyBhIGNvbnN0cnVjdG9yIGFyZ3VtZW50XG4gKiAtIEZpcnN0IGluLCBGaXJzdCBvdXQgKEZJRk8pIG1vZGVsXG4gKlxuICogVGhlIGludGVybmVsIGRhdGEgc3RydWN0dXJlIGlzIGEgSGFzaFNldCwgc28gbG9va3VwIHRpbWUgY29zdCBpcyBmYWlybHlcbiAqIG1pbmltYWwuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFQSUNhY2hlIHtcbiAgY29uc3RydWN0b3Ioc2l6ZSkge1xuICAgIHRoaXMuY2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgfVxuXG4gIC8qKlxuICAgICAqIFN0b3JlIHRoZSBrZXktdmFsdWUgcGFpciBpbnRvIHRoaXMgY2FjaGUuIFRoZSBvbGRlc3QgZW50cnkgaXMgZXZpY3RlZCBpZlxuICAgICAqIHdlJ3JlIG91dCBvZiBzcGFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0ga2V5XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqL1xuICBpbnNlcnQoa2V5LCB2YWx1ZSkge1xuICAgIGlmICh0aGlzLmNhY2hlLnNpemUgPj0gdGhpcy5zaXplKSB7XG4gICAgICB0aGlzLmNhY2hlLmRlbGV0ZSh0aGlzLmNhY2hlLmtleXMoKS5uZXh0KCkudmFsdWUpO1xuICAgIH1cblxuICAgIHRoaXMuY2FjaGUuc2V0KGtleSwgdmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAgICogUmV0cmlldmUgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IGFzc29jaWF0ZWQgd2l0aCB0aGUga2V5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBrZXlcbiAgICAgKi9cbiAgZ2V0KGtleSkge1xuICAgIHJldHVybiB0aGlzLmNhY2hlLmdldChrZXkpO1xuICB9XG59XG4iLCJpbXBvcnQgZW5kcG9pbnRzIGZyb20gJy4vYXBpL2VuZHBvaW50cyc7XG5pbXBvcnQgVGlja2VyIGZyb20gJy4vY29yZS90aWNrZXInO1xuaW1wb3J0IHsgY29uZmlnRW5hYmxlZCB9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCBjYWNoZSBmcm9tICcuL29wdGlvbmFsL3NlY3VyaXRpZXMtY2FjaGUnO1xuXG5jbGFzcyBEYXRhIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgRGF0YSBwYmplY3QgYXNzb2NpYXRlZCB3aXRoIHRoZSBnaXZlbiBIVFRQUyB3b3JrZXIgc3RhdGUuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gaHR0cHNXb3JrZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yKGh0dHBzV29ya2VyKSB7XG4gICAgdGhpcy53b3JrZXIgPSBodHRwc1dvcmtlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNuYXBzaG90IG9mIHRoZSBjdXJyZW50IFVTRC9DQUQgZXhjaGFuZ2UgcmF0ZXMgb24gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZVxuICAgKiBwbGF0Zm9ybS5cbiAgICovXG4gIGFzeW5jIGV4Y2hhbmdlUmF0ZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMud29ya2VyLmhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLkVYQ0hBTkdFX1JBVEVTLCB7fSk7XG4gIH1cblxuICAvKipcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgYSBzZWN1cml0eSBvbiB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIFBsYXRmb3JtLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHVzZXJUaWNrZXIgVGhlIHNlY3VyaXR5IGlkXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZXh0ZW5zaXZlIFB1bGxzIGEgbW9yZSBkZXRhaWxlZCByZXBvcnQgb2YgdGhlIHNlY3VyaXR5IHVzaW5nIHRoZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvc2VjdXJpdGllcy97aWR9IEFQSVxuICAgKi9cbiAgYXN5bmMgZ2V0U2VjdXJpdHkodXNlclRpY2tlciwgZXh0ZW5zaXZlKSB7XG4gICAgbGV0IHJlc3VsdCA9IG51bGw7XG5cbiAgICAvLyBSdW4gc29tZSB2YWxpZGF0aW9uIG9uIHRoZSB0aWNrZXJcbiAgICBjb25zdCB0aWNrZXIgPSBuZXcgVGlja2VyKHVzZXJUaWNrZXIpO1xuXG4gICAgaWYgKCFleHRlbnNpdmUgJiYgY29uZmlnRW5hYmxlZCgnc2VjdXJpdGllc19jYWNoZScpKSB7XG4gICAgICByZXN1bHQgPSBjYWNoZS5nZXQodGlja2VyKTtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGlja2VyLmlkKSB7XG4gICAgICAvLyBXZSB3aWxsIGltbWVkaWF0ZWx5IGNhbGwgdGhlIGV4dGVuc2l2ZSBkZXRhaWxzIEFQSSBzaW5jZSB3ZSBoYXZlIHRoZSB1bmlxdWUgaWQuXG4gICAgICByZXN1bHQgPSBhd2FpdCB0aGlzLndvcmtlci5oYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5FWFRFTlNJVkVfU0VDVVJJVFlfREVUQUlMUywge1xuICAgICAgICBpZDogdGlja2VyLmlkLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IGF3YWl0IHRoaXMud29ya2VyLmhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLlNFQ1VSSVRZLCB7IHRpY2tlcjogdGlja2VyLnN5bWJvbCB9KTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5maWx0ZXIoKHNlY3VyaXR5KSA9PiBzZWN1cml0eS5zdG9jay5zeW1ib2wgPT09IHRpY2tlci5zeW1ib2wpO1xuXG4gICAgICBpZiAodGlja2VyLmNyeXB0bykge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQuZmlsdGVyKChzZWN1cml0eSkgPT4gc2VjdXJpdHkuc2VjdXJpdHlfdHlwZSA9PT0gJ2NyeXB0b2N1cnJlbmN5Jyk7XG4gICAgICB9IGVsc2UgaWYgKHRpY2tlci5leGNoYW5nZSkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQuZmlsdGVyKChzZWN1cml0eSkgPT4gc2VjdXJpdHkuc3RvY2sucHJpbWFyeV9leGNoYW5nZSA9PT0gdGlja2VyLmV4Y2hhbmdlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTXVsdGlwbGUgc2VjdXJpdGllcyBtYXRjaGVkIHF1ZXJ5LicpO1xuICAgICAgfSBpZiAocmVzdWx0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHNlY3VyaXRpZXMgbWF0Y2hlZCBxdWVyeS4nKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29udmVydCByZXN1bHQgZnJvbSBhIHNpbmdsZXRvbiBsaXN0IHRvIGl0cyByYXcgZW50cnlcbiAgICAgIFtyZXN1bHRdID0gcmVzdWx0O1xuXG4gICAgICBpZiAoZXh0ZW5zaXZlKSB7XG4gICAgICAgIC8vIFRoZSBjYWxsZXIgaGFzIG9wdGVkIHRvIHJlY2VpdmUgdGhlIGV4dGVuc2l2ZSBkZXRhaWxzIGFib3V0IHRoZSBzZWN1cml0eS5cbiAgICAgICAgcmVzdWx0ID0gYXdhaXQgdGhpcy53b3JrZXIuaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuRVhURU5TSVZFX1NFQ1VSSVRZX0RFVEFJTFMsIHtcbiAgICAgICAgICBpZDogcmVzdWx0LmlkLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29uZmlnRW5hYmxlZCgnc2VjdXJpdGllc19jYWNoZScpICYmIGNhY2hlLmdldCh0aWNrZXIpID09PSBudWxsKSB7XG4gICAgICBjYWNoZS5pbnNlcnQodGlja2VyLCByZXN1bHQpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGF0YTtcbiIsImltcG9ydCB7IEhlYWRlcnMgfSBmcm9tICdub2RlLWZldGNoJztcblxuY29uc3QgY3VzdG9tSGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAvKipcbiAgICogQXBwZW5kcyBhIGhlYWRlciBuYW1lLXZhbHVlIHBhaXIgdG8gYWxsIHJlcXVlc3RzLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IG5hbWUgSGVhZGVyIGtleVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIEhlYWRlciB2YWx1ZVxuICAgKi9cbiAgYWRkOiAobmFtZSwgdmFsdWUpID0+IGN1c3RvbUhlYWRlcnMuYXBwZW5kKG5hbWUsIHZhbHVlKSxcblxuICAvKipcbiAgICogUmVtb3ZlcyBhIGN1c3RvbSBoZWFkZXIgZnJvbSBhbGwgcmVxdWVzdHMuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gbmFtZSBIZWFkZXIga2V5XG4gICAqL1xuICByZW1vdmU6IChuYW1lKSA9PiBjdXN0b21IZWFkZXJzLmRlbGV0ZShuYW1lKSxcblxuICAvKipcbiAgICogQ2xlYXJzIGFsbCBjdXN0b20gaGVhZGVycy5cbiAgICovXG4gIGNsZWFyOiAoKSA9PiBbLi4uY3VzdG9tSGVhZGVyc10uZm9yRWFjaCgoaGVhZGVyKSA9PiBjdXN0b21IZWFkZXJzLmRlbGV0ZShoZWFkZXJbMF0pKSxcblxuICAvKipcbiAgICogUHJvZHVjZXMgYSBsaXN0IG9mIGN1c3RvbSBoZWFkZXJzLlxuICAgKi9cbiAgdmFsdWVzOiAoKSA9PiBbLi4uY3VzdG9tSGVhZGVyc10sXG59O1xuIiwicmVxdWlyZSgnc291cmNlLW1hcC1zdXBwb3J0JykuaW5zdGFsbCgpO1xuXG5jb25zdCBBdXRoZW50aWNhdGlvbiA9IHJlcXVpcmUoJy4vYXV0aCcpLmRlZmF1bHQ7XG5jb25zdCBoZWFkZXJzID0gcmVxdWlyZSgnLi9oZWFkZXJzJykuZGVmYXVsdDtcbmNvbnN0IEFjY291bnRzID0gcmVxdWlyZSgnLi9hY2NvdW50cycpLmRlZmF1bHQ7XG5jb25zdCBPcmRlcnMgPSByZXF1aXJlKCcuL29yZGVycycpLmRlZmF1bHQ7XG5jb25zdCBEYXRhID0gcmVxdWlyZSgnLi9kYXRhJykuZGVmYXVsdDtcbmNvbnN0IFF1b3RlcyA9IHJlcXVpcmUoJy4vcXVvdGVzJykuZGVmYXVsdDtcbmNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoJy4vY29uZmlnJykuZGVmYXVsdDtcblxuY29uc3QgVG9rZW5zID0gcmVxdWlyZSgnLi9jb3JlL3Rva2VucycpLmRlZmF1bHQ7XG5jb25zdCBIdHRwc1dvcmtlciA9IHJlcXVpcmUoJy4vbmV0d29yay9odHRwcycpLmRlZmF1bHQ7XG5cbi8qKlxuICogQnVpbGRzIGEgbmV3IFRyYWRlIHNlc3Npb24gd2l0aCBhbiBpbmRlcGVuZGVudCBhdXRoZW50aWNhdGlvblxuICogc3RhdGUsIGZhY2lsaXRhdGluZyBjb25jdXJyZW50IHVzYWdlIG9mIHRoZSBUcmFkZSBBUElzLlxuICpcbiAqIFRoZSBoZWFkZXJzIGFuZCBjb25maWcgbW9kdWxlLCBob3dldmVyLCBpcyBtdXR1YWxseSBzaGFyZWQgYmV0d2VlblxuICogYWxsIHNlc3Npb25zLlxuICovXG5jb25zdCBTZXNzaW9uID0gKCkgPT4ge1xuICBjb25zdCBhdXRoVG9rZW5zID0gbmV3IFRva2VucygpO1xuICBjb25zdCB3b3JrZXIgPSBuZXcgSHR0cHNXb3JrZXIoYXV0aFRva2Vucyk7XG4gIGNvbnN0IGRhdGEgPSBuZXcgRGF0YSh3b3JrZXIpO1xuXG4gIHJldHVybiB7XG4gICAgYXV0aDogbmV3IEF1dGhlbnRpY2F0aW9uKGF1dGhUb2tlbnMsIHdvcmtlciksXG4gICAgaGVhZGVycyxcbiAgICBhY2NvdW50czogbmV3IEFjY291bnRzKHdvcmtlciksXG4gICAgb3JkZXJzOiBuZXcgT3JkZXJzKHdvcmtlciwgZGF0YSksXG4gICAgcXVvdGVzOiBuZXcgUXVvdGVzKHdvcmtlciwgZGF0YSksXG4gICAgZGF0YSxcbiAgICBjb25maWcsXG4gIH07XG59O1xuXG4vLyBXZSBuZWVkIGEgZGVmYXVsdCBzZXNzaW9uIGV4cG9ydGVkIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSByZWFzb25zLFxuLy8gYnV0IGFsc28gYmVjYXVzZSBub3QgZXZlcnlvbmUgY2FyZXMgYWJvdXQgY29uY3VycmVudCB1c2FnZXMuXG5jb25zdCBkZWZhdWx0U2Vzc2lvbiA9IG5ldyBTZXNzaW9uKCk7XG4vLyBBbGxvdyB0aGUgY3JlYXRpb24gb2YgbXVsdGlwbGUgc2Vzc2lvbnMgdGhyb3VnaCBhIFNlc3Npb24oKSBjb25zdHJ1Y3RvclxuZGVmYXVsdFNlc3Npb24uU2Vzc2lvbiA9ICgpID0+IG5ldyBTZXNzaW9uKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZGVmYXVsdFNlc3Npb247XG4iLCJpbXBvcnQgY2xvdWRzY3JhcGVyIGZyb20gJ2Nsb3Vkc2NyYXBlcic7XG5pbXBvcnQgY3VzdG9tSGVhZGVycyBmcm9tICcuLi9oZWFkZXJzJztcbmltcG9ydCBlbmRwb2ludHMgZnJvbSAnLi4vYXBpL2VuZHBvaW50cyc7XG5pbXBvcnQgeyBjb25maWdFbmFibGVkIH0gZnJvbSAnLi4vY29uZmlnJztcblxuY29uc3QgW0hUVFBfT0ssIEhUVFBfQ1JFQVRFRF0gPSBbMjAwLCAyMDFdO1xuXG4vKlxuICogQ29tcGxldGUgdGhlIFVSTCBieSBmaWxsaW5nIHRoZSBwYXJhbWV0ZXIgcGxhY2Vob2xkZXJzIHdpdGggdGhlXG4gKiBkYXRhIGFyZ3VtZW50cy5cbiAqL1xuZnVuY3Rpb24gZmluYWxpemVSZXF1ZXN0KGVuZHBvaW50LCBkYXRhKSB7XG4gIC8vIE1ha2UgYSBjb3B5IHNvIHdlIGRvbid0IG1vZGlmeSB0aGUgb3JpZ2luYWwgb25lLlxuICBjb25zdCBwYXJhbXMgPSB7IC4uLmRhdGEgfTtcbiAgbGV0IHsgdXJsIH0gPSBlbmRwb2ludDtcblxuICAvLyBObyBuZWVkIHRvIGRvIGFueXRoaW5nIGlmIHRoZSBVUkwgaXMgc3RhdGljIChubyBwYXJhbWV0ZXJzKVxuICBpZiAoZW5kcG9pbnQucGFyYW1ldGVycykge1xuICAgIC8vIFN3YXAgYWxsIHRoZSBwYXJhbWV0ZXIgcGxhY2Vob2xkZXJzIHdpdGggdGhlIGFyZ3VtZW50cy5cbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgT2JqZWN0LmtleXMoZW5kcG9pbnQucGFyYW1ldGVycykubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBjb25zdCBwYXJhbWV0ZXJOYW1lID0gZW5kcG9pbnQucGFyYW1ldGVyc1tpbmRleF07XG5cbiAgICAgIC8vIHdlIGhhdmUgdG8gZXhwbGljaXRseSBjaGVjayBmb3IgbnVsbCBhbmQgdW5kZWZpbmVkIHNpbmNlIHBhcmFtZXRlclxuICAgICAgLy8gdmFsdWVzIG1pZ2h0IGJlIDAuXG4gICAgICBpZiAocGFyYW1zW3BhcmFtZXRlck5hbWVdID09PSBudWxsIHx8IHBhcmFtc1twYXJhbWV0ZXJOYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVVJMIHBhcmFtZXRlciAnJHtwYXJhbWV0ZXJOYW1lfScgbWlzc2luZyFgKTtcbiAgICAgIH1cblxuICAgICAgLypcbiAgICAgICAgKiBQYXJhbWV0ZXJzIHN1cnJvdW5kZWQgd2l0aCBjdXJseSBicmFjZXMgKGUuZy4sIHsyfSkgYXJlIHNpbXBsZSB2YWx1ZSByZXBsYWNlbWVudHMsXG4gICAgICAgICogd2hpbGUgb25lcyBzdXJyb3VuZGVkIHdpdGggc3F1YXJlIGJyYWNrZXRzIChlLmcuLCBbMV0pIGFyZSBhcnJheS12YWx1ZSByZXBsYWNlbWVudHMuXG4gICAgICAgICovXG4gICAgICBpZiAodXJsLmluZGV4T2YoYHske2luZGV4fX1gKSA+PSAwKSB7XG4gICAgICAgIHVybCA9IHVybC5yZXBsYWNlKGB7JHtpbmRleH19YCwgcGFyYW1zW2VuZHBvaW50LnBhcmFtZXRlcnNbaW5kZXhdXSk7XG4gICAgICB9IGVsc2UgaWYgKHVybC5pbmRleE9mKGBbJHtpbmRleH1dYCkgPj0gMCkge1xuICAgICAgICAvLyBleHRyYWN0IHF1ZXJ5IHBhcmFtZXRlciBuYW1lIGFuZCB0aGUgYXJyYXkgb2YgdmFsdWVzXG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1OYW1lID0gZW5kcG9pbnQucGFyYW1ldGVyc1tpbmRleF07XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IHBhcmFtc1txdWVyeVBhcmFtTmFtZV07XG5cbiAgICAgICAgLy8gQ29uc3RydWN0IHRoZSBxdWVyeVBhcmFtIHVzaW5nIGV2ZXJ5IHZhbHVlIGluIHRoZSB2YWx1ZXMgYXJyYXkuXG4gICAgICAgIC8vIEhlcmUgaXMgYW4gZXhhbXBsZSBvZiB3aGF0IHF1ZXJ5UGFyYW0gZW5kcyB1cCBiZWluZzpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gcXVlcnlQYXJhbU5hbWUgPSAndHlwZSdcbiAgICAgICAgLy8gdmFsdWVzID0gWydidXknLCAnc2VsbCcsICdkaXZpZGVuZCddXG4gICAgICAgIC8vIHF1ZXJ5UGFyYW0gPSAndHlwZT1idXkmdHlwZT1zZWxsJnR5cGU9ZGl2aWRlbmQnXG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW0gPSB2YWx1ZXMubWFwKCh2YWx1ZSkgPT4gYCR7cXVlcnlQYXJhbU5hbWV9PSR7dmFsdWV9YCkuam9pbignJicpO1xuXG4gICAgICAgIHVybCA9IHVybC5yZXBsYWNlKGBbJHtpbmRleH1dYCwgcXVlcnlQYXJhbSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01hbGZvcm1lZCBVUkwhIFRoaXMgaXMgYW4gaW50ZXJuYWwgZXJyb3I6IHJhaXNlIGFuIGlzc3VlIScpO1xuICAgICAgfVxuXG4gICAgICAvLyBNdXN0IHJlbW92ZSB0aGlzIGtleSBmcm9tIHRoZSBwYXlsb2FkIGFzIGl0IGhhcyBiZWVuIGNvbnN1bWVkIGJ5IHRoZSBVUkxcbiAgICAgIGRlbGV0ZSBwYXJhbXNbZW5kcG9pbnQucGFyYW1ldGVyc1tpbmRleF1dO1xuICAgIH1cbiAgfVxuXG4gIC8vIE5vIHBheWxvYWQgYXR0YWNoZWQgdG8gR0VUL0RFTEVURSByZXF1ZXN0c1xuICBpZiAoWydHRVQnLCAnSEVBRCddLmluY2x1ZGVzKGVuZHBvaW50Lm1ldGhvZCkpIHtcbiAgICByZXR1cm4geyB1cmwsIHBheWxvYWQ6IHVuZGVmaW5lZCB9O1xuICB9XG5cbiAgcmV0dXJuIHsgdXJsLCBwYXlsb2FkOiBKU09OLnN0cmluZ2lmeShwYXJhbXMpIH07XG59XG5cbmNsYXNzIEh0dHBzV29ya2VyIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBIdHRwc1dvcmtlciBhc3NvY2lhdGVkIHdpdGggcHJvdmlkZWQgYXV0aGVudGljYXRpb24gdG9rZW5zLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHRva2Vuc1xuICAgKi9cbiAgY29uc3RydWN0b3IodG9rZW5zKSB7XG4gICAgdGhpcy50b2tlbnMgPSB0b2tlbnM7XG4gIH1cblxuICAvKlxuICAgKiBJbXBsZW1lbnRzIHRoZSBuZXR3b3JrIGxldmVsIHByb3RvY29sIGZvciB0YWxraW5nIHRvIHRoZVxuICAgKiBXZWFsdGhzaW1wbGUgVHJhZGUgSFRUUFMgQVBJLlxuICAgKi9cbiAgYXN5bmMgdGFsayhlbmRwb2ludCwgZGF0YSkge1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7ICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfTtcblxuICAgIGlmIChlbmRwb2ludC5hdXRoZW50aWNhdGVkKSB7XG4gICAgICAvLyBubyBhY2Nlc3MgdG9rZW4gbWVhbnMgd2Ugd2lsbCBwcmVtYXR1cmVseSBmYWlsIHRoZSByZXF1ZXN0IGJlY2F1c2VcbiAgICAgIC8vIHRoaXMgaXMgYSBwcml2aWxlZ2VkIGVuZHBvaW50LlxuICAgICAgaWYgKCF0aGlzLnRva2Vucy5hY2Nlc3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBdXRoZW50aWNhdGlvbiByZXF1aXJlZCBmb3IgJyR7ZW5kcG9pbnQudXJsfSdgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvbmZpZ0VuYWJsZWQoJ2ltcGxpY2l0X3Rva2VuX3JlZnJlc2gnKSkge1xuICAgICAgICBhd2FpdCB0aGlzLmltcGxpY2l0VG9rZW5SZWZyZXNoKCk7XG4gICAgICB9XG5cbiAgICAgIGhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IHRoaXMudG9rZW5zLmFjY2VzcztcbiAgICB9XG5cbiAgICAvLyBBcHBseSBhbGwgY3VzdG9tIGhlYWRlcnNcbiAgICBjdXN0b21IZWFkZXJzLnZhbHVlcygpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4geyBoZWFkZXJzW2tleV0gPSB2YWx1ZTsgfSk7XG5cbiAgICAvLyBmaWxsIHBhdGggYW5kIHF1ZXJ5IHBhcmFtZXRlcnMgaW4gdGhlIFVSTFxuICAgIGNvbnN0IHsgdXJsLCBwYXlsb2FkIH0gPSBmaW5hbGl6ZVJlcXVlc3QoZW5kcG9pbnQsIGRhdGEpO1xuXG4gICAgLy8gV2VhbHRoc2ltcGxlIGVuZHBvaW50cyBhcmUgcHJvdGVjdGVkIGJ5IENsb3VkZmxhcmUuXG4gICAgLy8gVGhlIGNsb3Vkc2NyYXBlciBsaWJyYXJ5IHRha2VzIGNhcmUgb2YgdGhlIENsb3VkZmxhcmUgY2hhbGxlbmdlc1xuICAgIC8vIHdoaWxlIGFsc28gZXhlY3V0aW5nIG91ciByZXF1ZXN0XG4gICAgbGV0IHJlc3BvbnNlID0gbnVsbDtcbiAgICBhd2FpdCBjbG91ZHNjcmFwZXIoe1xuICAgICAgdXJsLFxuICAgICAgYm9keTogcGF5bG9hZCxcbiAgICAgIG1ldGhvZDogZW5kcG9pbnQubWV0aG9kLFxuICAgICAgaGVhZGVycyxcbiAgICAgIGNhbGxiYWNrOiAodW51c2VkLCByZXMpID0+IHtcbiAgICAgICAgLy8gU2F2ZSB0aGUgSFRUUCByZXNwb25zZVxuICAgICAgICByZXNwb25zZSA9IHJlcztcbiAgICAgIH0sXG4gICAgfSkuY2F0Y2goKCkgPT4geyB9KTtcblxuICAgIHRyeSB7XG4gICAgICByZXNwb25zZS5ib2R5ID0gSlNPTi5wYXJzZShyZXNwb25zZS5ib2R5KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gaXQncyBub3QgSlNPTiwgYnV0IHRoYXQncyBmaW5lLiBXZSBkb24ndCBkbyBhbnl0aGluZ1xuICAgICAgLy8gZm9yIG5vdy5cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvKlxuICAgKiBGdWxmaWxsIHRoZSBlbmRwb2ludCByZXF1ZXN0IGdpdmVuIHRoZSBlbmRwb2ludCBjb25maWd1cmF0aW9uLCBvcHRpb25hbFxuICAgKiBkYXRhLlxuICAgKi9cbiAgYXN5bmMgaGFuZGxlUmVxdWVzdChlbmRwb2ludCwgZGF0YSkge1xuICAgIC8vIFN1Ym1pdCB0aGUgSFRUUCByZXF1ZXN0IHRvIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgU2VydmVyc1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy50YWxrKGVuZHBvaW50LCBkYXRhKTtcblxuICAgIGlmIChbSFRUUF9PSywgSFRUUF9DUkVBVEVEXS5pbmNsdWRlcyhyZXNwb25zZS5zdGF0dXNDb2RlKSkge1xuICAgICAgcmV0dXJuIGVuZHBvaW50Lm9uU3VjY2VzcyhyZXNwb25zZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGF3YWl0IGVuZHBvaW50Lm9uRmFpbHVyZShyZXNwb25zZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIE9idGFpbiBhIG5ldyBzZXQgb2YgYXV0aGVudGljYXRpb24gdG9rZW5zIHVzaW5nIHRoZVxuICAgKiBleGlzdGluZyByZWZyZXNoIHRva2VuLlxuICAgKi9cbiAgYXN5bmMgcmVmcmVzaEF1dGhlbnRpY2F0aW9uKCkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5oYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5SRUZSRVNILCB7XG4gICAgICByZWZyZXNoX3Rva2VuOiB0aGlzLnRva2Vucy5yZWZyZXNoLFxuICAgIH0pO1xuXG4gICAgdGhpcy50b2tlbnMuc3RvcmUocmVzcG9uc2UudG9rZW5zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgZXhpc3Rpbmcgc2V0IG9mIHRva2VucyBoYXZlIGV4cGlyZWQsIGF1dG9tYXRpY2FsbHlcbiAgICogdHJpZ2dlcmluZyBhIHJlZnJlc2ggaWYgdGhleSBoYXZlIGV4cGlyZWQuXG4gICAqL1xuICBhc3luYyBpbXBsaWNpdFRva2VuUmVmcmVzaCgpIHtcbiAgICBpZiAodGhpcy50b2tlbnMuZXhwaXJlZCgpKSB7XG4gICAgICBpZiAodGhpcy50b2tlbnMucmVmcmVzaCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIExldCdzIGltcGxpY2l0bHkgcmVmcmVzaCB0aGUgYWNjZXNzIHRva2VuIHVzaW5nIHRoZSByZWZyZXNoIHRva2VuLlxuICAgICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaEF1dGhlbnRpY2F0aW9uKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgLy8gVGhlIHJlZnJlc2ggdG9rZW4gaXMgbm90IHZhbGlkLlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIHJlZnJlc2ggZXhwaXJlZCB0b2tlbjogJHtlcnJvcn1gKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gV2UgYXJlIGZvcmNlZCB0byByZWplY3QgYXMgb3VyIGFjY2VzcyB0b2tlbiBoYXMgZXhwaXJlZCBhbmQgd2VcbiAgICAgICAgLy8gZG8gbm90IGhhdmUgYSByZWZyZXNoIHRva2VuLlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjY2VzcyB0b2tlbiBleHBpcmVkJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEh0dHBzV29ya2VyO1xuIiwiaW1wb3J0IGVuZHBvaW50cyBmcm9tICcuL2FwaS9lbmRwb2ludHMnO1xuaW1wb3J0IFRpY2tlciBmcm9tICcuL2NvcmUvdGlja2VyJztcblxuLy8gVGhlIG1heGltdW0gbnVtYmVyIG9mIG9yZGVycyByZXRyaWV2ZWQgYnkgdGhlIC9vcmRlcnMgQVBJLlxuY29uc3QgT1JERVJTX1BFUl9QQUdFID0gMjA7XG5cbmNvbnN0IGlzQ2FuYWRpYW5TZWN1cml0eSA9IChleGNoYW5nZSkgPT4gWydUU1gnLCAnVFNYLVYnXS5pbmNsdWRlcyhleGNoYW5nZSk7XG5cbi8qXG4gKiBSZXRyaWV2ZSBmaWx0ZXJlZCBvcmRlcnMgYnkgdGlja2VyIGFuZCBzdGF0dXMuXG4gKi9cbmZ1bmN0aW9uIGZpbHRlcmVkT3JkZXJzKGxpc3QsIHRpY2tlciwgc3RhdHVzKSB7XG4gIGNvbnN0IG9yZGVyRmlsdGVyID0gKG9yZGVyKSA9PiB7XG4gICAgaWYgKHRpY2tlcikge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gbmV3IFRpY2tlcih7IHN5bWJvbDogb3JkZXIuc3ltYm9sLCBpZDogb3JkZXIuc2VjdXJpdHlfaWQgfSk7XG4gICAgICAvLyBvcmRlciBvYmplY3RzIGRvbid0IGluY2x1ZGUgZXhjaGFuZ2VzLCBzbyB3ZSBhcmUgdW5hYmxlIHRvIG1ha2VcbiAgICAgIC8vIGEgc3Ryb25nIGNvbXBhcmlzb24gd2l0aG91dCByZXF1aXJpbmcgYSBsaW5lYXIgaW5jcmVhc2Ugb2ZcbiAgICAgIC8vIGVuZHBvaW50IGNhbGxzICh3aGljaCBpcyBub3QgcmVhc29uYWJsZSkuXG4gICAgICAvL1xuICAgICAgLy8gVGhlIHVzZXIgc2hvdWxkIHByb3ZpZGUgdGhlIHNlY3VyaXR5IGlkIGZvciBhIHN0cm9uZyBjb21wYXJpc29uIGhlcmUuXG4gICAgICBpZiAoIW5ldyBUaWNrZXIodGlja2VyKS53ZWFrRXF1YWxzKHRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvcmRlci5zdGF0dXMgPT09IHN0YXR1cztcbiAgfTtcblxuICAvLyBBcHBseSBmaWx0ZXIgdG8gdGhlIHJlc3VsdFxuICBjb25zdCBmaWx0ZXJlZCA9IGxpc3Qub3JkZXJzLmZpbHRlcihvcmRlckZpbHRlcik7XG5cbiAgcmV0dXJuIHtcbiAgICBvcmRlcnM6IGZpbHRlcmVkLFxuICAgIHRvdGFsOiBmaWx0ZXJlZC5sZW5ndGgsXG4gIH07XG59XG5cbmNsYXNzIE9yZGVycyB7XG4gIC8qKlxuICAgKiBDcmVhdGV3IGEgbmV3IE9yZGVySGlzdG9yeSBvYmplY3QgYXNzb2NpYXRlZCB3aXRoIGFuIEhUVFBTIHdvcmtlciBzdGF0ZS5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBodHRwc1dvcmtlclxuICAgKi9cbiAgY29uc3RydWN0b3IoaHR0cHNXb3JrZXIsIGRhdGEpIHtcbiAgICB0aGlzLndvcmtlciA9IGh0dHBzV29ya2VyO1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gIH1cblxuICAvKipcbiAgICogQ29sbGVjdHMgb3JkZXJzIChmaWxsZWQsIHBlbmRpbmcsIGNhbmNlbGxlZCkgZm9yIHRoZSBwcm92aWRlZCBwYWdlIGFuZFxuICAgKiBhY2NvdW50IGlkLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgc3BlY2lmaWMgYWNjb3VudCBpbiB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnRcbiAgICogQHBhcmFtIHsqfSBwYWdlTnVtIFRoZSBvcmRlcnMgcGFnZSBpbmRleCB0byBzZWVrIHRvXG4gICAqL1xuICBhc3luYyBwYWdlKGFjY291bnRJZCwgcGFnZU51bSkge1xuICAgIHJldHVybiB0aGlzLndvcmtlci5oYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5PUkRFUlNfQllfUEFHRSwge1xuICAgICAgb2Zmc2V0OiAocGFnZU51bSAtIDEpICogT1JERVJTX1BFUl9QQUdFLFxuICAgICAgYWNjb3VudElkLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbGxlY3RzIGFsbCBvcmRlcnMgKGZpbGxlZCwgcGVuZGluZywgY2FuY2VsbGVkKSBmb3IgdGhlIHNwZWNpZmljIGFjY291bnQuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gYWNjb3VudElkIFRoZSBzcGVjaWZpYyBhY2NvdW50IGluIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudFxuICAgKi9cbiAgYXN5bmMgYWxsKGFjY291bnRJZCkge1xuICAgIC8vIFdlIHN0YXJ0IGJ5IGNhcHR1cmluZyB0aGUgZmlyc3QgcGFnZSBvZiBvcmRlcnMgaW4gb3JkZXIgdG9cbiAgICAvLyBkZXRlcm1pbmUgdGhlIG51bWJlciBvZiBwYWdlcyBhdmFpbGFibGVcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5wYWdlKGFjY291bnRJZCwgMSk7XG4gICAgY29uc3QgcGFnZXMgPSBNYXRoLmNlaWwoZGF0YS50b3RhbCAvIE9SREVSU19QRVJfUEFHRSk7XG5cbiAgICBpZiAocGFnZXMgPiAxKSB7XG4gICAgICBjb25zdCB0YXNrcyA9IFtdO1xuXG4gICAgICAvLyBCdWlsZCB0aGUgdGFzayBxdWV1ZSB0aGF0IHdpbGwgcmV0cmlldmUgdGhlIHJlbWFpbmluZyBwYWdlcyBvZiBvcmRlcnNcbiAgICAgIGZvciAobGV0IHBhZ2VOdW0gPSAyOyBwYWdlTnVtIDw9IHBhZ2VzOyBwYWdlTnVtKyspIHtcbiAgICAgICAgdGFza3MucHVzaCh0aGlzLnBhZ2UoYWNjb3VudElkLCBwYWdlTnVtKS50aGVuKChyZXN1bHQpID0+IHJlc3VsdC5vcmRlcnMpKTtcbiAgICAgIH1cblxuICAgICAgLy8gT3V0LW9mLW9yZGVyIGludm9jYXRpb24gaXMgZGVzaXJlZC4gV2hhdCBtYXR0ZXJzIGlzIHRoYXQgUHJvbWlzZS5hbGwgd2lsbFxuICAgICAgLy8gZ3VhcmFudGVlIHRoYXQgdGhlIGRhdGEgb3JkZXIgaXMgcHJlc2VydmVkLlxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUHJvbWlzZS5hbGwodGFza3MpO1xuICAgICAgcmVzdWx0LmZvckVhY2goKGxpc3QpID0+IGRhdGEub3JkZXJzLnB1c2goLi4ubGlzdCkpO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIHRvdGFsIGF0dHJpYnV0ZSB0byByZWZsZWN0IHRoZSBuZXcgc2l6ZVxuICAgICAgZGF0YS50b3RhbCA9IGRhdGEub3JkZXJzLmxlbmd0aDtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgcGVuZGluZyBvcmRlcnMgZm9yIHRoZSBzcGVjaWZpZWQgc2VjdXJpdHkgaW4gdGhlIGFjY291bnQuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gYWNjb3VudElkIFRoZSBzcGVjaWZpYyBhY2NvdW50IGluIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudFxuICAgKiBAcGFyYW0geyp9IHRpY2tlciAob3B0aW9uYWwpIFRoZSBzZWN1cml0eSBzeW1ib2xcbiAgICovXG4gIGFzeW5jIHBlbmRpbmcoYWNjb3VudElkLCB0aWNrZXIpIHtcbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCB0aGlzLmFsbChhY2NvdW50SWQpO1xuICAgIHJldHVybiBmaWx0ZXJlZE9yZGVycyhvcmRlcnMsIHRpY2tlciwgJ3N1Ym1pdHRlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBmaWxsZWQgb3JkZXJzIGZvciB0aGUgc3BlY2lmaWVkIHNlY3VyaXR5IGluIHRoZSBhY2NvdW50LlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgc3BlY2lmaWMgYWNjb3VudCBpbiB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnRcbiAgICogQHBhcmFtIHsqfSB0aWNrZXIgKG9wdGlvbmFsKSBUaGUgc2VjdXJpdHkgc3ltYm9sXG4gICAqL1xuICBhc3luYyBmaWxsZWQoYWNjb3VudElkLCB0aWNrZXIpIHtcbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCB0aGlzLmFsbChhY2NvdW50SWQpO1xuICAgIHJldHVybiBmaWx0ZXJlZE9yZGVycyhvcmRlcnMsIHRpY2tlciwgJ3Bvc3RlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBjYW5jZWxsZWQgb3JkZXJzIGZvciB0aGUgc3BlY2lmaWVkIHNlY3VyaXR5IGluIHRoZSBhY2NvdW50LlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgc3BlY2lmaWMgYWNjb3VudCBpbiB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnRcbiAgICogQHBhcmFtIHsqfSB0aWNrZXIgKG9wdGlvbmFsKSBUaGUgc2VjdXJpdHkgc3ltYm9sXG4gICAqL1xuICBhc3luYyBjYW5jZWxsZWQoYWNjb3VudElkLCB0aWNrZXIpIHtcbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCB0aGlzLmFsbChhY2NvdW50SWQpO1xuICAgIHJldHVybiBmaWx0ZXJlZE9yZGVycyhvcmRlcnMsIHRpY2tlciwgJ2NhbmNlbGxlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbmNlbHMgdGhlIHBlbmRpbmcgb3JkZXIgc3BlY2lmaWVkIGJ5IHRoZSBvcmRlciBpZC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBvcmRlcklkIFRoZSBwZW5kaW5nIG9yZGVyIHRvIGNhbmNlbFxuICAgKi9cbiAgYXN5bmMgY2FuY2VsKG9yZGVySWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb3JkZXI6IG9yZGVySWQsXG4gICAgICByZXNwb25zZTogYXdhaXQgdGhpcy53b3JrZXIuaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuQ0FOQ0VMX09SREVSLCB7IG9yZGVySWQgfSksXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYW5jZWxzIGFsbCBwZW5kaW5nIG9yZGVycyB1bmRlciB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIEFjY291bnQuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gYWNjb3VudElkIFRoZSBzcGVjaWZpYyBhY2NvdW50IGluIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudFxuICAgKi9cbiAgYXN5bmMgY2FuY2VsUGVuZGluZyhhY2NvdW50SWQpIHtcbiAgICBjb25zdCBwZW5kaW5nID0gYXdhaXQgdGhpcy5wZW5kaW5nKGFjY291bnRJZCk7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcub3JkZXJzLm1hcChhc3luYyAob3JkZXIpID0+IHRoaXMuY2FuY2VsKG9yZGVyLm9yZGVyX2lkKSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hcmtldCBidXkgYSBzZWN1cml0eSB0aHJvdWdoIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYXBwbGljYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gYWNjb3VudElkIFRoZSBhY2NvdW50IHRvIG1ha2UgdGhlIHRyYW5zYWN0aW9uIGZyb21cbiAgICogQHBhcmFtIHsqfSB0aWNrZXIgVGhlIHNlY3VyaXR5IHN5bWJvbFxuICAgKiBAcGFyYW0geyp9IHF1YW50aXR5IFRoZSBudW1iZXIgb2Ygc2VjdXJpdGllcyB0byBwdXJjaGFzZVxuICAgKi9cbiAgYXN5bmMgbWFya2V0QnV5KGFjY291bnRJZCwgdGlja2VyLCBxdWFudGl0eSkge1xuICAgIGNvbnN0IGRldGFpbHMgPSBhd2FpdCB0aGlzLmRhdGEuZ2V0U2VjdXJpdHkodGlja2VyLCB0cnVlKTtcblxuICAgIHJldHVybiB0aGlzLndvcmtlci5oYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5QTEFDRV9PUkRFUiwge1xuICAgICAgc2VjdXJpdHlfaWQ6IGRldGFpbHMuaWQsXG4gICAgICBsaW1pdF9wcmljZTogIShuZXcgVGlja2VyKHRpY2tlcikuY3J5cHRvKSA/IGRldGFpbHMucXVvdGUuYW1vdW50IDogdW5kZWZpbmVkLFxuICAgICAgcXVhbnRpdHksXG4gICAgICBvcmRlcl90eXBlOiAnYnV5X3F1YW50aXR5JyxcbiAgICAgIG9yZGVyX3N1Yl90eXBlOiAnbWFya2V0JyxcbiAgICAgIHRpbWVfaW5fZm9yY2U6ICdkYXknLFxuICAgICAgYWNjb3VudF9pZDogYWNjb3VudElkLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIExpbWl0IGJ1eSBhIHNlY3VyaXR5IHRocm91Z2ggdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhcHBsaWNhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIGFjY291bnQgdG8gbWFrZSB0aGUgdHJhbnNhY3Rpb24gZnJvbVxuICAgKiBAcGFyYW0geyp9IHRpY2tlciBUaGUgc2VjdXJpdHkgc3ltYm9sXG4gICAqIEBwYXJhbSB7Kn0gbGltaXQgVGhlIG1heGltdW0gcHJpY2UgdG8gcHVyY2hhc2UgdGhlIHNlY3VyaXR5IGF0XG4gICAqIEBwYXJhbSB7Kn0gcXVhbnRpdHkgVGhlIG51bWJlciBvZiBzZWN1cml0aWVzIHRvIHB1cmNoYXNlXG4gICAqL1xuICBhc3luYyBsaW1pdEJ1eShhY2NvdW50SWQsIHRpY2tlciwgbGltaXQsIHF1YW50aXR5KSB7XG4gICAgcmV0dXJuIHRoaXMud29ya2VyLmhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLlBMQUNFX09SREVSLCB7XG4gICAgICBzZWN1cml0eV9pZDogKGF3YWl0IHRoaXMuZGF0YS5nZXRTZWN1cml0eSh0aWNrZXIpKS5pZCxcbiAgICAgIGxpbWl0X3ByaWNlOiBsaW1pdCxcbiAgICAgIHF1YW50aXR5LFxuICAgICAgb3JkZXJfdHlwZTogJ2J1eV9xdWFudGl0eScsXG4gICAgICBvcmRlcl9zdWJfdHlwZTogJ2xpbWl0JyxcbiAgICAgIHRpbWVfaW5fZm9yY2U6ICdkYXknLFxuICAgICAgYWNjb3VudF9pZDogYWNjb3VudElkLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3AgbGltaXQgYnV5IGEgc2VjdXJpdHkgdGhyb3VnaCB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgYWNjb3VudCB0byBtYWtlIHRoZSB0cmFuc2FjdGlvbiBmcm9tXG4gICAqIEBwYXJhbSB7Kn0gdGlja2VyIFRoZSBzZWN1cml0eSBzeW1ib2xcbiAgICogQHBhcmFtIHsqfSBzdG9wIFRoZSBwcmljZSBhdCB3aGljaCB0aGUgb3JkZXIgY29udmVydHMgdG8gYSBsaW1pdCBvcmRlclxuICAgKiBAcGFyYW0geyp9IGxpbWl0IFRoZSBtYXhpbXVtIHByaWNlIHRvIHB1cmNoYXNlIHRoZSBzZWN1cml0eSBhdFxuICAgKiBAcGFyYW0geyp9IHF1YW50aXR5IFRoZSBudW1iZXIgb2Ygc2VjdXJpdGllcyB0byBwdXJjaGFzZVxuICAgKi9cbiAgYXN5bmMgc3RvcExpbWl0QnV5KGFjY291bnRJZCwgdGlja2VyLCBzdG9wLCBsaW1pdCwgcXVhbnRpdHkpIHtcbiAgICBjb25zdCBzZWN1cml0eSA9IGF3YWl0IHRoaXMuZGF0YS5nZXRTZWN1cml0eSh0aWNrZXIpO1xuXG4gICAgLy8gVGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBiYWNrZW5kIGRvZXNuJ3QgY2hlY2sgZm9yIHRoaXMsIGV2ZW4gdGhvdWdoIHRoZSBhcHAgZG9lcy4uXG4gICAgaWYgKGlzQ2FuYWRpYW5TZWN1cml0eShzZWN1cml0eS5zdG9jay5wcmltYXJ5X2V4Y2hhbmdlKSAmJiBzdG9wICE9PSBsaW1pdCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUU1gvVFNYLVYgc2VjdXJpdGllcyBtdXN0IGhhdmUgYW4gZXF1aXZhbGVudCBzdG9wIGFuZCBsaW1pdCBwcmljZS4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy53b3JrZXIuaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuUExBQ0VfT1JERVIsIHtcbiAgICAgIHNlY3VyaXR5X2lkOiBzZWN1cml0eS5pZCxcbiAgICAgIHN0b3BfcHJpY2U6IHN0b3AsXG4gICAgICBsaW1pdF9wcmljZTogbGltaXQsXG4gICAgICBxdWFudGl0eSxcbiAgICAgIG9yZGVyX3R5cGU6ICdidXlfcXVhbnRpdHknLFxuICAgICAgb3JkZXJfc3ViX3R5cGU6ICdzdG9wX2xpbWl0JyxcbiAgICAgIHRpbWVfaW5fZm9yY2U6ICdkYXknLFxuICAgICAgYWNjb3VudF9pZDogYWNjb3VudElkLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hcmtldCBzZWxsIGEgc2VjdXJpdHkgdGhyb3VnaCB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgYWNjb3VudCB0byBtYWtlIHRoZSB0cmFuc2FjdGlvbiBmcm9tXG4gICAqIEBwYXJhbSB7Kn0gdGlja2VyIFRoZSBzZWN1cml0eSBzeW1ib2xcbiAgICogQHBhcmFtIHsqfSBxdWFudGl0eSBUaGUgbnVtYmVyIG9mIHNlY3VyaXRpZXMgdG8gcHVyY2hhc2VcbiAgICovXG4gIGFzeW5jIG1hcmtldFNlbGwoYWNjb3VudElkLCB0aWNrZXIsIHF1YW50aXR5KSB7XG4gICAgY29uc3QgZGV0YWlscyA9IGF3YWl0IHRoaXMuZGF0YS5nZXRTZWN1cml0eSh0aWNrZXIsIHRydWUpO1xuXG4gICAgcmV0dXJuIHRoaXMud29ya2VyLmhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLlBMQUNFX09SREVSLCB7XG4gICAgICBzZWN1cml0eV9pZDogZGV0YWlscy5pZCxcbiAgICAgIG1hcmtldF92YWx1ZTogIShuZXcgVGlja2VyKHRpY2tlcikuY3J5cHRvKSA/IGRldGFpbHMucXVvdGUuYW1vdW50IDogdW5kZWZpbmVkLFxuICAgICAgcXVhbnRpdHksXG4gICAgICBvcmRlcl90eXBlOiAnc2VsbF9xdWFudGl0eScsXG4gICAgICBvcmRlcl9zdWJfdHlwZTogJ21hcmtldCcsXG4gICAgICB0aW1lX2luX2ZvcmNlOiAnZGF5JyxcbiAgICAgIGFjY291bnRfaWQ6IGFjY291bnRJZCxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaW1pdCBzZWxsIGEgc2VjdXJpdHkgdGhyb3VnaCB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgYWNjb3VudCB0byBtYWtlIHRoZSB0cmFuc2FjdGlvbiBmcm9tXG4gICAqIEBwYXJhbSB7Kn0gdGlja2VyIFRoZSBzZWN1cml0eSBzeW1ib2xcbiAgICogQHBhcmFtIHsqfSBsaW1pdCBUaGUgbWluaW11bSBwcmljZSB0byBzZWxsIHRoZSBzZWN1cml0eSBhdFxuICAgKiBAcGFyYW0geyp9IHF1YW50aXR5IFRoZSBudW1iZXIgb2Ygc2VjdXJpdGllcyB0byBzZWxsXG4gICAqL1xuICBhc3luYyBsaW1pdFNlbGwoYWNjb3VudElkLCB0aWNrZXIsIGxpbWl0LCBxdWFudGl0eSkge1xuICAgIHJldHVybiB0aGlzLndvcmtlci5oYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5QTEFDRV9PUkRFUiwge1xuICAgICAgc2VjdXJpdHlfaWQ6IChhd2FpdCB0aGlzLmRhdGEuZ2V0U2VjdXJpdHkodGlja2VyKSkuaWQsXG4gICAgICBsaW1pdF9wcmljZTogbGltaXQsXG4gICAgICBxdWFudGl0eSxcbiAgICAgIG9yZGVyX3R5cGU6ICdzZWxsX3F1YW50aXR5JyxcbiAgICAgIG9yZGVyX3N1Yl90eXBlOiAnbGltaXQnLFxuICAgICAgdGltZV9pbl9mb3JjZTogJ2RheScsXG4gICAgICBhY2NvdW50X2lkOiBhY2NvdW50SWQsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU3RvcCBsaW1pdCBzZWxsIGEgc2VjdXJpdHkgdGhyb3VnaCB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgYWNjb3VudCB0byBtYWtlIHRoZSB0cmFuc2FjdGlvbiBmcm9tXG4gICAqIEBwYXJhbSB7Kn0gdGlja2VyIFRoZSBzZWN1cml0eSBzeW1ib2xcbiAgICogQHBhcmFtIHsqfSBzdG9wIFRoZSBwcmljZSBhdCB3aGljaCB0aGUgb3JkZXIgY29udmVydHMgdG8gYSBsaW1pdCBvcmRlclxuICAgKiBAcGFyYW0geyp9IGxpbWl0IFRoZSBtaW5pbXVtIHByaWNlIHRvIHNlbGwgdGhlIHNlY3VyaXR5IGF0XG4gICAqIEBwYXJhbSB7Kn0gcXVhbnRpdHkgVGhlIG51bWJlciBvZiBzZWN1cml0aWVzIHRvIHNlbGxcbiAgICovXG4gIGFzeW5jIHN0b3BMaW1pdFNlbGwoYWNjb3VudElkLCB0aWNrZXIsIHN0b3AsIGxpbWl0LCBxdWFudGl0eSkge1xuICAgIGNvbnN0IHNlY3VyaXR5ID0gYXdhaXQgdGhpcy5kYXRhLmdldFNlY3VyaXR5KHRpY2tlcik7XG5cbiAgICAvLyBUaGUgV2VhbHRoc2ltcGxlIFRyYWRlIGJhY2tlbmQgZG9lc24ndCBjaGVjayBmb3IgdGhpcywgZXZlbiB0aG91Z2ggdGhlIGFwcCBkb2VzLi5cbiAgICBpZiAoaXNDYW5hZGlhblNlY3VyaXR5KHNlY3VyaXR5LnN0b2NrLnByaW1hcnlfZXhjaGFuZ2UpICYmIHN0b3AgIT09IGxpbWl0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RTWC9UU1gtViBzZWN1cml0aWVzIG11c3QgaGF2ZSBhbiBlcXVpdmFsZW50IHN0b3AgYW5kIGxpbWl0IHByaWNlLicpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLndvcmtlci5oYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5QTEFDRV9PUkRFUiwge1xuICAgICAgc2VjdXJpdHlfaWQ6IHNlY3VyaXR5LmlkLFxuICAgICAgc3RvcF9wcmljZTogc3RvcCxcbiAgICAgIGxpbWl0X3ByaWNlOiBsaW1pdCxcbiAgICAgIHF1YW50aXR5LFxuICAgICAgb3JkZXJfdHlwZTogJ3NlbGxfcXVhbnRpdHknLFxuICAgICAgb3JkZXJfc3ViX3R5cGU6ICdzdG9wX2xpbWl0JyxcbiAgICAgIHRpbWVfaW5fZm9yY2U6ICdkYXknLFxuICAgICAgYWNjb3VudF9pZDogYWNjb3VudElkLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE9yZGVycztcbiIsIi8qKlxuICogVGhlIGRlZmF1bHQgcHJvdmlkZXIgZm9yIHF1b3RlcyBpcyBXZWFsdGhzaW1wbGUgVHJhZGUuXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgKGRhdGEpID0+ICh7XG5cbiAgLyoqXG4gICAgICogUXVvdGUgZm9yIGEgdGlja2VyIGZyb20gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBlbmRwb2ludC5cbiAgICAgKlxuICAgICAqIFJlbWVtYmVyIHRoYXQgdGhpcyBxdW90ZSBpcyBOT1QgcmVhbC10aW1lIVxuICAgICAqL1xuICBhc3luYyBxdW90ZSh0aWNrZXIpIHtcbiAgICBjb25zdCBpbmZvID0gYXdhaXQgZGF0YS5nZXRTZWN1cml0eSh0aWNrZXIsIHRydWUpO1xuICAgIHJldHVybiBpbmZvLnF1b3RlLmFtb3VudDtcbiAgfSxcbn0pO1xuIiwiaW1wb3J0IFRyYWRlUXVvdGVzIGZyb20gJy4vZGVmYXVsdCc7XG5pbXBvcnQgVGlja2VyIGZyb20gJy4uL2NvcmUvdGlja2VyJztcbmltcG9ydCBlbmRwb2ludHMgZnJvbSAnLi4vYXBpL2VuZHBvaW50cyc7XG5cbmNsYXNzIFF1b3RlcyB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFF1b3RlcyBvYmplY3QgYXNzb2NpYXRlZCB3aXRoIHRoZSBnaXZlbiBIVFRQUyBXb3JrZXIgc3RhdGUuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gaHR0cHNXb3JrZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yKGh0dHBzV29ya2VyLCBkYXRhKSB7XG4gICAgLy8gV2VhbHRoc2ltcGxlIFRyYWRlIGlzIG91ciBkZWZhdWx0IHNvdXJjZSBmb3IgcXVvdGVzLCBkZXNwaXRlXG4gICAgLy8gaGF2aW5nIGEgMTUgbWluIGRlbGF5XG4gICAgdGhpcy5kZWZhdWx0UHJvdmlkZXIgPSBuZXcgVHJhZGVRdW90ZXMoZGF0YSk7XG5cbiAgICAvLyBNYWludGFpbnMgcXVvdGUgcHJvdmlkZXJzIG9uIGFuIGV4Y2hhbmdlIGJhc2lzXG4gICAgdGhpcy5wcm92aWRlcnMgPSB7fTtcblxuICAgIHRoaXMud29ya2VyID0gaHR0cHNXb3JrZXI7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgICAqIExvYWQgYSBjdXN0b20gcHJvdmlkZXIgZm9yIHRoZSBleGNoYW5nZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gZXhjaGFuZ2UgVGhlIGV4Y2hhbmdlIHRoYXQgdGhlIHByb3ZpZGVyIGZldGNoZXMgcXVvdGVzIGZvclxuICAgICAqIEBwYXJhbSB7Kn0gcHJvdmlkZXIgVGhlIHByb3ZpZGVyIG9iamVjdCBjb250YWluaW5nIHRoZSBxdW90ZSgpIGltcGxlbWVudGF0aW9uLlxuICAgICAqL1xuICB1c2UoZXhjaGFuZ2UsIHByb3ZpZGVyKSB7XG4gICAgaWYgKHR5cGVvZiAocHJvdmlkZXIucXVvdGUpICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBUaGUgcHJvdmlkZXIgbXVzdCBoYXZlIGEgcXVvdGUoKSBpbXBsZW1lbnRhdGlvbiB0aGF0IHdlIGNhbiBjYWxsIGxhdGVyIVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHF1b3RlIHByb3ZpZGVyIGZvciAke2V4Y2hhbmdlfSFgKTtcbiAgICB9XG5cbiAgICB0aGlzLnByb3ZpZGVyc1tleGNoYW5nZV0gPSBwcm92aWRlcjtcbiAgfVxuXG4gIC8qKlxuICAgICAqIE9idGFpbnMgYSBxdW90ZSBmb3IgdGhlIHRpY2tlci4gVGhlIHNvdXJjZSBvZiB0aGUgcXVvdGUgbWF5IGJlIGEgY3VzdG9tXG4gICAgICogcHJvdmlkZXIgaWYgYSB2YWxpZCBwcm92aWRlciBpcyByZWdpc3RlcmVkIGZvciB0aGUgZXhjaGFuZ2UgdGhhdCB0aGVcbiAgICAgKiB0aWNrZXIgdHJhZGVzIG9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBzZWN1cml0eSBUaGUgc2VjdXJpdHkgdG8gZ2V0IGEgcXVvdGUgZm9yLlxuICAgICAqL1xuICBhc3luYyBnZXQoc2VjdXJpdHkpIHtcbiAgICBsZXQgZXhjaGFuZ2UgPSBudWxsO1xuICAgIGNvbnN0IHRpY2tlciA9IG5ldyBUaWNrZXIoc2VjdXJpdHkpO1xuXG4gICAgaWYgKHRpY2tlci5leGNoYW5nZSkge1xuICAgICAgLy8gV2UgbmVlZCB0aGUgZXhjaGFuZ2UgaW4gdGhlIG5leHQgc3RlcCBpZiB0aGUgdXNlciBoYXMgc3BlY2lmaWVkXG4gICAgICAvLyBhIGN1c3RvbSBwcm92aWRlciBmb3IgYW4gZXhjaGFuZ2UuIFNvIGlmIHRoZSB1c2VyIGhhc24ndCBwcm92aWRlZFxuICAgICAgLy8gaXQsIHdlIHdpbGwgaGF2ZSB0byBwaW5nIFdlYWx0aHNpbXBsZSB0cmFkZSB0byBnZXQgaXQuXG4gICAgICBleGNoYW5nZSA9IHRpY2tlci5leGNoYW5nZTtcbiAgICB9IGVsc2UgaWYgKHRpY2tlci5jcnlwdG8gJiYgdGlja2VyLmlkKSB7XG4gICAgICAvLyBJZiB0aGUgaWQgaXMgb25seSBnaXZlbiBidXQgd2Uga25vdyBpdCdzIGEgY3J5cHRvIGlkLFxuICAgICAgLy8gd2Ugd2lsbCBhdXRvbWF0aWNhbGx5IHNldCBleGNoYW5nZSB0byAnQ0MnLlxuICAgICAgZXhjaGFuZ2UgPSAnQ0MnO1xuICAgIH0gZWxzZSBpZiAoT2JqZWN0LmtleXModGhpcy5wcm92aWRlcnMpLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGluZm8gPSBhd2FpdCB0aGlzLmRhdGEuZ2V0U2VjdXJpdHkodGlja2VyLCBmYWxzZSk7XG4gICAgICBleGNoYW5nZSA9IGluZm8uc3RvY2sucHJpbWFyeV9leGNoYW5nZTtcbiAgICB9XG5cbiAgICAvLyBBIGN1c3RvbSBwcm92aWRlciB3aWxsIHRha2UgcHJlY2VkZW5jZSBvdmVyIHRoZSBkZWZhdWx0IHNvdXJjZVxuICAgIGlmIChleGNoYW5nZSBpbiB0aGlzLnByb3ZpZGVycykge1xuICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXJzW2V4Y2hhbmdlXS5xdW90ZSh0aWNrZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmRlZmF1bHRQcm92aWRlci5xdW90ZSh0aWNrZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgaGlzdG9yaWNhbCBxdW90ZXMgd2l0aGluIGEgc3BlY2lmaWVkIGludGVydmFsIGZvciB0aGUgdGlja2VyLlxuICAgKiBUaGUgc291cmNlIG9mIHRoZSBoaXN0b3JpY2FsIGRhdGEgaXMgbm90IGN1c3RvbWl6YWJsZSBhdCB0aGlzIHRpbWUgYmVjYXVzZVxuICAgKiB0aGVyZSBpcyBubyBuZWVkIGZvciBpdCB0byBiZSBzby5cbiAgICpcbiAgICogQHBhcmFtIHsqfSB0aWNrZXIgVGhlIHRpY2tlciB0byBzZWFyY2ggaGlzdG9yaWNhbCBxdW90ZXMgZm9yXG4gICAqIEBwYXJhbSB7Kn0gaW50ZXJ2YWwgVGhlIHRpbWUgcmFuZ2Ugb2YgdGhlIHF1b3Rlc1xuICAgKi9cbiAgYXN5bmMgaGlzdG9yeShzZWN1cml0eSwgaW50ZXJ2YWwpIHtcbiAgICAvLyB2YWxpZGF0ZSB0aGUgdXNlci1naXZlbiBzZWN1cml0eVxuICAgIGNvbnN0IHRpY2tlciA9IG5ldyBUaWNrZXIoc2VjdXJpdHkpO1xuICAgIGlmICghdGlja2VyLmlkKSB7XG4gICAgICB0aWNrZXIuaWQgPSAoYXdhaXQgdGhpcy5kYXRhLmdldFNlY3VyaXR5KHRpY2tlcikpLmlkO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLndvcmtlci5oYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5RVU9URVNfSElTVE9SWSwgeyBpZDogdGlja2VyLmlkLCBpbnRlcnZhbCB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBRdW90ZXM7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbnZhciBydW50aW1lID0gKGZ1bmN0aW9uIChleHBvcnRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBPcCA9IE9iamVjdC5wcm90b3R5cGU7XG4gIHZhciBoYXNPd24gPSBPcC5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG4gIHZhciAkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sIDoge307XG4gIHZhciBpdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCI7XG4gIHZhciBhc3luY0l0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCI7XG4gIHZhciB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XG5cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xuICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG5cbiAgICAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgZXhwb3J0cy53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LlxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgSXRlcmF0b3JQcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgdmFyIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiZcbiAgICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJlxuICAgICAgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSkge1xuICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgLy8gb2YgdGhlIHBvbHlmaWxsLlxuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPVxuICAgIEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR3AuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvbjtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGVbdG9TdHJpbmdUYWdTeW1ib2xdID1cbiAgICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICBwcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3JcbiAgICAgID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHxcbiAgICAgICAgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxuICAgICAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuICBleHBvcnRzLm1hcmsgPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICAgIGlmICghKHRvU3RyaW5nVGFnU3ltYm9sIGluIGdlbkZ1bikpIHtcbiAgICAgICAgZ2VuRnVuW3RvU3RyaW5nVGFnU3ltYm9sXSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC5cbiAgZXhwb3J0cy5hd3JhcCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yLCBQcm9taXNlSW1wbCkge1xuICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHJlamVjdChyZWNvcmQuYXJnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnO1xuICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSAmJlxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaW52b2tlKFwibmV4dFwiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGludm9rZShcInRocm93XCIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHVud3JhcHBlZCkge1xuICAgICAgICAgIC8vIFdoZW4gYSB5aWVsZGVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGl0cyBmaW5hbCB2YWx1ZSBiZWNvbWVzXG4gICAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uXG4gICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAvLyBJZiBhIHJlamVjdGVkIFByb21pc2Ugd2FzIHlpZWxkZWQsIHRocm93IHRoZSByZWplY3Rpb24gYmFja1xuICAgICAgICAgIC8vIGludG8gdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBzbyBpdCBjYW4gYmUgaGFuZGxlZCB0aGVyZS5cbiAgICAgICAgICByZXR1cm4gaW52b2tlKFwidGhyb3dcIiwgZXJyb3IsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlSW1wbChmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID1cbiAgICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKFxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLFxuICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnXG4gICAgICAgICkgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG4gIEFzeW5jSXRlcmF0b3IucHJvdG90eXBlW2FzeW5jSXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QsIFByb21pc2VJbXBsKSB7XG4gICAgaWYgKFByb21pc2VJbXBsID09PSB2b2lkIDApIFByb21pc2VJbXBsID0gUHJvbWlzZTtcblxuICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3IoXG4gICAgICB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSxcbiAgICAgIFByb21pc2VJbXBsXG4gICAgKTtcblxuICAgIHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbilcbiAgICAgID8gaXRlciAvLyBJZiBvdXRlckZuIGlzIGEgZ2VuZXJhdG9yLCByZXR1cm4gdGhlIGZ1bGwgaXRlcmF0b3IuXG4gICAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkge1xuICAgIHZhciBzdGF0ZSA9IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlRXhlY3V0aW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVDb21wbGV0ZWQpIHtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzpcbiAgICAgICAgLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWdlbmVyYXRvcnJlc3VtZVxuICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgIGNvbnRleHQuYXJnID0gYXJnO1xuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgICB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcbiAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7XG4gICAgICAgICAgICByZXR1cm4gZGVsZWdhdGVSZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgIC8vIFNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICAgICAgY29udGV4dC5zZW50ID0gY29udGV4dC5fc2VudCA9IGNvbnRleHQuYXJnO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydCkge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAgIHRocm93IGNvbnRleHQuYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LmFyZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nO1xuXG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgLy8gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBmcm9tIGlubmVyRm4sIHdlIGxlYXZlIHN0YXRlID09PVxuICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZVxuICAgICAgICAgICAgPyBHZW5TdGF0ZUNvbXBsZXRlZFxuICAgICAgICAgICAgOiBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuXG4gICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogcmVjb3JkLmFyZyxcbiAgICAgICAgICAgIGRvbmU6IGNvbnRleHQuZG9uZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXG4gICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZykgY2FsbCBhYm92ZS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gQ2FsbCBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF0oY29udGV4dC5hcmcpIGFuZCBoYW5kbGUgdGhlXG4gIC8vIHJlc3VsdCwgZWl0aGVyIGJ5IHJldHVybmluZyBhIHsgdmFsdWUsIGRvbmUgfSByZXN1bHQgZnJvbSB0aGVcbiAgLy8gZGVsZWdhdGUgaXRlcmF0b3IsIG9yIGJ5IG1vZGlmeWluZyBjb250ZXh0Lm1ldGhvZCBhbmQgY29udGV4dC5hcmcsXG4gIC8vIHNldHRpbmcgY29udGV4dC5kZWxlZ2F0ZSB0byBudWxsLCBhbmQgcmV0dXJuaW5nIHRoZSBDb250aW51ZVNlbnRpbmVsLlxuICBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIG1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXTtcbiAgICBpZiAobWV0aG9kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIEEgLnRocm93IG9yIC5yZXR1cm4gd2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIC50aHJvd1xuICAgICAgLy8gbWV0aG9kIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAvLyBOb3RlOiBbXCJyZXR1cm5cIl0gbXVzdCBiZSB1c2VkIGZvciBFUzMgcGFyc2luZyBjb21wYXRpYmlsaXR5LlxuICAgICAgICBpZiAoZGVsZWdhdGUuaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcblxuICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAvLyBJZiBtYXliZUludm9rZURlbGVnYXRlKGNvbnRleHQpIGNoYW5nZWQgY29udGV4dC5tZXRob2QgZnJvbVxuICAgICAgICAgICAgLy8gXCJyZXR1cm5cIiB0byBcInRocm93XCIsIGxldCB0aGF0IG92ZXJyaWRlIHRoZSBUeXBlRXJyb3IgYmVsb3cuXG4gICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgIFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZFwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTtcblxuICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuXG4gICAgaWYgKCEgaW5mbykge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKTtcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnlcbiAgICAgIC8vIHZhcmlhYmxlIHNwZWNpZmllZCBieSBkZWxlZ2F0ZS5yZXN1bHROYW1lIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTtcblxuICAgICAgLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcblxuICAgICAgLy8gSWYgY29udGV4dC5tZXRob2Qgd2FzIFwidGhyb3dcIiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlXG4gICAgICAvLyBleGNlcHRpb24sIGxldCB0aGUgb3V0ZXIgZ2VuZXJhdG9yIHByb2NlZWQgbm9ybWFsbHkuIElmXG4gICAgICAvLyBjb250ZXh0Lm1ldGhvZCB3YXMgXCJuZXh0XCIsIGZvcmdldCBjb250ZXh0LmFyZyBzaW5jZSBpdCBoYXMgYmVlblxuICAgICAgLy8gXCJjb25zdW1lZFwiIGJ5IHRoZSBkZWxlZ2F0ZSBpdGVyYXRvci4gSWYgY29udGV4dC5tZXRob2Qgd2FzXG4gICAgICAvLyBcInJldHVyblwiLCBhbGxvdyB0aGUgb3JpZ2luYWwgLnJldHVybiBjYWxsIHRvIGNvbnRpbnVlIGluIHRoZVxuICAgICAgLy8gb3V0ZXIgZ2VuZXJhdG9yLlxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kICE9PSBcInJldHVyblwiKSB7XG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlLXlpZWxkIHRoZSByZXN1bHQgcmV0dXJuZWQgYnkgdGhlIGRlbGVnYXRlIG1ldGhvZC5cbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIC8vIFRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBpcyBmaW5pc2hlZCwgc28gZm9yZ2V0IGl0IGFuZCBjb250aW51ZSB3aXRoXG4gICAgLy8gdGhlIG91dGVyIGdlbmVyYXRvci5cbiAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgfVxuXG4gIC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTtcblxuICBHcFt0b1N0cmluZ1RhZ1N5bWJvbF0gPSBcIkdlbmVyYXRvclwiO1xuXG4gIC8vIEEgR2VuZXJhdG9yIHNob3VsZCBhbHdheXMgcmV0dXJuIGl0c2VsZiBhcyB0aGUgaXRlcmF0b3Igb2JqZWN0IHdoZW4gdGhlXG4gIC8vIEBAaXRlcmF0b3IgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIGl0LiBTb21lIGJyb3dzZXJzJyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlXG4gIC8vIGl0ZXJhdG9yIHByb3RvdHlwZSBjaGFpbiBpbmNvcnJlY3RseSBpbXBsZW1lbnQgdGhpcywgY2F1c2luZyB0aGUgR2VuZXJhdG9yXG4gIC8vIG9iamVjdCB0byBub3QgYmUgcmV0dXJuZWQgZnJvbSB0aGlzIGNhbGwuIFRoaXMgZW5zdXJlcyB0aGF0IGRvZXNuJ3QgaGFwcGVuLlxuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2lzc3Vlcy8yNzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgR3BbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgR3AudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIGV4cG9ydHMua2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIGtleXMucmV2ZXJzZSgpO1xuXG4gICAgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcbiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcbiAgfVxuICBleHBvcnRzLnZhbHVlcyA9IHZhbHVlcztcblxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJlxuICAgICAgICAgICAgICBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJlxuICAgICAgICAgICAgICAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG5cbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG5cbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG5cbiAgICAgICAgaWYgKGNhdWdodCkge1xuICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICEhIGNhdWdodDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWJydXB0OiBmdW5jdGlvbih0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJlxuICAgICAgICAgICAgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmluYWxseUVudHJ5ICYmXG4gICAgICAgICAgKHR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgICB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmXG4gICAgICAgICAgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiZcbiAgICAgICAgICBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYVxuICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgIGZpbmFsbHlFbnRyeSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlO1xuICAgICAgcmVjb3JkLmFyZyA9IGFyZztcblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYztcbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgfSxcblxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgIHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgdGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbihmaW5hbGx5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcbiAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uKHRyeUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykge1xuICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjb250ZXh0LmNhdGNoIG1ldGhvZCBtdXN0IG9ubHkgYmUgY2FsbGVkIHdpdGggYSBsb2NhdGlvblxuICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG5cbiAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbihpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXG4gICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsXG4gICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9O1xuXG4gIC8vIFJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGVcbiAgLy8gb3Igbm90LCByZXR1cm4gdGhlIHJ1bnRpbWUgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIGRlY2xhcmUgdGhlIHZhcmlhYmxlXG4gIC8vIHJlZ2VuZXJhdG9yUnVudGltZSBpbiB0aGUgb3V0ZXIgc2NvcGUsIHdoaWNoIGFsbG93cyB0aGlzIG1vZHVsZSB0byBiZVxuICAvLyBpbmplY3RlZCBlYXNpbHkgYnkgYGJpbi9yZWdlbmVyYXRvciAtLWluY2x1ZGUtcnVudGltZSBzY3JpcHQuanNgLlxuICByZXR1cm4gZXhwb3J0cztcblxufShcbiAgLy8gSWYgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlLCB1c2UgbW9kdWxlLmV4cG9ydHNcbiAgLy8gYXMgdGhlIHJlZ2VuZXJhdG9yUnVudGltZSBuYW1lc3BhY2UuIE90aGVyd2lzZSBjcmVhdGUgYSBuZXcgZW1wdHlcbiAgLy8gb2JqZWN0LiBFaXRoZXIgd2F5LCB0aGUgcmVzdWx0aW5nIG9iamVjdCB3aWxsIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZVxuICAvLyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIHZhcmlhYmxlIGF0IHRoZSB0b3Agb2YgdGhpcyBmaWxlLlxuICB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiID8gbW9kdWxlLmV4cG9ydHMgOiB7fVxuKSk7XG5cbnRyeSB7XG4gIHJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG59IGNhdGNoIChhY2NpZGVudGFsU3RyaWN0TW9kZSkge1xuICAvLyBUaGlzIG1vZHVsZSBzaG91bGQgbm90IGJlIHJ1bm5pbmcgaW4gc3RyaWN0IG1vZGUsIHNvIHRoZSBhYm92ZVxuICAvLyBhc3NpZ25tZW50IHNob3VsZCBhbHdheXMgd29yayB1bmxlc3Mgc29tZXRoaW5nIGlzIG1pc2NvbmZpZ3VyZWQuIEp1c3RcbiAgLy8gaW4gY2FzZSBydW50aW1lLmpzIGFjY2lkZW50YWxseSBydW5zIGluIHN0cmljdCBtb2RlLCB3ZSBjYW4gZXNjYXBlXG4gIC8vIHN0cmljdCBtb2RlIHVzaW5nIGEgZ2xvYmFsIEZ1bmN0aW9uIGNhbGwuIFRoaXMgY291bGQgY29uY2VpdmFibHkgZmFpbFxuICAvLyBpZiBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGZvcmJpZHMgdXNpbmcgRnVuY3Rpb24sIGJ1dCBpbiB0aGF0IGNhc2VcbiAgLy8gdGhlIHByb3BlciBzb2x1dGlvbiBpcyB0byBmaXggdGhlIGFjY2lkZW50YWwgc3RyaWN0IG1vZGUgcHJvYmxlbS4gSWZcbiAgLy8geW91J3ZlIG1pc2NvbmZpZ3VyZWQgeW91ciBidW5kbGVyIHRvIGZvcmNlIHN0cmljdCBtb2RlIGFuZCBhcHBsaWVkIGFcbiAgLy8gQ1NQIHRvIGZvcmJpZCBGdW5jdGlvbiwgYW5kIHlvdSdyZSBub3Qgd2lsbGluZyB0byBmaXggZWl0aGVyIG9mIHRob3NlXG4gIC8vIHByb2JsZW1zLCBwbGVhc2UgZGV0YWlsIHlvdXIgdW5pcXVlIHByZWRpY2FtZW50IGluIGEgR2l0SHViIGlzc3VlLlxuICBGdW5jdGlvbihcInJcIiwgXCJyZWdlbmVyYXRvclJ1bnRpbWUgPSByXCIpKHJ1bnRpbWUpO1xufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18yMTRfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzU0NV9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fOTQ5X187IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBtb2R1bGUgZXhwb3J0cyBtdXN0IGJlIHJldHVybmVkIGZyb20gcnVudGltZSBzbyBlbnRyeSBpbmxpbmluZyBpcyBkaXNhYmxlZFxuLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG5yZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygzNTIpO1xuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gbW9kdWxlWydkZWZhdWx0J10gOlxuXHRcdCgpID0+IG1vZHVsZTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIl0sInNvdXJjZVJvb3QiOiIifQ==