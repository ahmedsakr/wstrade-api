!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("source-map-support"),require("node-fetch"),require("http-status")):"function"==typeof define&&define.amd?define(["source-map-support","node-fetch","http-status"],e):"object"==typeof exports?exports["wstrade-api"]=e(require("source-map-support"),require("node-fetch"),require("http-status")):t["wstrade-api"]=e(t._,t._,t._)}(global,(function(t,e,r){return(()=>{var n={228:t=>{t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}},858:t=>{t.exports=function(t){if(Array.isArray(t))return t}},646:(t,e,r)=>{var n=r(228);t.exports=function(t){if(Array.isArray(t))return n(t)}},926:t=>{function e(t,e,r,n,o,a,s){try{var c=t[a](s),i=c.value}catch(t){return void r(t)}c.done?e(i):Promise.resolve(i).then(n,o)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise((function(o,a){var s=t.apply(r,n);function c(t){e(s,o,a,c,i,"next",t)}function i(t){e(s,o,a,c,i,"throw",t)}c(void 0)}))}}},575:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},913:t=>{function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}},713:t=>{t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},860:t=>{t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},884:t=>{t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,a=void 0;try{for(var s,c=t[Symbol.iterator]();!(n=(s=c.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}}},521:t=>{t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},206:t=>{t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},38:(t,e,r)=>{var n=r(858),o=r(884),a=r(379),s=r(521);t.exports=function(t,e){return n(t)||o(t,e)||a(t,e)||s()}},319:(t,e,r)=>{var n=r(646),o=r(860),a=r(379),s=r(206);t.exports=function(t){return n(t)||o(t)||a(t)||s()}},379:(t,e,r)=>{var n=r(228);t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}},757:(t,e,r)=>{t.exports=r(666)},391:(t,e,r)=>{"use strict";r.d(e,{Z:()=>u});var n=r(757),o=r.n(n),a=r(926),s=r.n(a),c=r(726),i=r(811);const u={all:(w=s()(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.Z)(c.Z.ACCOUNT_IDS,{});case 2:return e=t.sent,t.abrupt("return",{tfsa:e.find((function(t){return t.startsWith("tfsa")})),rrsp:e.find((function(t){return t.startsWith("rrsp")})),crypto:e.find((function(t){return t.startsWith("non-registered-crypto")})),personal:e.find((function(t){return t.startsWith("non-registered")&&!t.startsWith("non-registered-crypto")}))});case 4:case"end":return t.stop()}}),t)}))),function(){return w.apply(this,arguments)}),data:(v=s()(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.Z)(c.Z.LIST_ACCOUNT,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return v.apply(this,arguments)}),me:(m=s()(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.Z)(c.Z.ME,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return m.apply(this,arguments)}),person:(y=s()(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.Z)(c.Z.PERSON,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return y.apply(this,arguments)}),history:(d=s()(o().mark((function t(e,r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.Z)(c.Z.HISTORY_ACCOUNT,{interval:e,accountId:r}));case 1:case"end":return t.stop()}}),t)}))),function(t,e){return d.apply(this,arguments)}),activities:(h=s()(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.Z)(c.Z.ACTIVITIES,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return h.apply(this,arguments)}),getBankAccounts:(l=s()(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.Z)(c.Z.BANK_ACCOUNTS,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)}),deposits:(f=s()(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.Z)(c.Z.DEPOSITS,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return f.apply(this,arguments)}),positions:(p=s()(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.Z)(c.Z.POSITIONS,{accountId:e}));case 1:case"end":return t.stop()}}),t)}))),function(t){return p.apply(this,arguments)})};var p,f,l,h,d,y,m,v,w},726:(t,e,r)=>{"use strict";r.d(e,{p:()=>x,Z:()=>g});var n,o,a,s,c,i,u,p,f,l,h,d,y=r(757),m=r.n(y),v=r(926),w=r.n(v),x=20,b={onFailure:(o=w()(m().mark((function t(e){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e.status,t.t1=e.statusText,t.next=4,e.text();case 4:return t.t2=t.sent,t.abrupt("return",{status:t.t0,reason:t.t1,body:t.t2});case 6:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)}),onSuccess:(n=w()(m().mark((function t(e){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.json());case 1:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})};const g={LOGIN:{method:"POST",url:"https://trade-service.wealthsimple.com/auth/login",onSuccess:(d=w()(m().mark((function t(e){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0={access:e.headers.get("x-access-token"),refresh:e.headers.get("x-refresh-token"),expires:parseInt(e.headers.get("x-access-token-expires"),10)},t.next=3,e.json();case 3:return t.t1=t.sent,t.abrupt("return",{tokens:t.t0,accountInfo:t.t1});case 5:case"end":return t.stop()}}),t)}))),function(t){return d.apply(this,arguments)}),onFailure:b.onFailure},REFRESH:{method:"POST",url:"https://trade-service.wealthsimple.com/auth/refresh",onSuccess:(h=w()(m().mark((function t(e){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{tokens:{access:e.headers.get("x-access-token"),refresh:e.headers.get("x-refresh-token"),expires:parseInt(e.headers.get("x-access-token-expires"),10)}});case 1:case"end":return t.stop()}}),t)}))),function(t){return h.apply(this,arguments)}),onFailure:b.onFailure},ACCOUNT_IDS:{method:"GET",url:"https://trade-service.wealthsimple.com/account/list",onSuccess:(l=w()(m().mark((function t(e){var r;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:return r=t.sent,t.abrupt("return",r.results.map((function(t){return t.id})));case 4:case"end":return t.stop()}}),t)}))),function(t){return l.apply(this,arguments)}),onFailure:b.onFailure},LIST_ACCOUNT:{method:"GET",url:"https://trade-service.wealthsimple.com/account/list",onSuccess:(f=w()(m().mark((function t(e){var r;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:return r=t.sent,t.abrupt("return",r.results);case 4:case"end":return t.stop()}}),t)}))),function(t){return f.apply(this,arguments)}),onFailure:b.onFailure},ME:{method:"GET",url:"https://trade-service.wealthsimple.com/me",onSuccess:b.onSuccess,onFailure:b.onFailure},PERSON:{method:"GET",url:"https://trade-service.wealthsimple.com/person",onSuccess:b.onSuccess,onFailure:b.onFailure},HISTORY_ACCOUNT:{method:"GET",url:"https://trade-service.wealthsimple.com/account/history/{0}?account_id={1}",parameters:{0:"interval",1:"accountId"},onSuccess:b.onSuccess,onFailure:b.onFailure},ACTIVITIES:{method:"GET",url:"https://trade-service.wealthsimple.com/account/activities",onSuccess:(p=w()(m().mark((function t(e){var r;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:return r=t.sent,t.abrupt("return",r.results);case 4:case"end":return t.stop()}}),t)}))),function(t){return p.apply(this,arguments)}),onFailure:b.onFailure},DEPOSITS:{method:"GET",url:"https://trade-service.wealthsimple.com/deposits",onSuccess:(u=w()(m().mark((function t(e){var r;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:return r=t.sent,t.abrupt("return",r.results);case 4:case"end":return t.stop()}}),t)}))),function(t){return u.apply(this,arguments)}),onFailure:b.onFailure},BANK_ACCOUNTS:{method:"GET",url:"https://trade-service.wealthsimple.com/bank-accounts",onSuccess:(i=w()(m().mark((function t(e){var r;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:return r=t.sent,t.abrupt("return",r.results);case 4:case"end":return t.stop()}}),t)}))),function(t){return i.apply(this,arguments)}),onFailure:b.onFailure},EXCHANGE_RATES:{method:"GET",url:"https://trade-service.wealthsimple.com/forex",onSuccess:b.onSuccess,onFailure:b.onFailure},SECURITY:{method:"GET",url:"https://trade-service.wealthsimple.com/securities?query={0}",parameters:{0:"ticker"},onSuccess:(c=w()(m().mark((function t(e){var r;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:if(0!==(r=t.sent).results.length){t.next=5;break}throw new Error("Security does not exist");case 5:return t.abrupt("return",r.results);case 6:case"end":return t.stop()}}),t)}))),function(t){return c.apply(this,arguments)}),onFailure:b.onFailure},EXTENSIVE_SECURITY_DETAILS:{method:"GET",url:"https://trade-service.wealthsimple.com/securities/{0}",parameters:{0:"id"},onSuccess:b.onSuccess,onFailure:b.onFailure},POSITIONS:{method:"GET",url:"https://trade-service.wealthsimple.com/account/positions?account_id={0}",parameters:{0:"accountId"},onSuccess:(s=w()(m().mark((function t(e){var r;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:return r=t.sent,t.abrupt("return",r.results);case 4:case"end":return t.stop()}}),t)}))),function(t){return s.apply(this,arguments)}),onFailure:b.onFailure},ORDERS_BY_PAGE:{method:"GET",url:"https://trade-service.wealthsimple.com/orders?offset={0}&account_id={1}",parameters:{0:"offset",1:"accountId"},onSuccess:(a=w()(m().mark((function t(e){var r;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:return r=t.sent,t.abrupt("return",{total:r.total,orders:r.results});case 4:case"end":return t.stop()}}),t)}))),function(t){return a.apply(this,arguments)}),onFailure:b.onFailure},CANCEL_ORDER:{method:"DELETE",url:"https://trade-service.wealthsimple.com/orders/{0}",parameters:{0:"orderId"},onSuccess:b.onSuccess,onFailure:b.onFailure},PLACE_ORDER:{method:"POST",url:"https://trade-service.wealthsimple.com/orders",onSuccess:b.onSuccess,onFailure:b.onFailure}}},464:(t,e,r)=>{"use strict";r.d(e,{Z:()=>u});var n=r(757),o=r.n(n),a=r(926),s=r.n(a),c=r(811),i=r(726);const u={tokens:null,otp:null,on:function(t,e){this[t]=e},login:function(t,e){var r=this;return s()(o().mark((function n(){var a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=null,"function"!=typeof r.otp){n.next=4;break}return n.next=4,(0,c.Z)(i.Z.LOGIN,{email:t,password:e}).catch((function(){}));case 4:if(n.prev=4,n.t0=c.Z,n.t1=i.Z.LOGIN,n.t2=t,n.t3=e,"function"!=typeof r.otp){n.next=15;break}return n.next=12,r.otp();case 12:n.t4=n.sent,n.next=16;break;case 15:n.t4=r.otp;case 16:return n.t5=n.t4,n.t6={email:n.t2,password:n.t3,otp:n.t5},n.next=20,(0,n.t0)(n.t1,n.t6);case 20:a=n.sent,n.next=28;break;case 23:if(n.prev=23,n.t7=n.catch(4),r.otp){n.next=27;break}throw new Error("OTP not provided!");case 27:throw n.t7;case 28:r.tokens=a.tokens;case 29:case"end":return n.stop()}}),n,null,[[4,23]])})))()},refresh:function(){var t=this;return s()(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.tokens.access=null,e.next=3,(0,c.Z)(i.Z.REFRESH,{refresh_token:t.tokens.refresh});case 3:r=e.sent,t.tokens=r.tokens;case 5:case"end":return e.stop()}}),e)})))()}}},500:(t,e,r)=>{"use strict";r.d(e,{e:()=>o,Z:()=>a});var n=["securities_cache"],o=function(t){return!n.includes(t)};function a(t){if(null!=t&&t.startsWith("no_")){var e=t.substring(t.indexOf("_")+1);o(e)&&n.push(e)}else o(t)||n.splice(n.indexOf(t),1)}},657:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});var n=r(38),o=r.n(n),a=r(575),s=r.n(a),c=r(913),i=r.n(c),u=["NASDAQ","NYSE","TSX","TSX-V","NEO","CC"];const p=function(){function t(e){if(s()(this,t),this.symbol=null,this.exchange=null,this.id=null,this.crypto=!1,"string"==typeof e){if(""===e)throw new Error("Empty ticker");var r=e.split(":"),n=o()(r,2);this.symbol=n[0],this.exchange=n[1]}else{if(!e.symbol&&!e.id)throw new Error("Invalid ticker '".concat(e,"'"));this.symbol=e.symbol,this.exchange=e.exchange,this.id=e.id}if(this.exchange&&!u.includes(this.exchange))throw new Error("Invalid exchange '".concat(this.exchange,"'!"));"CC"===this.exchange&&(this.crypto=!0,this.exchange=null),"NEO"===this.exchange&&(this.exchange="AEQUITAS NEO EXCHANGE")}return i()(t,[{key:"format",value:function(){return this.id?this.id:"AEQUITAS NEO EXCHANGE"===this.exchange?"".concat(this.symbol,":NEO"):this.crypto?"".concat(this.symbol,":CC"):"".concat(this.symbol).concat(this.exchange?":".concat(this.exchange):"")}},{key:"weakEquals",value:function(t){return!(!this.id||this.id!==t.id)||!(!this.symbol||this.symbol!==t.symbol||this.crypto!=t.crypto)}}]),t}()},752:(t,e,r)=>{"use strict";r.d(e,{Z:()=>x});var n=r(38),o=r.n(n),a=r(757),s=r.n(a),c=r(926),i=r.n(c),u=r(726),p=r(811),f=r(657),l=r(500),h=r(575),d=r.n(h),y=r(913),m=r.n(y),v=new(function(){function t(e){d()(this,t),this.cache=new Map,this.size=e}return m()(t,[{key:"insert",value:function(t,e){this.cache.size>=this.size&&this.cache.delete(this.cache.keys().next().value),this.cache.set(t,e)}},{key:"get",value:function(t){return this.cache.get(t)}}]),t}())(10);const w=function(t){var e=v.get(new f.Z(t).format());return void 0===e?null:e},x={exchangeRates:(g=i()(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.Z)(u.Z.EXCHANGE_RATES,{}));case 1:case"end":return t.stop()}}),t)}))),function(){return g.apply(this,arguments)}),getSecurity:(b=i()(s().mark((function t(e,r){var n,a,c,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null,a=new f.Z(e),r||!(0,l.e)("securities_cache")){t.next=6;break}if(!(n=w(a))){t.next=6;break}return t.abrupt("return",n);case 6:if(!a.id){t.next=12;break}return t.next=9,(0,p.Z)(u.Z.EXTENSIVE_SECURITY_DETAILS,{id:a.id});case 9:n=t.sent,t.next=29;break;case 12:return t.next=14,(0,p.Z)(u.Z.SECURITY,{ticker:a.symbol});case 14:if(n=(n=t.sent).filter((function(t){return t.stock.symbol===a.symbol})),a.exchange&&(n=n.filter((function(t){return t.stock.primary_exchange===a.exchange}))),a.crypto&&(n=n.filter((function(t){return"cryptocurrency"===t.security_type}))),!(n.length>1)){t.next=20;break}throw new Error("Multiple securities matched query.");case 20:if(0!==n.length){t.next=22;break}throw new Error("No securities matched query.");case 22:if(c=n,i=o()(c,1),n=i[0],!r){t.next=29;break}return t.next=28,(0,p.Z)(u.Z.EXTENSIVE_SECURITY_DETAILS,{id:n.id});case 28:n=t.sent;case 29:return(0,l.e)("securities_cache")&&null===w(a)&&(s=a,h=n,v.insert(new f.Z(s).format(),h)),t.abrupt("return",n);case 31:case"end":return t.stop()}var s,h}),t)}))),function(t,e){return b.apply(this,arguments)})};var b,g},568:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});var n=r(319),o=r.n(n),a=new(r(545).Headers);const s={add:function(t,e){return a.append(t,e)},remove:function(t){return a.delete(t)},clear:function(){return o()(a).forEach((function(t){return a.delete(t[0])}))},values:function(){return o()(a)}}},352:(t,e,r)=>{r(949).install();var n=r(464).Z,o=r(568).Z,a=r(391).Z,s=r(826).Z,c=r(752).Z,i=r(889).Z,u=r(500).Z;t.exports={auth:n,headers:o,accounts:a,orders:s,quotes:i,data:c,config:u}},811:(t,e,r)=>{"use strict";r.d(e,{Z:()=>S});var n=r(757),o=r.n(n),a=r(319),s=r.n(a),c=r(926),i=r.n(c),u=r(713),p=r.n(u),f=r(545),l=r.n(f),h=r(457),d=r.n(h),y=r(568),m=r(464),v=r(500);const w=function(){return parseInt(Date.now()/1e3,10)};function x(){return b.apply(this,arguments)}function b(){return(b=i()(o().mark((function t(){var e,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(w()>=(null===(e=m.Z.tokens)||void 0===e?void 0:e.expires))){t.next=13;break}if(null===(r=m.Z.tokens)||void 0===r||!r.refresh){t.next=12;break}return t.prev=2,t.next=5,m.Z.refresh();case 5:t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(2),new Error("Unable to refresh expired token: ".concat(t.t0));case 10:t.next=13;break;case 12:throw new Error("Access token expired");case 13:case"end":return t.stop()}}),t,null,[[2,7]])})))).apply(this,arguments)}function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function E(t,e){var r=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){p()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},e),n=t.url;if(t.parameters)for(var o=0;o<Object.keys(t.parameters).length;o++){var a=t.parameters[o];if(null===r[a]||void 0===r[a])throw new Error("URL Path parameter '".concat(a,"' missing!"));n=n.replace("{".concat(o,"}"),r[t.parameters[o]]),delete r[t.parameters[o]]}return["GET","HEAD"].includes(t.method)?{url:n,payload:void 0}:{url:n,payload:JSON.stringify(r)}}function k(t,e){return _.apply(this,arguments)}function _(){return(_=i()(o().mark((function t(e,r){var n,a,c,i,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((a=new f.Headers).append("Content-Type","application/json"),null===(n=m.Z.tokens)||void 0===n||!n.access){t.next=7;break}if(!(0,v.e)("implicit_token_refresh")){t.next=6;break}return t.next=6,x();case 6:a.append("Authorization",m.Z.tokens.access);case 7:return y.Z.values().forEach((function(t){return a.append.apply(a,s()(t))})),c=E(e,r),i=c.url,u=c.payload,console.log(u),t.abrupt("return",l()(i,{body:u,method:e.method,headers:a}));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(t,e){return O.apply(this,arguments)}function O(){return(O=i()(o().mark((function t(e,r){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e,r);case 2:if(n=t.sent,![d().OK,d().CREATED].includes(n.status)){t.next=5;break}return t.abrupt("return",e.onSuccess(n));case 5:return t.t0=Promise,t.next=8,e.onFailure(n);case 8:return t.t1=t.sent,t.abrupt("return",t.t0.reject.call(t.t0,t.t1));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},826:(t,e,r)=>{"use strict";r.d(e,{Z:()=>R});var n=r(713),o=r.n(n),a=r(319),s=r.n(a),c=r(757),i=r.n(c),u=r(926),p=r.n(u),f=r(726),l=r(811),h=r(657);function d(t,e){return y.apply(this,arguments)}function y(){return(y=p()(i().mark((function t(e,r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.Z)(f.Z.ORDERS_BY_PAGE,{offset:(r-1)*f.p,accountId:e}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){return v.apply(this,arguments)}function v(){return(v=p()(i().mark((function t(e){var r,n,o,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e,1);case 2:if(r=t.sent,!((n=Math.ceil(r.total/f.p))>1)){t.next=12;break}for(o=[],a=2;a<=n;a++)o.push(d(e,a).then((function(t){return t.orders})));return t.next=9,Promise.all(o);case 9:t.sent.forEach((function(t){var e;return(e=r.orders).push.apply(e,s()(t))})),r.total=r.orders.length;case 12:return t.abrupt("return",r);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t,e,r){return x.apply(this,arguments)}function x(){return(x=p()(i().mark((function t(e,r,n){var o,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e);case 2:return o=t.sent,a=function(t){if(r){var e=new h.Z({symbol:t.symbol,id:t.security_id});if(!new h.Z(r).weakEquals(e))return!1}return t.status===n},o.orders=o.orders.filter(a),o.total=o.orders.length,t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}const b={page:d,all:m,pending:(k=p()(i().mark((function t(e,r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",w(e,r,"submitted"));case 1:case"end":return t.stop()}}),t)}))),function(t,e){return k.apply(this,arguments)}),filled:(E=p()(i().mark((function t(e,r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",w(e,r,"posted"));case 1:case"end":return t.stop()}}),t)}))),function(t,e){return E.apply(this,arguments)}),cancelled:(g=p()(i().mark((function t(e,r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",w(e,r,"cancelled"));case 1:case"end":return t.stop()}}),t)}))),function(t,e){return g.apply(this,arguments)})};var g,E,k,_=r(752),S=r(889),O=function(t){return["TSX","TSX-V"].includes(t)};const Z={cancel:(C=p()(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,(0,l.Z)(f.Z.CANCEL_ORDER,{orderId:e});case 3:return t.t1=t.sent,t.abrupt("return",{order:t.t0,response:t.t1});case 5:case"end":return t.stop()}}),t)}))),function(t){return C.apply(this,arguments)}),cancelPending:function(t){var e=this;return p()(i().mark((function r(){var n;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.pending(t);case 2:return n=r.sent,r.abrupt("return",Promise.all(n.orders.map(function(){var t=p()(i().mark((function t(r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.cancel(r.order_id));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())));case 4:case"end":return r.stop()}}),r)})))()},marketBuy:(L=p()(i().mark((function t(e,r,n){var o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.Z.getSecurity(r);case 2:return o=t.sent,t.t0=l.Z,t.t1=f.Z.PLACE_ORDER,t.t2=o.id,t.next=8,S.Z.get(r);case 8:return t.t3=t.sent,t.t4=n,t.t5=e,t.t6={security_id:t.t2,limit_price:t.t3,quantity:t.t4,order_type:"buy_quantity",order_sub_type:"market",time_in_force:"day",account_id:t.t5},t.abrupt("return",(0,t.t0)(t.t1,t.t6));case 13:case"end":return t.stop()}}),t)}))),function(t,e,r){return L.apply(this,arguments)}),limitBuy:(P=p()(i().mark((function t(e,r,n,o){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=l.Z,t.t1=f.Z.PLACE_ORDER,t.next=4,_.Z.getSecurity(r);case 4:return t.t2=t.sent.id,t.t3=n,t.t4=o,t.t5=e,t.t6={security_id:t.t2,limit_price:t.t3,quantity:t.t4,order_type:"buy_quantity",order_sub_type:"limit",time_in_force:"day",account_id:t.t5},t.abrupt("return",(0,t.t0)(t.t1,t.t6));case 10:case"end":return t.stop()}}),t)}))),function(t,e,r,n){return P.apply(this,arguments)}),stopLimitBuy:(A=p()(i().mark((function t(e,r,n,o,a){var s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.Z.getSecurity(r);case 2:if(s=t.sent,!O(s.stock.primary_exchange)||n===o){t.next=5;break}throw new Error("TSX/TSX-V securities must have an equivalent stop and limit price.");case 5:return t.abrupt("return",(0,l.Z)(f.Z.PLACE_ORDER,{security_id:s.id,stop_price:n,limit_price:o,quantity:a,order_type:"buy_quantity",order_sub_type:"stop_limit",time_in_force:"day",account_id:e}));case 6:case"end":return t.stop()}}),t)}))),function(t,e,r,n,o){return A.apply(this,arguments)}),marketSell:(I=p()(i().mark((function t(e,r,n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=l.Z,t.t1=f.Z.PLACE_ORDER,t.next=4,_.Z.getSecurity(r);case 4:if(t.t2=t.sent.id,new h.Z(r).crypto){t.next=11;break}return t.next=8,S.Z.get(r);case 8:t.t3=t.sent,t.next=12;break;case 11:t.t3=void 0;case 12:return t.t4=t.t3,t.t5=n,t.t6=e,t.t7={security_id:t.t2,market_value:t.t4,quantity:t.t5,order_type:"sell_quantity",order_sub_type:"market",time_in_force:"day",account_id:t.t6},t.abrupt("return",(0,t.t0)(t.t1,t.t7));case 17:case"end":return t.stop()}}),t)}))),function(t,e,r){return I.apply(this,arguments)}),limitSell:(j=p()(i().mark((function t(e,r,n,o){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=l.Z,t.t1=f.Z.PLACE_ORDER,t.next=4,_.Z.getSecurity(r);case 4:return t.t2=t.sent.id,t.t3=n,t.t4=o,t.t5=e,t.t6={security_id:t.t2,limit_price:t.t3,quantity:t.t4,order_type:"sell_quantity",order_sub_type:"limit",time_in_force:"day",account_id:t.t5},t.abrupt("return",(0,t.t0)(t.t1,t.t6));case 10:case"end":return t.stop()}}),t)}))),function(t,e,r,n){return j.apply(this,arguments)}),stopLimitSell:(T=p()(i().mark((function t(e,r,n,o,a){var s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.Z.getSecurity(r);case 2:if(s=t.sent,!O(s.stock.primary_exchange)||n===o){t.next=5;break}throw new Error("TSX/TSX-V securities must have an equivalent stop and limit price.");case 5:return t.abrupt("return",(0,l.Z)(f.Z.PLACE_ORDER,{security_id:s.id,stop_price:n,limit_price:o,quantity:a,order_type:"sell_quantity",order_sub_type:"stop_limit",time_in_force:"day",account_id:e}));case 6:case"end":return t.stop()}}),t)}))),function(t,e,r,n,o){return T.apply(this,arguments)})};var T,j,I,A,P,L,C;function F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function N(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?F(Object(r),!0).forEach((function(e){o()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}const R=N(N({},b),Z)},889:(t,e,r)=>{"use strict";r.d(e,{Z:()=>u});var n,o=r(757),a=r.n(o),s=r(926),c=r.n(s),i=r(752);const u={defaultProvider:{quote:(n=c()(a().mark((function t(e){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.getSecurity(e,!0);case 2:return r=t.sent,t.abrupt("return",r.quote.amount);case 4:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})},providers:{},use:function(t,e){if("function"!=typeof e.quote)throw new Error("Invalid quote provider for ".concat(t,"!"));this.providers[t]=e},get:function(t){var e=this;return c()(a().mark((function r(){var n,o;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=null,!t.exchange){r.next=5;break}n=t.exchange,r.next=10;break;case 5:if(!(Object.keys(e.providers).length>0)){r.next=10;break}return r.next=8,i.Z.getSecurity(t,!1);case 8:o=r.sent,n=o.stock.primary_exchange;case 10:if(!e.providers[n]){r.next=12;break}return r.abrupt("return",e.providers[n].quote(t));case 12:return r.abrupt("return",e.defaultProvider.quote(t));case 13:case"end":return r.stop()}}),r)})))()}}},666:t=>{var e=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function i(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new Z(n||[]);return a._invoke=function(t,e,r){var n=p;return function(o,a){if(n===l)throw new Error("Generator is already running");if(n===h){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=l;var i=u(t,e,r);if("normal"===i.type){if(n=r.done?h:f,i.arg===d)continue;return{value:i.arg,done:r.done}}"throw"===i.type&&(n=h,r.method="throw",r.arg=i.arg)}}}(t,r,s),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=i;var p="suspendedStart",f="suspendedYield",l="executing",h="completed",d={};function y(){}function m(){}function v(){}var w={};w[a]=function(){return this};var x=Object.getPrototypeOf,b=x&&x(x(T([])));b&&b!==r&&n.call(b,a)&&(w=b);var g=v.prototype=y.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function k(t,e){function r(o,a,s,c){var i=u(t[o],t,a);if("throw"!==i.type){var p=i.arg,f=p.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,s,c)}),(function(t){r("throw",t,s,c)})):e.resolve(f).then((function(t){p.value=t,s(p)}),(function(t){return r("throw",t,s,c)}))}c(i.arg)}var o;this._invoke=function(t,n){function a(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(a,a):a()}}function _(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method))return d;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Z(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function T(t){if(t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,s=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return s.next=s}}return{next:j}}function j(){return{value:e,done:!0}}return m.prototype=g.constructor=v,v.constructor=m,v[c]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},E(k.prototype),k.prototype[s]=function(){return this},t.AsyncIterator=k,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var s=new k(i(e,r,n,o),a);return t.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},E(g),g[c]="Generator",g[a]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=T,Z.prototype={constructor:Z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],c=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var i=n.call(s,"catchLoc"),u=n.call(s,"finallyLoc");if(i&&u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(i){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}},457:t=>{"use strict";t.exports=r},545:t=>{"use strict";t.exports=e},949:e=>{"use strict";e.exports=t}},o={};function a(t){if(o[t])return o[t].exports;var e=o[t]={exports:{}};return n[t](e,e.exports,a),e.exports}return a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a(352)})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93c3RyYWRlLWFwaS93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hcnJheUxpa2VUb0FycmF5LmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXJyYXlXaXRoSG9sZXMuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hcnJheVdpdGhvdXRIb2xlcy5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL25vbkl0ZXJhYmxlUmVzdC5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL25vbkl0ZXJhYmxlU3ByZWFkLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheS5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5LmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvYWNjb3VudHMuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvYXBpL2VuZHBvaW50cy5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9hdXRoLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9jb3JlL3RpY2tlci5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9vcHRpb25hbC9zZWN1cml0aWVzLWNhY2hlLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL2NvcmUvY2FjaGUuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvZGF0YS5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9oZWFkZXJzLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL2hlbHBlcnMvdGltZS5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9vcHRpb25hbC9pbXBsaWNpdC10b2tlbi1yZWZyZXNoLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL25ldHdvcmsvaHR0cHMuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvb3JkZXJzL2hpc3RvcnkuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvb3JkZXJzL3N1Ym1pdC5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9vcmRlcnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvcXVvdGVzL2RlZmF1bHQuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvcXVvdGVzL2luZGV4LmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vbm9kZV9tb2R1bGVzL3JlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS9leHRlcm5hbCB7XCJjb21tb25qc1wiOlwiaHR0cC1zdGF0dXNcIixcImNvbW1vbmpzMlwiOlwiaHR0cC1zdGF0dXNcIixcImFtZFwiOlwiaHR0cC1zdGF0dXNcIixcInJvb3RcIjpcIl9cIn0iLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvZXh0ZXJuYWwge1wiY29tbW9uanNcIjpcIm5vZGUtZmV0Y2hcIixcImNvbW1vbmpzMlwiOlwibm9kZS1mZXRjaFwiLFwiYW1kXCI6XCJub2RlLWZldGNoXCIsXCJyb290XCI6XCJfXCJ9Iiwid2VicGFjazovL3dzdHJhZGUtYXBpL2V4dGVybmFsIHtcImNvbW1vbmpzXCI6XCJzb3VyY2UtbWFwLXN1cHBvcnRcIixcImNvbW1vbmpzMlwiOlwic291cmNlLW1hcC1zdXBwb3J0XCIsXCJhbWRcIjpcInNvdXJjZS1tYXAtc3VwcG9ydFwiLFwicm9vdFwiOlwiX1wifSIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS93ZWJwYWNrL3N0YXJ0dXAiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3dzdHJhZGUtYXBpL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsImdsb2JhbCIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzk0OV9fIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fNTQ1X18iLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX180NTdfXyIsImFyciIsImxlbiIsImxlbmd0aCIsImkiLCJhcnIyIiwiQXJyYXkiLCJpc0FycmF5IiwiYXJyYXlMaWtlVG9BcnJheSIsImFzeW5jR2VuZXJhdG9yU3RlcCIsImdlbiIsInJlc29sdmUiLCJyZWplY3QiLCJfbmV4dCIsIl90aHJvdyIsImtleSIsImFyZyIsImluZm8iLCJ2YWx1ZSIsImVycm9yIiwiZG9uZSIsIlByb21pc2UiLCJ0aGVuIiwiZm4iLCJzZWxmIiwidGhpcyIsImFyZ3MiLCJhcmd1bWVudHMiLCJhcHBseSIsImVyciIsInVuZGVmaW5lZCIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwicHJvdG90eXBlIiwib2JqIiwiaXRlciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiZnJvbSIsIl9hcnIiLCJfbiIsIl9kIiwiX2UiLCJfcyIsIl9pIiwibmV4dCIsInB1c2giLCJhcnJheVdpdGhIb2xlcyIsIml0ZXJhYmxlVG9BcnJheUxpbWl0IiwidW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJub25JdGVyYWJsZVJlc3QiLCJhcnJheVdpdGhvdXRIb2xlcyIsIml0ZXJhYmxlVG9BcnJheSIsIm5vbkl0ZXJhYmxlU3ByZWFkIiwibyIsIm1pbkxlbiIsIm4iLCJ0b1N0cmluZyIsImNhbGwiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsInRlc3QiLCJhbGwiLCJoYW5kbGVSZXF1ZXN0IiwiZW5kcG9pbnRzIiwiYWNjb3VudHMiLCJ0ZnNhIiwiZmluZCIsImFjY291bnQiLCJzdGFydHNXaXRoIiwicnJzcCIsImNyeXB0byIsInBlcnNvbmFsIiwiZGF0YSIsIm1lIiwicGVyc29uIiwiaGlzdG9yeSIsImludGVydmFsIiwiYWNjb3VudElkIiwiYWN0aXZpdGllcyIsImdldEJhbmtBY2NvdW50cyIsImRlcG9zaXRzIiwicG9zaXRpb25zIiwiT1JERVJTX1BFUl9QQUdFIiwiZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyIiwib25GYWlsdXJlIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwidGV4dCIsInJlYXNvbiIsImJvZHkiLCJvblN1Y2Nlc3MiLCJqc29uIiwiTE9HSU4iLCJtZXRob2QiLCJ1cmwiLCJhY2Nlc3MiLCJoZWFkZXJzIiwiZ2V0IiwicmVmcmVzaCIsImV4cGlyZXMiLCJwYXJzZUludCIsInRva2VucyIsImFjY291bnRJbmZvIiwiUkVGUkVTSCIsIkFDQ09VTlRfSURTIiwicmVzdWx0cyIsIm1hcCIsImlkIiwiTElTVF9BQ0NPVU5UIiwiTUUiLCJQRVJTT04iLCJISVNUT1JZX0FDQ09VTlQiLCJwYXJhbWV0ZXJzIiwiMCIsIjEiLCJBQ1RJVklUSUVTIiwiREVQT1NJVFMiLCJCQU5LX0FDQ09VTlRTIiwiRVhDSEFOR0VfUkFURVMiLCJTRUNVUklUWSIsIkVycm9yIiwiRVhURU5TSVZFX1NFQ1VSSVRZX0RFVEFJTFMiLCJQT1NJVElPTlMiLCJPUkRFUlNfQllfUEFHRSIsInRvdGFsIiwib3JkZXJzIiwiQ0FOQ0VMX09SREVSIiwiUExBQ0VfT1JERVIiLCJvdHAiLCJvbiIsImV2ZW50IiwidGh1bmsiLCJsb2dpbiIsImVtYWlsIiwicGFzc3dvcmQiLCJyZWZyZXNoX3Rva2VuIiwiZGlzYWJsZWQiLCJjb25maWdFbmFibGVkIiwiZmVhdHVyZSIsImluY2x1ZGVzIiwiY29uZmlnIiwiY3V0Iiwic3Vic3RyaW5nIiwiaW5kZXhPZiIsInNwbGljZSIsImV4Y2hhbmdlcyIsInN5bWJvbCIsImV4Y2hhbmdlIiwic3BsaXQiLCJvdGhlciIsImNhY2hlIiwic2l6ZSIsIk1hcCIsImtleXMiLCJzZXQiLCJzZWN1cml0eSIsInJlc3VsdCIsIlRpY2tlciIsImZvcm1hdCIsImV4Y2hhbmdlUmF0ZXMiLCJnZXRTZWN1cml0eSIsInVzZXJUaWNrZXIiLCJleHRlbnNpdmUiLCJ0aWNrZXIiLCJmaWx0ZXIiLCJzdG9jayIsInByaW1hcnlfZXhjaGFuZ2UiLCJzZWN1cml0eV90eXBlIiwiaW5zZXJ0IiwiY3VzdG9tSGVhZGVycyIsIkhlYWRlcnMiLCJhZGQiLCJhcHBlbmQiLCJyZW1vdmUiLCJjbGVhciIsImZvckVhY2giLCJoZWFkZXIiLCJ2YWx1ZXMiLCJhdXRoIiwicXVvdGVzIiwiRGF0ZSIsIm5vdyIsImltcGxpY2l0VG9rZW5SZWZyZXNoIiwiZXBvY2hTZWNvbmRzIiwiZmluYWxpemVSZXF1ZXN0IiwiZW5kcG9pbnQiLCJwYXJhbXMiLCJpbmRleCIsInBhcmFtZXRlck5hbWUiLCJyZXBsYWNlIiwicGF5bG9hZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0YWxrIiwiY29uc29sZSIsImxvZyIsImZldGNoIiwicGFnZSIsInBhZ2VOdW0iLCJvZmZzZXQiLCJwYWdlcyIsIk1hdGgiLCJjZWlsIiwidGFza3MiLCJsaXN0IiwiZmlsdGVyZWRPcmRlcnMiLCJvcmRlckZpbHRlciIsIm9yZGVyIiwic2VjdXJpdHlfaWQiLCJ3ZWFrRXF1YWxzIiwicGVuZGluZyIsImZpbGxlZCIsImNhbmNlbGxlZCIsImlzQ2FuYWRpYW5TZWN1cml0eSIsImNhbmNlbCIsIm9yZGVySWQiLCJjYW5jZWxQZW5kaW5nIiwib3JkZXJfaWQiLCJtYXJrZXRCdXkiLCJxdWFudGl0eSIsImRldGFpbHMiLCJsaW1pdF9wcmljZSIsIm9yZGVyX3R5cGUiLCJvcmRlcl9zdWJfdHlwZSIsInRpbWVfaW5fZm9yY2UiLCJhY2NvdW50X2lkIiwibGltaXRCdXkiLCJsaW1pdCIsInN0b3BMaW1pdEJ1eSIsInN0b3AiLCJzdG9wX3ByaWNlIiwibWFya2V0U2VsbCIsIm1hcmtldF92YWx1ZSIsImxpbWl0U2VsbCIsInN0b3BMaW1pdFNlbGwiLCJzdWJtaXQiLCJkZWZhdWx0UHJvdmlkZXIiLCJxdW90ZSIsImFtb3VudCIsInByb3ZpZGVycyIsInVzZSIsInByb3ZpZGVyIiwicnVudGltZSIsIk9wIiwiaGFzT3duIiwiaGFzT3duUHJvcGVydHkiLCIkU3ltYm9sIiwiaXRlcmF0b3JTeW1ib2wiLCJhc3luY0l0ZXJhdG9yU3ltYm9sIiwiYXN5bmNJdGVyYXRvciIsInRvU3RyaW5nVGFnU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ3cmFwIiwiaW5uZXJGbiIsIm91dGVyRm4iLCJ0cnlMb2NzTGlzdCIsInByb3RvR2VuZXJhdG9yIiwiR2VuZXJhdG9yIiwiZ2VuZXJhdG9yIiwiY3JlYXRlIiwiY29udGV4dCIsIkNvbnRleHQiLCJfaW52b2tlIiwic3RhdGUiLCJHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0IiwiR2VuU3RhdGVFeGVjdXRpbmciLCJHZW5TdGF0ZUNvbXBsZXRlZCIsImRvbmVSZXN1bHQiLCJkZWxlZ2F0ZSIsImRlbGVnYXRlUmVzdWx0IiwibWF5YmVJbnZva2VEZWxlZ2F0ZSIsIkNvbnRpbnVlU2VudGluZWwiLCJzZW50IiwiX3NlbnQiLCJkaXNwYXRjaEV4Y2VwdGlvbiIsImFicnVwdCIsInJlY29yZCIsInRyeUNhdGNoIiwidHlwZSIsIkdlblN0YXRlU3VzcGVuZGVkWWllbGQiLCJtYWtlSW52b2tlTWV0aG9kIiwiR2VuZXJhdG9yRnVuY3Rpb24iLCJHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSIsIkl0ZXJhdG9yUHJvdG90eXBlIiwiZ2V0UHJvdG8iLCJnZXRQcm90b3R5cGVPZiIsIk5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlIiwiR3AiLCJkZWZpbmVJdGVyYXRvck1ldGhvZHMiLCJBc3luY0l0ZXJhdG9yIiwiUHJvbWlzZUltcGwiLCJpbnZva2UiLCJfX2F3YWl0IiwidW53cmFwcGVkIiwicHJldmlvdXNQcm9taXNlIiwiY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmciLCJyZXN1bHROYW1lIiwibmV4dExvYyIsInB1c2hUcnlFbnRyeSIsImxvY3MiLCJlbnRyeSIsInRyeUxvYyIsImNhdGNoTG9jIiwiZmluYWxseUxvYyIsImFmdGVyTG9jIiwidHJ5RW50cmllcyIsInJlc2V0VHJ5RW50cnkiLCJjb21wbGV0aW9uIiwicmVzZXQiLCJpdGVyYWJsZSIsIml0ZXJhdG9yTWV0aG9kIiwiaXNOYU4iLCJkaXNwbGF5TmFtZSIsImlzR2VuZXJhdG9yRnVuY3Rpb24iLCJnZW5GdW4iLCJjdG9yIiwibWFyayIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiYXdyYXAiLCJhc3luYyIsIm9iamVjdCIsInJldmVyc2UiLCJwb3AiLCJza2lwVGVtcFJlc2V0IiwicHJldiIsImNoYXJBdCIsInJvb3RSZWNvcmQiLCJydmFsIiwiZXhjZXB0aW9uIiwiaGFuZGxlIiwibG9jIiwiY2F1Z2h0IiwiaGFzQ2F0Y2giLCJoYXNGaW5hbGx5IiwiZmluYWxseUVudHJ5IiwiY29tcGxldGUiLCJmaW5pc2giLCJ0aHJvd24iLCJkZWxlZ2F0ZVlpZWxkIiwicmVnZW5lcmF0b3JSdW50aW1lIiwiYWNjaWRlbnRhbFN0cmljdE1vZGUiLCJGdW5jdGlvbiIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnZXR0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LEcscUJDQWpCUCxFQUFPRCxRQUFVTyxHLHFCQ0FqQk4sRUFBT0QsUUFBVU0sSUNDYndXLEVBQTJCLEdBRy9CLFNBQVNDLEVBQW9CQyxHQUU1QixHQUFHRixFQUF5QkUsR0FDM0IsT0FBT0YsRUFBeUJFLEdBQVVoWCxRQUczQyxJQUFJQyxFQUFTNlcsRUFBeUJFLEdBQVksQ0FHakRoWCxRQUFTLElBT1YsT0FIQWlYLEVBQW9CRCxHQUFVL1csRUFBUUEsRUFBT0QsUUFBUytXLEdBRy9DOVcsRUFBT0QsUUNqQmYsT0NGQStXLEVBQW9CblMsRUFBSzNFLElBQ3hCLElBQUlpWCxFQUFTalgsR0FBVUEsRUFBT2tYLFdBQzdCLElBQU1sWCxFQUFnQixRQUN0QixJQUFNQSxFQUVQLE9BREE4VyxFQUFvQkssRUFBRUYsRUFBUSxDQUFFRyxFQUFHSCxJQUM1QkEsR0NMUkgsRUFBb0JLLEVBQUksQ0FBQ3BYLEVBQVNzWCxLQUNqQyxJQUFJLElBQUkvVixLQUFPK1YsRUFDWFAsRUFBb0JyUyxFQUFFNFMsRUFBWS9WLEtBQVN3VixFQUFvQnJTLEVBQUUxRSxFQUFTdUIsSUFDNUUwQixPQUFPQyxlQUFlbEQsRUFBU3VCLEVBQUssQ0FBRXVCLFlBQVksRUFBTTBFLElBQUs4UCxFQUFXL1YsTUNKM0V3VixFQUFvQnJTLEVBQUksQ0FBQ3BCLEVBQUtpVSxJQUFTdFUsT0FBT0ksVUFBVXVOLGVBQWU5TCxLQUFLeEIsRUFBS2lVLEdIRzFFUixFQUFvQixNIiwiZmlsZSI6ImRpc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJzb3VyY2UtbWFwLXN1cHBvcnRcIiksIHJlcXVpcmUoXCJub2RlLWZldGNoXCIpLCByZXF1aXJlKFwiaHR0cC1zdGF0dXNcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wic291cmNlLW1hcC1zdXBwb3J0XCIsIFwibm9kZS1mZXRjaFwiLCBcImh0dHAtc3RhdHVzXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIndzdHJhZGUtYXBpXCJdID0gZmFjdG9yeShyZXF1aXJlKFwic291cmNlLW1hcC1zdXBwb3J0XCIpLCByZXF1aXJlKFwibm9kZS1mZXRjaFwiKSwgcmVxdWlyZShcImh0dHAtc3RhdHVzXCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJ3c3RyYWRlLWFwaVwiXSA9IGZhY3Rvcnkocm9vdFtcIl9cIl0sIHJvb3RbXCJfXCJdLCByb290W1wiX1wiXSk7XG59KShnbG9iYWwsIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzk0OV9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX181NDVfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fNDU3X18pIHtcbnJldHVybiAiLCJmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHtcbiAgICBhcnIyW2ldID0gYXJyW2ldO1xuICB9XG5cbiAgcmV0dXJuIGFycjI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2FycmF5TGlrZVRvQXJyYXk7IiwiZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hcnJheVdpdGhIb2xlczsiLCJ2YXIgYXJyYXlMaWtlVG9BcnJheSA9IHJlcXVpcmUoXCIuL2FycmF5TGlrZVRvQXJyYXlcIik7XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkoYXJyKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfYXJyYXlXaXRob3V0SG9sZXM7IiwiZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykge1xuICB0cnkge1xuICAgIHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTtcbiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlamVjdChlcnJvcik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGluZm8uZG9uZSkge1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXG4gICAgICBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkge1xuICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIF90aHJvdyhlcnIpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7XG4gICAgICB9XG5cbiAgICAgIF9uZXh0KHVuZGVmaW5lZCk7XG4gICAgfSk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2FzeW5jVG9HZW5lcmF0b3I7IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfY2xhc3NDYWxsQ2hlY2s7IiwiZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9jcmVhdGVDbGFzczsiLCJmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfZGVmaW5lUHJvcGVydHk7IiwiZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9pdGVyYWJsZVRvQXJyYXk7IiwiZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkge1xuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkpIHJldHVybjtcbiAgdmFyIF9hcnIgPSBbXTtcbiAgdmFyIF9uID0gdHJ1ZTtcbiAgdmFyIF9kID0gZmFsc2U7XG4gIHZhciBfZSA9IHVuZGVmaW5lZDtcblxuICB0cnkge1xuICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHtcbiAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7XG5cbiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9kID0gdHJ1ZTtcbiAgICBfZSA9IGVycjtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoX2QpIHRocm93IF9lO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBfYXJyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9pdGVyYWJsZVRvQXJyYXlMaW1pdDsiLCJmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9ub25JdGVyYWJsZVJlc3Q7IiwiZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfbm9uSXRlcmFibGVTcHJlYWQ7IiwidmFyIGFycmF5V2l0aEhvbGVzID0gcmVxdWlyZShcIi4vYXJyYXlXaXRoSG9sZXNcIik7XG5cbnZhciBpdGVyYWJsZVRvQXJyYXlMaW1pdCA9IHJlcXVpcmUoXCIuL2l0ZXJhYmxlVG9BcnJheUxpbWl0XCIpO1xuXG52YXIgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkgPSByZXF1aXJlKFwiLi91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheVwiKTtcblxudmFyIG5vbkl0ZXJhYmxlUmVzdCA9IHJlcXVpcmUoXCIuL25vbkl0ZXJhYmxlUmVzdFwiKTtcblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XG4gIHJldHVybiBhcnJheVdpdGhIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBub25JdGVyYWJsZVJlc3QoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfc2xpY2VkVG9BcnJheTsiLCJ2YXIgYXJyYXlXaXRob3V0SG9sZXMgPSByZXF1aXJlKFwiLi9hcnJheVdpdGhvdXRIb2xlc1wiKTtcblxudmFyIGl0ZXJhYmxlVG9BcnJheSA9IHJlcXVpcmUoXCIuL2l0ZXJhYmxlVG9BcnJheVwiKTtcblxudmFyIHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5ID0gcmVxdWlyZShcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXlcIik7XG5cbnZhciBub25JdGVyYWJsZVNwcmVhZCA9IHJlcXVpcmUoXCIuL25vbkl0ZXJhYmxlU3ByZWFkXCIpO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gIHJldHVybiBhcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgbm9uSXRlcmFibGVTcHJlYWQoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfdG9Db25zdW1hYmxlQXJyYXk7IiwidmFyIGFycmF5TGlrZVRvQXJyYXkgPSByZXF1aXJlKFwiLi9hcnJheUxpa2VUb0FycmF5XCIpO1xuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWdlbmVyYXRvci1ydW50aW1lXCIpO1xuIiwiaW1wb3J0IGVuZHBvaW50cyBmcm9tICcuL2FwaS9lbmRwb2ludHMnO1xuaW1wb3J0IGhhbmRsZVJlcXVlc3QgZnJvbSAnLi9uZXR3b3JrL2h0dHBzJztcblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYWxsIGFjY291bnQgaWRzIG9wZW4gdW5kZXIgdGhpcyBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudC5cbiAgICovXG4gIGFsbDogYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGFjY291bnRzID0gYXdhaXQgaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuQUNDT1VOVF9JRFMsIHt9KTtcblxuICAgIHJldHVybiB7XG4gICAgICB0ZnNhOiBhY2NvdW50cy5maW5kKChhY2NvdW50KSA9PiBhY2NvdW50LnN0YXJ0c1dpdGgoJ3Rmc2EnKSksXG4gICAgICBycnNwOiBhY2NvdW50cy5maW5kKChhY2NvdW50KSA9PiBhY2NvdW50LnN0YXJ0c1dpdGgoJ3Jyc3AnKSksXG4gICAgICBjcnlwdG86IGFjY291bnRzLmZpbmQoKGFjY291bnQpID0+IGFjY291bnQuc3RhcnRzV2l0aCgnbm9uLXJlZ2lzdGVyZWQtY3J5cHRvJykpLFxuICAgICAgcGVyc29uYWw6IGFjY291bnRzLmZpbmQoKGFjY291bnQpID0+IGFjY291bnQuc3RhcnRzV2l0aCgnbm9uLXJlZ2lzdGVyZWQnKSAmJiAhYWNjb3VudC5zdGFydHNXaXRoKCdub24tcmVnaXN0ZXJlZC1jcnlwdG8nKSksXG4gICAgfTtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyBhIGxpc3Qgb2YgZGV0YWlscyBhYm91dCB5b3VyIG9wZW4gYWNjb3VudHMsIGxpa2UgYWNjb3VudCB0eXBlLCBidXlpbmcgcG93ZXIsXG4gICAqIGN1cnJlbnQgYmFsYW5jZSwgYW5kIG1vcmUuXG4gICAqL1xuICBkYXRhOiBhc3luYyAoKSA9PiBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5MSVNUX0FDQ09VTlQsIHt9KSxcblxuICAvKipcbiAgICogUmV0cmlldmVzIHNvbWUgc3VyZmFjZSBpbmZvcm1hdGlvbiBhYm91dCB5b3UgbGlrZSB5b3VyIG5hbWUgYW5kIGVtYWlsLCBhY2NvdW50XG4gICAqIHNpZ25hdHVyZXMsIGFuZCBvdGhlciBtZXRhZGF0YS5cbiAgICovXG4gIG1lOiBhc3luYyAoKSA9PiBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5NRSwge30pLFxuXG4gIC8qKlxuICAgKiBEZXRhaWxlZCBpbmZvcm1hdGlvbiBhYm91dCB5b3UgdGhhdCB5b3UgcHJvdmlkZWQgb24gc2lnbnVwLCBsaWtlIHJlc2lkZW50aWFsIGFuZFxuICAgKiBtYWlsaW5nIGFkZHJlc3NlcywgZW1wbG95bWVudCwgcGhvbmUgbnVtYmVycywgYW5kIHNvIG9uLlxuICAgKi9cbiAgcGVyc29uOiBhc3luYyAoKSA9PiBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5QRVJTT04sIHt9KSxcblxuICAvKipcbiAgICogUXVlcnkgdGhlIGhpc3Rvcnkgb2YgdGhlIGFjY291bnQgd2l0aGluIGEgY2VydGFpbiB0aW1lIGludGVydmFsLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGludGVydmFsIFRoZSB0aW1lIGludGVydmFsIGZvciB0aGUgaGlzdG9yeSBxdWVyeVxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgYWNjb3VudCB0byBxdWVyeVxuICAgKi9cbiAgaGlzdG9yeTogYXN5bmMgKGludGVydmFsLCBhY2NvdW50SWQpID0+IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLkhJU1RPUllfQUNDT1VOVCwge1xuICAgIGludGVydmFsLCBhY2NvdW50SWQsXG4gIH0pLFxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIG1vc3QgcmVjZW50IDIwIGFjdGl2aXRpZXMgb24gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBBY2NvdW50LlxuICAgKi9cbiAgYWN0aXZpdGllczogYXN5bmMgKCkgPT4gaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuQUNUSVZJVElFUywge30pLFxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYWxsIGJhbmsgYWNjb3VudHMgbGlua2VkIHRvIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudC5cbiAgICovXG4gIGdldEJhbmtBY2NvdW50czogYXN5bmMgKCkgPT4gaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuQkFOS19BQ0NPVU5UUywge30pLFxuXG4gIC8qKlxuICAgKiBHcmFiIGFsbCBkZXBvc2l0IHJlY29yZHMgb24gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50LlxuICAgKi9cbiAgZGVwb3NpdHM6IGFzeW5jICgpID0+IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLkRFUE9TSVRTLCB7fSksXG5cbiAgLyoqXG4gICAqIExpc3RzIGFsbCBwb3NpdGlvbnMgaW4gdGhlIHNwZWNpZmllZCB0cmFkaW5nIGFjY291bnQgdW5kZXIgdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBBY2NvdW50LlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgc3BlY2lmaWMgYWNjb3VudCBpbiB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnRcbiAgICovXG4gIHBvc2l0aW9uczogYXN5bmMgKGFjY291bnRJZCkgPT4gaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuUE9TSVRJT05TLCB7IGFjY291bnRJZCB9KSxcbn07XG4iLCIvLyBUaGUgbWF4aW11bSBudW1iZXIgb2Ygb3JkZXJzIHJldHJpZXZlZCBieSB0aGUgL29yZGVycyBBUEkuXG5leHBvcnQgY29uc3QgT1JERVJTX1BFUl9QQUdFID0gMjA7XG5cbmNvbnN0IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ciA9IHtcblxuICAvLyBEZWZhdWx0IGZhaWx1cmUgbWV0aG9kIGZvciBhbGwgZW5kcG9pbnQgY2FsbHNcbiAgb25GYWlsdXJlOiBhc3luYyAocmVzcG9uc2UpID0+ICh7XG4gICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgcmVhc29uOiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgIGJvZHk6IGF3YWl0IHJlc3BvbnNlLnRleHQoKSxcbiAgfSksXG5cbiAgLy8gRGVmYXVsdCBzdWNjZXNzIG1ldGhvZCBmb3IgYWxsIGVuZHBvaW50IGNhbGxzXG4gIG9uU3VjY2VzczogYXN5bmMgKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCksXG59O1xuXG5jb25zdCBXZWFsdGhzaW1wbGVUcmFkZUVuZHBvaW50cyA9IHtcblxuICAvKlxuICAgKiBUaGUgTE9HSU4gZW5kcG9pbnQgaW50aWFsaXplcyBhIG5ldyBzZXNzaW9uIGZvciB0aGUgZ2l2ZW4gZW1haWwgYW5kXG4gICAqIHBhc3N3b3JkIHNldC4gSWYgdGhlIGxvZ2luIGlzIHN1Y2Nlc3NmdWwsIGFjY2VzcyBhbmQgcmVmcmVzaCB0b2tlbnNcbiAgICogYXJlIHJldHVybmVkIGluIHRoZSBoZWFkZXJzLiBUaGUgYWNjZXNzIHRva2VuIGlzIHRoZSBrZXkgZm9yIGludm9raW5nXG4gICAqIGFsbCBvdGhlciBlbmQgcG9pbnRzLlxuICAgKi9cbiAgTE9HSU46IHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9hdXRoL2xvZ2luJyxcbiAgICBvblN1Y2Nlc3M6IGFzeW5jIChyZXNwb25zZSkgPT4gKHtcbiAgICAgIHRva2Vuczoge1xuICAgICAgICBhY2Nlc3M6IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCd4LWFjY2Vzcy10b2tlbicpLFxuICAgICAgICByZWZyZXNoOiByZXNwb25zZS5oZWFkZXJzLmdldCgneC1yZWZyZXNoLXRva2VuJyksXG4gICAgICAgIGV4cGlyZXM6IHBhcnNlSW50KHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCd4LWFjY2Vzcy10b2tlbi1leHBpcmVzJyksIDEwKSxcbiAgICAgIH0sXG5cbiAgICAgIGFjY291bnRJbmZvOiBhd2FpdCByZXNwb25zZS5qc29uKCksXG4gICAgfSksXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIEdlbmVyYXRlcyBhIG5ldyBzZXQgb2YgYWNjZXNzIGFuZCByZWZyZXNoIHRva2Vucy5cbiAgICovXG4gIFJFRlJFU0g6IHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9hdXRoL3JlZnJlc2gnLFxuICAgIG9uU3VjY2VzczogYXN5bmMgKHJlc3BvbnNlKSA9PiAoe1xuICAgICAgdG9rZW5zOiB7XG4gICAgICAgIGFjY2VzczogcmVzcG9uc2UuaGVhZGVycy5nZXQoJ3gtYWNjZXNzLXRva2VuJyksXG4gICAgICAgIHJlZnJlc2g6IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCd4LXJlZnJlc2gtdG9rZW4nKSxcbiAgICAgICAgZXhwaXJlczogcGFyc2VJbnQocmVzcG9uc2UuaGVhZGVycy5nZXQoJ3gtYWNjZXNzLXRva2VuLWV4cGlyZXMnKSwgMTApLFxuICAgICAgfSxcbiAgICB9KSxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogR3JhYnMgYWxsIGFjY291bnQgaWRzIGluIHRoaXMgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnQuXG4gICAqL1xuICBBQ0NPVU5UX0lEUzoge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vYWNjb3VudC9saXN0JyxcbiAgICBvblN1Y2Nlc3M6IGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQ29sbGVjdCBhbGwgYWNjb3VudCBpZHMgcmVnaXN0ZXJlZCB1bmRlciB0aGlzIFdlYWx0aHNpbXBsZSBUcmFkZSBBY2NvdW50XG4gICAgICByZXR1cm4gZGF0YS5yZXN1bHRzLm1hcCgoYWNjb3VudCkgPT4gYWNjb3VudC5pZCk7XG4gICAgfSxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogVGhlIExJU1RfQUNDT1VOVCBlbmRwb2ludCByZXRyaWV2ZXMgZ2VuZXJhbCBtZXRhZGF0YSBvZiB0aGVcbiAgICogV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnQsIGluY2x1ZGluZyBiYWxhbmNlcywgYWNjb3VudCBpZCwgYW5kXG4gICAqIG1vcmUuXG4gICAqL1xuICBMSVNUX0FDQ09VTlQ6IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL2FjY291bnQvbGlzdCcsXG4gICAgb25TdWNjZXNzOiBhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICByZXR1cm4gZGF0YS5yZXN1bHRzO1xuICAgIH0sXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIFRoZSBNRSBlbmRwb2ludCByZXRyaWV2ZXMgc29tZSBzdXJmYWNlIGluZm9ybWF0aW9uIGFib3V0IHlvdSBsaWtlXG4gICAqIHlvdXIgbmFtZSBhbmQgZW1haWwuXG4gICAqL1xuICBNRToge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vbWUnLFxuICAgIG9uU3VjY2VzczogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uU3VjY2VzcyxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogVGhlIFBFUlNPTiBlbmRwb2ludCByZXRyaWV2ZXMgZGV0YWlsZWQgaW5mb3JtYXRpb24gYWJvdXQgeW91IHRoYXRcbiAgICogeW91IHByb3ZpZGVkIG9uIHNpZ251cCwgbGlrZSByZXNpZGVudGlhbCBhbmQgbWFpbGluZyBhZGRyZXNzZXMsXG4gICAqIGVtcGxveW1lbnQsIHBob25lIG51bWJlcnMsIGFuZCBzbyBvbi5cbiAgICovXG4gIFBFUlNPTjoge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vcGVyc29uJyxcbiAgICBvblN1Y2Nlc3M6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vblN1Y2Nlc3MsXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIFRoZSBISVNUT1JZX0FDQ09VTlQgZW5kcG9pbnQgcHJvdmlkZXMgaGlzdG9yaWNhbCBzbmFwc2hvdHMgb2YgdGhlXG4gICAqIFdlYWx0aHNpbXBsZSBhY2NvdW50IGZvciBhIHNwZWNpZmllZCB0aW1lZnJhbWUuXG4gICAqL1xuICBISVNUT1JZX0FDQ09VTlQ6IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL2FjY291bnQvaGlzdG9yeS97MH0/YWNjb3VudF9pZD17MX0nLFxuICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgIDA6ICdpbnRlcnZhbCcsXG4gICAgICAxOiAnYWNjb3VudElkJyxcbiAgICB9LFxuICAgIG9uU3VjY2VzczogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uU3VjY2VzcyxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogUHJvdmlkZXMgdGhlIG1vc3QgcmVjZW50IDIwIGFjdGl2aXRpZXMgKGRlcG9zaXRzLCBkaXZpZGVuZHMsIG9yZGVycywgZXRjKSBvbiB0aGUgV2VhbHRoc2ltcGxlXG4gICAqIFRyYWRlIGFjY291bnQuXG4gICAqL1xuICBBQ1RJVklUSUVTOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9hY2NvdW50L2FjdGl2aXRpZXMnLFxuICAgIG9uU3VjY2VzczogYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgcmV0dXJuIGRhdGEucmVzdWx0cztcbiAgICB9LFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBBbGwgZGVwb3NpdHMgdW5kZXIgdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50XG4gICAqL1xuICBERVBPU0lUUzoge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vZGVwb3NpdHMnLFxuICAgIG9uU3VjY2VzczogYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgcmV0dXJuIGRhdGEucmVzdWx0cztcbiAgICB9LFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBBbGwgbGlua2VkIGJhbmsgYWNjb3VudHMgdW5kZXIgdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50XG4gICAqL1xuICBCQU5LX0FDQ09VTlRTOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9iYW5rLWFjY291bnRzJyxcbiAgICBvblN1Y2Nlc3M6IGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIHJldHVybiBkYXRhLnJlc3VsdHM7XG4gICAgfSxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogQ3VycmVudCBXZWFsdGhzaW1wbGUgVHJhZGUgVVNEL0NBRCBleGNoYW5nZSByYXRlc1xuICAgKi9cbiAgRVhDSEFOR0VfUkFURVM6IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL2ZvcmV4JyxcbiAgICBvblN1Y2Nlc3M6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vblN1Y2Nlc3MsXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIEdyYWJzIGluZm9ybWF0aW9uIGFib3V0IHRoZSBzZWN1cml0eSByZXNlbWJsZWQgYnkgdGhlIHRpY2tlci5cbiAgICovXG4gIFNFQ1VSSVRZOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9zZWN1cml0aWVzP3F1ZXJ5PXswfScsXG4gICAgcGFyYW1ldGVyczoge1xuICAgICAgMDogJ3RpY2tlcicsXG4gICAgfSxcbiAgICBvblN1Y2Nlc3M6IGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgaWYgKGRhdGEucmVzdWx0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZWN1cml0eSBkb2VzIG5vdCBleGlzdCcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YS5yZXN1bHRzO1xuICAgIH0sXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIEZldGNoZXMgZGV0YWlsZWQgaW5mb3JtYXRpb24gYWJvdXQgYSBzZWN1cml0eSB1c2luZyBpdHMgdW5pcXVlXG4gICAqIHNlY3VyaXR5IGlkZW50aWZpZXIuIE1hcmtldCBxdW90ZSwgYmlkIGFuZCBhc2sgc2l6ZSwgYW5kIG90aGVyIGluZm9ybWF0aW9uXG4gICAqIGFyZSByZXR1cm5lZC5cbiAgICovXG4gIEVYVEVOU0lWRV9TRUNVUklUWV9ERVRBSUxTOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9zZWN1cml0aWVzL3swfScsXG4gICAgcGFyYW1ldGVyczoge1xuICAgICAgMDogJ2lkJyxcbiAgICB9LFxuICAgIG9uU3VjY2VzczogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uU3VjY2VzcyxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogTGlzdHMgYWxsIHBvc2l0aW9ucyB1bmRlciBhIHRyYWRpbmcgYWNjb3VudC5cbiAgICovXG4gIFBPU0lUSU9OUzoge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vYWNjb3VudC9wb3NpdGlvbnM/YWNjb3VudF9pZD17MH0nLFxuICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgIDA6ICdhY2NvdW50SWQnLFxuICAgIH0sXG4gICAgb25TdWNjZXNzOiBhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICByZXR1cm4gZGF0YS5yZXN1bHRzO1xuICAgIH0sXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIEdyYWIgYSBwYWdlIG9mIG9yZGVycyAoMjAgb3JkZXJzKS5cbiAgICovXG4gIE9SREVSU19CWV9QQUdFOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9vcmRlcnM/b2Zmc2V0PXswfSZhY2NvdW50X2lkPXsxfScsXG4gICAgcGFyYW1ldGVyczoge1xuICAgICAgMDogJ29mZnNldCcsXG4gICAgICAxOiAnYWNjb3VudElkJyxcbiAgICB9LFxuICAgIG9uU3VjY2VzczogYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG90YWw6IGRhdGEudG90YWwsXG4gICAgICAgIG9yZGVyczogZGF0YS5yZXN1bHRzLFxuICAgICAgfTtcbiAgICB9LFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBDYW5jZWxzIGEgc3BlY2lmaWMgb3JkZXIgYnkgaXRzIGlkLlxuICAgKi9cbiAgQ0FOQ0VMX09SREVSOiB7XG4gICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9vcmRlcnMvezB9JyxcbiAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAwOiAnb3JkZXJJZCcsXG4gICAgfSxcbiAgICBvblN1Y2Nlc3M6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vblN1Y2Nlc3MsXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIFBsYWNlcyBhbiBvcmRlciBmb3IgYSBzZWN1cml0eS5cbiAgICovXG4gIFBMQUNFX09SREVSOiB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vb3JkZXJzJyxcbiAgICBvblN1Y2Nlc3M6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vblN1Y2Nlc3MsXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgV2VhbHRoc2ltcGxlVHJhZGVFbmRwb2ludHM7XG4iLCJpbXBvcnQgaGFuZGxlUmVxdWVzdCBmcm9tICcuL25ldHdvcmsvaHR0cHMnO1xuaW1wb3J0IGVuZHBvaW50cyBmcm9tICcuL2FwaS9lbmRwb2ludHMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgLy8gQXV0aGVudGljYXRpb24gdG9rZW5zIHRvIGFjY2VzcyBwcml2aWxlZ2VkIGVuZHBvaW50c1xuICB0b2tlbnM6IG51bGwsXG5cbiAgLy8gVGh1bmsgZm9yIHJldHJpZXZpbmcgdGhlIG9uZS10aW1lIHBhc3N3b3JkLlxuICBvdHA6IG51bGwsXG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgZnVuY3Rpb24gdG8gcnVuIG9uIGEgY2VydGFpbiBldmVudFxuICAgKiBAcGFyYW0geyp9IGV2ZW50IFRoZSB0cmlnZ2VyIGZvciB0aGUgZnVuY3Rpb25cbiAgICogQHBhcmFtIHsqfSB0aHVuayBUaGUgZnVuY3Rpb24gYmxvY2sgdG8gZXhlY3V0ZSBvbiBldmVudCB0cmlnZ2VyXG4gICAqL1xuICBvbihldmVudCwgdGh1bmspIHtcbiAgICB0aGlzW2V2ZW50XSA9IHRodW5rO1xuICB9LFxuXG4gIC8qKlxuICAgKiBBdHRlbXB0cyB0byBlc3RhYmxpc2ggYSBzZXNzaW9uIGZvciB0aGUgcHJvdmlkZWQgZW1haWwgYW5kIHBhc3N3b3JkLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGVtYWlsIGVtYWlsZWQgcmVnaXN0ZXJlZCBieSB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnRcbiAgICogQHBhcmFtIHsqfSBwYXNzd29yZCBUaGUgcGFzc3dvcmQgb2YgdGhlIGFjY291bnRcbiAgICovXG4gIGFzeW5jIGxvZ2luKGVtYWlsLCBwYXNzd29yZCkge1xuICAgIGxldCByZXNwb25zZSA9IG51bGw7XG5cbiAgICAvKlxuICAgICAqIElmIHdlIGFyZSBnaXZlbiBhIGZ1bmN0aW9uIGZvciBvdHAsIHRoZW4gd2UgbXVzdCBmYWlsIGEgbG9nIGluIHRvXG4gICAgICogdHJpZ2dlciBhbiBPVFAgZXZlbnQgd2l0aCBXZWFsdGhzaW1wbGUgVHJhZGUuIFRoaXMgd2lsbCBhbGxvdyB0aGUgdXNlclxuICAgICAqIG90cCB0aHVuayB0byByZXRyaWV2ZSB0aGUgY29kZS5cbiAgICAgKlxuICAgICAqIElmIGEgbGl0ZXJhbCB2YWx1ZSBpcyBwcm92aWRlZCBmb3Igb3RwLCBpdCBtZWFucyB0aGUgdXNlciBoYXMgbWFudWFsbHlcbiAgICAgKiBwcm92aWRlZCB1cyB3aXRoIHRoZSBvdHAgY29kZS4gV2UgY2FuIHNraXAgdGhpcyBsb2dpbiBhdHRlbXB0LlxuICAgICAqL1xuICAgIGlmICh0eXBlb2YgKHRoaXMub3RwKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYXdhaXQgaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuTE9HSU4sIHtcbiAgICAgICAgZW1haWwsXG4gICAgICAgIHBhc3N3b3JkLFxuICAgICAgfSkuY2F0Y2goKCkgPT4ge30pO1xuICAgIH1cblxuICAgIC8vIFRyeSB0byBsb2cgaW4gZm9yIHJlYWwgdGhpcyB0aW1lLlxuICAgIHRyeSB7XG4gICAgICByZXNwb25zZSA9IGF3YWl0IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLkxPR0lOLCB7XG4gICAgICAgIGVtYWlsLFxuICAgICAgICBwYXNzd29yZCxcbiAgICAgICAgb3RwOiB0eXBlb2YgKHRoaXMub3RwKSA9PT0gJ2Z1bmN0aW9uJyA/IGF3YWl0IHRoaXMub3RwKCkgOiB0aGlzLm90cCxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyB3ZSBtaWdodCBoYXZlIGZhaWxlZCBiZWNhdXNlIE9UUCB3YXMgbm90IHByb3ZpZGVkXG4gICAgICBpZiAoIXRoaXMub3RwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignT1RQIG5vdCBwcm92aWRlZCEnKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2VlbXMgdG8gYmUgaW5jb3JyZWN0IGNyZWRlbnRpYWxzIG9yIE9UUC5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIC8vIENhcHR1cmUgdGhlIHRva2VucyBmb3IgbGF0ZXIgdXNhZ2UuXG4gICAgdGhpcy50b2tlbnMgPSByZXNwb25zZS50b2tlbnM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhIG5ldyBzZXQgb2YgYWNjZXNzIGFuZCByZWZyZXNoIHRva2Vucy5cbiAgICovXG4gIGFzeW5jIHJlZnJlc2goKSB7XG4gICAgLy8gRGlzcG9zZSBvZiB0aGUgZXhpc3RpbmcgdG9rZW5cbiAgICB0aGlzLnRva2Vucy5hY2Nlc3MgPSBudWxsO1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5SRUZSRVNILCB7XG4gICAgICByZWZyZXNoX3Rva2VuOiB0aGlzLnRva2Vucy5yZWZyZXNoLFxuICAgIH0pO1xuXG4gICAgdGhpcy50b2tlbnMgPSByZXNwb25zZS50b2tlbnM7XG4gIH0sXG59O1xuIiwiLy8gSG9sZHMgb3B0aW9uYWwgZmVhdHVyZXMgdGhhdCBoYXZlIGJlZW4gZGlzYWJsZWQuXG5jb25zdCBkaXNhYmxlZCA9IFsnc2VjdXJpdGllc19jYWNoZSddO1xuXG5leHBvcnQgY29uc3QgY29uZmlnRW5hYmxlZCA9IChmZWF0dXJlKSA9PiAhZGlzYWJsZWQuaW5jbHVkZXMoZmVhdHVyZSk7XG5cbi8qKlxuICogRW5hYmxlIG9yIGRpc2FibGUgYSBvcHRpb25hbCBmZWF0dXJlIHdpdGhpbiB3c3RyYWRlLWFwaS5cbiAqXG4gKiBFeGFtcGxlczpcbiAqIC0tLVxuICogY29uZmlnKCdwYW5jYWtlcycpXG4gKiBFbmFibGVzIHRoZSBmaWN0aXRpb3VzIHBhbmNha2VzIGZlYXR1cmUuXG4gKlxuICogY29uZmlnKCdub19wYW5jYWtlcycpXG4gKiBEaXNhYmxlcyB0aGUgZmljdGl0aW91cyBwYW5jYWtlcyBmZWF0dXJlLlxuICpcbiAqIEBwYXJhbSB7Kn0gZmVhdHVyZSBUaGUgc3RyaW5nIGlkZW50aWZpZXIgZm9yIHRoZSBmZWF0dXJlLCBzdGFydGluZyB3aXRoIFwibm9fXCIgaWZcbiAqICAgICAgICAgICAgICAgICAgICB5b3Ugd2lzaCB0byBkaXNhYmxlIGl0LlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb25maWcoZmVhdHVyZSkge1xuICBpZiAoZmVhdHVyZT8uc3RhcnRzV2l0aCgnbm9fJykpIHtcbiAgICBjb25zdCBjdXQgPSBmZWF0dXJlLnN1YnN0cmluZyhmZWF0dXJlLmluZGV4T2YoJ18nKSArIDEpO1xuXG4gICAgLy8gV2Ugd2lsbCBvbmx5IGFwcGVuZCB0aGlzIGlmIGl0IGlzbid0IGFscmVhZHkgaW4gdGhlcmUuXG4gICAgaWYgKGNvbmZpZ0VuYWJsZWQoY3V0KSkge1xuICAgICAgZGlzYWJsZWQucHVzaChjdXQpO1xuICAgIH1cblxuICAvLyBPbmx5IGRlbGV0ZSB0aGUgZmVhdHVyZSBpZiBpdCdzIGFscmVhZHkgZGlzYWJsZWQuXG4gIH0gZWxzZSBpZiAoIWNvbmZpZ0VuYWJsZWQoZmVhdHVyZSkpIHtcbiAgICBkaXNhYmxlZC5zcGxpY2UoZGlzYWJsZWQuaW5kZXhPZihmZWF0dXJlKSwgMSk7XG4gIH1cbn1cbiIsIi8vIEV4Y2hhbmdlcyBzdXBwb3J0ZWQgYnkgV2VhbHRoc2ltcGxlIFRyYWRlXG4vLyAnQ0MnIGlzIG5vdCBhbiBleGNoYW5nZTsgaXQgc3RhbmRzIGZvciBDcnlwdG8gY3VycmVuY3kgYW5kXG4vLyBpdCBhbGxvd3MgdXMgdG8gZGlzdGluZ3Vpc2ggaXQgZnJvbSBjb252ZW50aW9uYWwgc2VjdXJpdGllcy5cbmNvbnN0IGV4Y2hhbmdlcyA9IFsnTkFTREFRJywgJ05ZU0UnLCAnVFNYJywgJ1RTWC1WJywgJ05FTycsICdDQyddO1xuXG4vKipcbiAqIFRpY2tlciBwcm92aWRlcyBhIGxvZ2ljYWwgZW5jYXBzdWxhdGlvbiBmb3IgdGhlIGFsbG93ZWQgZm9ybXNcbiAqIG9mIGEgc2VjdXJpdHkgdGlja2VyIHdpdGhpbiB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFwcGxpY2F0aW9uLlxuICpcbiAqIEl0IHByb3ZpZGVzIHZhbGlkYXRpb24gb2YgdGhlIGZvcm1hdCBvZiB0aGUgdGlja2VyLCBhbmQgdGhlXG4gKiB2YWx1ZSBvZiB0aGUgZXhjaGFuZ2UsIGlmIHByb3ZpZGVkLlxuICpcbiAqIFRpY2tlcnMgbWF5IGJlIHNwZWNpZmllZCBhcyB0d28gZGF0YSB0eXBlczpcbiAqXG4gKiAtIHN0cmluZzogVGhlIHRpY2tlciBtYXkgYmUgYSBzaW1wbGUgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIHN5bWJvbCwgb3IgYSBjb21iaW5hdGlvbiBvZlxuICogdGhlIHN5bWJvbCBhbmQgZXhjaGFuZ2Ugc2VwYXJhdGVkIGJ5IGEgY29sb24uXG4gKiAtIG9iamVjdDogVGhlIHRpY2tlciBtYXkgYmUgYW4gb2JqZWN0IHdpdGggc3ltYm9sLCBleGNoYW5nZSwgb3IgaWQgcHJvcGVydGllcy5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiBcIkFBUExcIlxuICogXCJVQkVSOk5ZU0VcIlxuICogeyBzeW1ib2w6IFwiQUFQTFwiIH1cbiAqIHsgc3ltYm9sOiBcIlVCRVJcIiwgZXhjaGFuZ2U6IFwiTllTRVwiIH1cbiAqIHsgaWQ6IFwic2VjLXMtNzZhNzE1NTI0MmU4NDc3ODgwY2JiNDMyNjkyMzVjYjZcIiB9XG4gKi9cbmNsYXNzIFRpY2tlciB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIHRoZSB0aWNrZXIgb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBzZWN1cml0eSB0aWNrZXIgdmFsdWUsIHByb3ZpZGVkIGFzIGEgc3RyaW5nIG9yIGFuIG9iamVjdCB3aXRoIHN5bWJvbCxcbiAgICogZXhjaGFuZ2UsIG9yIGlkLlxuICAgKi9cbiAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICB0aGlzLnN5bWJvbCA9IG51bGw7XG4gICAgdGhpcy5leGNoYW5nZSA9IG51bGw7XG4gICAgdGhpcy5pZCA9IG51bGw7XG4gICAgdGhpcy5jcnlwdG8gPSBmYWxzZTtcblxuICAgIGlmICh0eXBlb2YgKHZhbHVlKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIEVtcHR5IHRpY2tlcnMgYXJlIG5vdCBhbGxvd2VkXG4gICAgICBpZiAodmFsdWUgPT09ICcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRW1wdHkgdGlja2VyJyk7XG4gICAgICB9XG5cbiAgICAgIFt0aGlzLnN5bWJvbCwgdGhpcy5leGNoYW5nZV0gPSB2YWx1ZS5zcGxpdCgnOicpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBZb3UgbmVlZCBhdCBsZWFzdCBhIHN5bWJvbCBvciBpZCB0byBmb3JtIGEgdGlja2VyLlxuICAgICAgaWYgKCF2YWx1ZS5zeW1ib2wgJiYgIXZhbHVlLmlkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0aWNrZXIgJyR7dmFsdWV9J2ApO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN5bWJvbCA9IHZhbHVlLnN5bWJvbDtcbiAgICAgIHRoaXMuZXhjaGFuZ2UgPSB2YWx1ZS5leGNoYW5nZTtcbiAgICAgIHRoaXMuaWQgPSB2YWx1ZS5pZDtcbiAgICB9XG5cbiAgICAvLyBHdWFyYW50ZWUgdGhhdCB0aGUgZXhjaGFuZ2UgaXMgdmFsaWQgaWYgbm90IG51bGxcbiAgICBpZiAodGhpcy5leGNoYW5nZSAmJiAhZXhjaGFuZ2VzLmluY2x1ZGVzKHRoaXMuZXhjaGFuZ2UpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZXhjaGFuZ2UgJyR7dGhpcy5leGNoYW5nZX0nIWApO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgY3J5cHRvIHByb3BlcnR5IHRvIHRydWUgdG8gdHJlYXQgdGhpcyBzZWN1cml0eSBhcyBjcnlwdG8gY3VycmVuY3lcbiAgICBpZiAodGhpcy5leGNoYW5nZSA9PT0gJ0NDJykge1xuICAgICAgdGhpcy5jcnlwdG8gPSB0cnVlO1xuICAgICAgdGhpcy5leGNoYW5nZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gV2VhbHRoc2ltcGxlIFRyYWRlIGRvZXNuJ3QgaGF2ZSBhIHNob3J0IGV4Y2hhbmdlIGlkICgnTkVPJykgZm9yXG4gICAgLy8gQUVRVUlUQVMgTkVPIEVYQ0hBTkdFIGZvciBzb21lIHJlYXNvbi4uLlxuICAgIC8vIFdlIGhhdmUgdG8gbWFwIGl0IHRvIHRoZSBmdWxsIG5hbWUgZm9yIGNvbXBhcmlzb25zIHRvIHdvcmsuXG4gICAgaWYgKHRoaXMuZXhjaGFuZ2UgPT09ICdORU8nKSB7XG4gICAgICB0aGlzLmV4Y2hhbmdlID0gJ0FFUVVJVEFTIE5FTyBFWENIQU5HRSc7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlZHVjZXMgdGhlIHRpY2tlciBvYmplY3QgdG8gYSBzdHJpbmcgcmVwcmVzZW50YXRpb24uXG4gICAqL1xuICBmb3JtYXQoKSB7XG4gICAgaWYgKHRoaXMuaWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgIH1cblxuICAgIC8vIFdlIG11c3QgcmV0cmFuc2xhdGUgdGhlIGZ1bGwgbmFtZSBvZiB0aGUgTkVPIGV4Y2hhbmdlIGJhY2sgdG8gTkVPXG4gICAgaWYgKHRoaXMuZXhjaGFuZ2UgPT09ICdBRVFVSVRBUyBORU8gRVhDSEFOR0UnKSB7XG4gICAgICByZXR1cm4gYCR7dGhpcy5zeW1ib2x9Ok5FT2A7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGEgY29tcG9zaXRlIHRpY2tlciB3aXRoICdDQycgYXMgdGhlIGV4Y2hhbmdlIGlmIGl0J3MgYSBjcnlwdG9jdXJyZW5jeS5cbiAgICBpZiAodGhpcy5jcnlwdG8pIHtcbiAgICAgIHJldHVybiBgJHt0aGlzLnN5bWJvbH06Q0NgO1xuICAgIH1cblxuICAgIHJldHVybiBgJHt0aGlzLnN5bWJvbH0ke3RoaXMuZXhjaGFuZ2UgPyBgOiR7dGhpcy5leGNoYW5nZX1gIDogJyd9YDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wYXJlcyBzeW1ib2wgb3IgaWQgd2l0aCBhbm90aGVyIHRpY2tlci4gVGhpcyBpcyB3ZWFrIGJlY2F1c2VcbiAgICogZXhjaGFuZ2UgaXMgbm90IGNvbXBhcmVkIGhlcmUsIGFsbG93aW5nIGZvciBmYWxzZSBwb3NpdGl2ZXNcbiAgICogb2Ygc3ltYm9scyBvbiBkaWZmZXJlbnQgZXhjaGFuZ2VzLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IG90aGVyIFRpY2tlciB0byBjb21wYXJlIHVzIHdpdGhcbiAgICovXG4gIHdlYWtFcXVhbHMob3RoZXIpIHtcbiAgICBpZiAodGhpcy5pZCAmJiB0aGlzLmlkID09PSBvdGhlci5pZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3ltYm9sICYmIHRoaXMuc3ltYm9sID09PSBvdGhlci5zeW1ib2wgJiYgdGhpcy5jcnlwdG8gPT0gb3RoZXIuY3J5cHRvKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGlja2VyO1xuIiwiaW1wb3J0IEFQSUNhY2hlIGZyb20gJy4uL2NvcmUvY2FjaGUnO1xuaW1wb3J0IFRpY2tlciBmcm9tICcuLi9jb3JlL3RpY2tlcic7XG5cbmNvbnN0IGNhY2hlID0gbmV3IEFQSUNhY2hlKDEwKTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICAvKipcbiAgICAgKiBRdWVyeSB0aGUgY2FjaGUgZm9yIHRoZSBzZWN1cml0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gc2VjdXJpdHlcbiAgICAgKi9cbiAgZ2V0KHNlY3VyaXR5KSB7XG4gICAgLy8gTXVzdCBkaWdlc3QgdGhlIHNlY3VyaXR5IGludG8gdGhlIHN0YW5kYXJkIGZvcm1hdFxuICAgIGNvbnN0IHJlc3VsdCA9IGNhY2hlLmdldChuZXcgVGlja2VyKHNlY3VyaXR5KS5mb3JtYXQoKSk7XG5cbiAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG5cbiAgLyoqXG4gICAgICogUmVtZW1iZXIgdGhlIHNlY3VyaXR5IGZvciBhIGZ1dHVyZSBxdWljayByZXRyaWV2YWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IGtleVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICAgKi9cbiAgaW5zZXJ0KGtleSwgdmFsdWUpIHtcbiAgICBjYWNoZS5pbnNlcnQobmV3IFRpY2tlcihrZXkpLmZvcm1hdCgpLCB2YWx1ZSk7XG4gIH0sXG59O1xuIiwiLypcbiAqIEFQSUNhY2hlIGlzIGFuIGludGVybmFsIGVmZm9ydCB0byBtaW5pbWl6ZSB1bm5lY2Vzc2FyeSBBUEkgY2FsbHMgd2hlcmVcbiAqIHBvc3NpYmxlLiBBIHNwZWNpZmljIHVzZWNhc2Ugd2hlcmUgYSBjYWNoZSBpcyB1c2VmdWwgaXMgZmlndXJpbmcgb3V0IHRoZVxuICogZXhjaGFuZ2UgYSBzZWN1cml0eSBiZWxvbmdzIHRvLiBBIGNhY2hlIHdvdWxkIGFsbG93IHVzIHRvIG1lbW9yaXplXG4gKiB0aGlzIHN0YXRpYyBkYXRhIGZvciBhIHBlcmlvZCBvZiB0aW1lIHRvIGF2b2lkIHVubmVjZXNzYXJ5IEFQSSBjYWxscy5cbiAqXG4gKiBUaGUgY2xhc3MgZW5jYXBzdWxhdGVzIHRoZSBmb2xsb3dpbmcgY2FjaGUgYmVoYXZpb3VyOlxuICogLSBBIG1heGltdW0gZW50cmllcyBwcm92aWRlZCBhcyBhIGNvbnN0cnVjdG9yIGFyZ3VtZW50XG4gKiAtIEZpcnN0IGluLCBGaXJzdCBvdXQgKEZJRk8pIG1vZGVsXG4gKlxuICogVGhlIGludGVybmVsIGRhdGEgc3RydWN0dXJlIGlzIGEgSGFzaFNldCwgc28gbG9va3VwIHRpbWUgY29zdCBpcyBmYWlybHlcbiAqIG1pbmltYWwuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFQSUNhY2hlIHtcbiAgY29uc3RydWN0b3Ioc2l6ZSkge1xuICAgIHRoaXMuY2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgfVxuXG4gIC8qKlxuICAgICAqIFN0b3JlIHRoZSBrZXktdmFsdWUgcGFpciBpbnRvIHRoaXMgY2FjaGUuIFRoZSBvbGRlc3QgZW50cnkgaXMgZXZpY3RlZCBpZlxuICAgICAqIHdlJ3JlIG91dCBvZiBzcGFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0ga2V5XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqL1xuICBpbnNlcnQoa2V5LCB2YWx1ZSkge1xuICAgIGlmICh0aGlzLmNhY2hlLnNpemUgPj0gdGhpcy5zaXplKSB7XG4gICAgICB0aGlzLmNhY2hlLmRlbGV0ZSh0aGlzLmNhY2hlLmtleXMoKS5uZXh0KCkudmFsdWUpO1xuICAgIH1cblxuICAgIHRoaXMuY2FjaGUuc2V0KGtleSwgdmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAgICogUmV0cmlldmUgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IGFzc29jaWF0ZWQgd2l0aCB0aGUga2V5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBrZXlcbiAgICAgKi9cbiAgZ2V0KGtleSkge1xuICAgIHJldHVybiB0aGlzLmNhY2hlLmdldChrZXkpO1xuICB9XG59XG4iLCJpbXBvcnQgZW5kcG9pbnRzIGZyb20gJy4vYXBpL2VuZHBvaW50cyc7XG5pbXBvcnQgaGFuZGxlUmVxdWVzdCBmcm9tICcuL25ldHdvcmsvaHR0cHMnO1xuaW1wb3J0IFRpY2tlciBmcm9tICcuL2NvcmUvdGlja2VyJztcbmltcG9ydCB7IGNvbmZpZ0VuYWJsZWQgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgY2FjaGUgZnJvbSAnLi9vcHRpb25hbC9zZWN1cml0aWVzLWNhY2hlJztcblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIC8qKlxuICAgKiBBIHNuYXBzaG90IG9mIHRoZSBjdXJyZW50IFVTRC9DQUQgZXhjaGFuZ2UgcmF0ZXMgb24gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZVxuICAgKiBwbGF0Zm9ybS5cbiAgICovXG4gIGV4Y2hhbmdlUmF0ZXM6IGFzeW5jICgpID0+IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLkVYQ0hBTkdFX1JBVEVTLCB7fSksXG5cbiAgLyoqXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IGEgc2VjdXJpdHkgb24gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBQbGF0Zm9ybS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSB1c2VyVGlja2VyIFRoZSBzZWN1cml0eSBpZFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGV4dGVuc2l2ZSBQdWxscyBhIG1vcmUgZGV0YWlsZWQgcmVwb3J0IG9mIHRoZSBzZWN1cml0eSB1c2luZyB0aGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgL3NlY3VyaXRpZXMve2lkfSBBUElcbiAgICovXG4gIGdldFNlY3VyaXR5OiBhc3luYyAodXNlclRpY2tlciwgZXh0ZW5zaXZlKSA9PiB7XG4gICAgbGV0IHJlc3VsdCA9IG51bGw7XG5cbiAgICAvLyBSdW4gc29tZSB2YWxpZGF0aW9uIG9uIHRoZSB0aWNrZXJcbiAgICBjb25zdCB0aWNrZXIgPSBuZXcgVGlja2VyKHVzZXJUaWNrZXIpO1xuXG4gICAgaWYgKCFleHRlbnNpdmUgJiYgY29uZmlnRW5hYmxlZCgnc2VjdXJpdGllc19jYWNoZScpKSB7XG4gICAgICByZXN1bHQgPSBjYWNoZS5nZXQodGlja2VyKTtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGlja2VyLmlkKSB7XG4gICAgICAvLyBXZSB3aWxsIGltbWVkaWF0ZWx5IGNhbGwgdGhlIGV4dGVuc2l2ZSBkZXRhaWxzIEFQSSBzaW5jZSB3ZSBoYXZlIHRoZSB1bmlxdWUgaWQuXG4gICAgICByZXN1bHQgPSBhd2FpdCBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5FWFRFTlNJVkVfU0VDVVJJVFlfREVUQUlMUywgeyBpZDogdGlja2VyLmlkIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBhd2FpdCBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5TRUNVUklUWSwgeyB0aWNrZXI6IHRpY2tlci5zeW1ib2wgfSk7XG4gICAgICByZXN1bHQgPSByZXN1bHQuZmlsdGVyKChzZWN1cml0eSkgPT4gc2VjdXJpdHkuc3RvY2suc3ltYm9sID09PSB0aWNrZXIuc3ltYm9sKTtcblxuICAgICAgaWYgKHRpY2tlci5leGNoYW5nZSkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQuZmlsdGVyKChzZWN1cml0eSkgPT4gc2VjdXJpdHkuc3RvY2sucHJpbWFyeV9leGNoYW5nZSA9PT0gdGlja2VyLmV4Y2hhbmdlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRpY2tlci5jcnlwdG8pIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmZpbHRlcigoc2VjdXJpdHkpID0+IHNlY3VyaXR5LnNlY3VyaXR5X3R5cGUgPT09ICdjcnlwdG9jdXJyZW5jeScpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNdWx0aXBsZSBzZWN1cml0aWVzIG1hdGNoZWQgcXVlcnkuJyk7XG4gICAgICB9IGlmIChyZXN1bHQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gc2VjdXJpdGllcyBtYXRjaGVkIHF1ZXJ5LicpO1xuICAgICAgfVxuXG4gICAgICAvLyBDb252ZXJ0IHJlc3VsdCBmcm9tIGEgc2luZ2xldG9uIGxpc3QgdG8gaXRzIHJhdyBlbnRyeVxuICAgICAgW3Jlc3VsdF0gPSByZXN1bHQ7XG5cbiAgICAgIGlmIChleHRlbnNpdmUpIHtcbiAgICAgICAgLy8gVGhlIGNhbGxlciBoYXMgb3B0ZWQgdG8gcmVjZWl2ZSB0aGUgZXh0ZW5zaXZlIGRldGFpbHMgYWJvdXQgdGhlIHNlY3VyaXR5LlxuICAgICAgICByZXN1bHQgPSBhd2FpdCBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5FWFRFTlNJVkVfU0VDVVJJVFlfREVUQUlMUywgeyBpZDogcmVzdWx0LmlkIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb25maWdFbmFibGVkKCdzZWN1cml0aWVzX2NhY2hlJykgJiYgY2FjaGUuZ2V0KHRpY2tlcikgPT09IG51bGwpIHtcbiAgICAgIGNhY2hlLmluc2VydCh0aWNrZXIsIHJlc3VsdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcbn07XG4iLCJpbXBvcnQgeyBIZWFkZXJzIH0gZnJvbSAnbm9kZS1mZXRjaCc7XG5cbmNvbnN0IGN1c3RvbUhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgYSBoZWFkZXIgbmFtZS12YWx1ZSBwYWlyIHRvIGFsbCByZXF1ZXN0cy5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBuYW1lIEhlYWRlciBrZXlcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBIZWFkZXIgdmFsdWVcbiAgICovXG4gIGFkZDogKG5hbWUsIHZhbHVlKSA9PiBjdXN0b21IZWFkZXJzLmFwcGVuZChuYW1lLCB2YWx1ZSksXG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBjdXN0b20gaGVhZGVyIGZyb20gYWxsIHJlcXVlc3RzLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IG5hbWUgSGVhZGVyIGtleVxuICAgKi9cbiAgcmVtb3ZlOiAobmFtZSkgPT4gY3VzdG9tSGVhZGVycy5kZWxldGUobmFtZSksXG5cbiAgLyoqXG4gICAqIENsZWFycyBhbGwgY3VzdG9tIGhlYWRlcnMuXG4gICAqL1xuICBjbGVhcjogKCkgPT4gWy4uLmN1c3RvbUhlYWRlcnNdLmZvckVhY2goKGhlYWRlcikgPT4gY3VzdG9tSGVhZGVycy5kZWxldGUoaGVhZGVyWzBdKSksXG5cbiAgLyoqXG4gICAqIFByb2R1Y2VzIGEgbGlzdCBvZiBjdXN0b20gaGVhZGVycy5cbiAgICovXG4gIHZhbHVlczogKCkgPT4gWy4uLmN1c3RvbUhlYWRlcnNdLFxufTtcbiIsInJlcXVpcmUoJ3NvdXJjZS1tYXAtc3VwcG9ydCcpLmluc3RhbGwoKTtcblxuY29uc3QgYXV0aCA9IHJlcXVpcmUoJy4vYXV0aCcpLmRlZmF1bHQ7XG5jb25zdCBoZWFkZXJzID0gcmVxdWlyZSgnLi9oZWFkZXJzJykuZGVmYXVsdDtcbmNvbnN0IGFjY291bnRzID0gcmVxdWlyZSgnLi9hY2NvdW50cycpLmRlZmF1bHQ7XG5jb25zdCBvcmRlcnMgPSByZXF1aXJlKCcuL29yZGVycycpLmRlZmF1bHQ7XG5jb25zdCBkYXRhID0gcmVxdWlyZSgnLi9kYXRhJykuZGVmYXVsdDtcbmNvbnN0IHF1b3RlcyA9IHJlcXVpcmUoJy4vcXVvdGVzJykuZGVmYXVsdDtcbmNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoJy4vY29uZmlnJykuZGVmYXVsdDtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGF1dGgsXG4gIGhlYWRlcnMsXG4gIGFjY291bnRzLFxuICBvcmRlcnMsXG4gIHF1b3RlcyxcbiAgZGF0YSxcbiAgY29uZmlnLFxufTtcbiIsIi8qKlxuICogQ29tcHV0ZXMgdGhlIGN1cnJlbnQgdGltZSBpbiBlcG9jaCBzZWNvbmRzLlxuICovXG5jb25zdCBlcG9jaFNlY29uZHMgPSAoKSA9PiBwYXJzZUludChEYXRlLm5vdygpIC8gMTAwMCwgMTApO1xuZXhwb3J0IGRlZmF1bHQgZXBvY2hTZWNvbmRzO1xuIiwiaW1wb3J0IGVwb2NoU2Vjb25kcyBmcm9tICcuLi9oZWxwZXJzL3RpbWUnO1xuaW1wb3J0IGF1dGggZnJvbSAnLi4vYXV0aCc7XG5cbi8qXG4gKiBWYWxpZGF0ZSB0aGUgYXV0aCB0b2tlbiBmb3IgZXhwaXJ5LCBhdHRlbXB0aW5nIHRvIHJlZnJlc2ggaXRcbiAqIGlmIHdlIGhhdmUgdGhlIHJlZnJlc2ggdG9rZW4uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGltcGxpY2l0VG9rZW5SZWZyZXNoKCkge1xuICBpZiAoZXBvY2hTZWNvbmRzKCkgPj0gYXV0aC50b2tlbnM/LmV4cGlyZXMpIHtcbiAgICBpZiAoYXV0aC50b2tlbnM/LnJlZnJlc2gpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIExldCdzIGltcGxpY2l0bHkgcmVmcmVzaCB0aGUgYWNjZXNzIHRva2VuIHVzaW5nIHRoZSByZWZyZXNoIHRva2VuLlxuICAgICAgICBhd2FpdCBhdXRoLnJlZnJlc2goKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIFRoZSByZWZyZXNoIHRva2VuIGlzIG5vdCB2YWxpZC5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gcmVmcmVzaCBleHBpcmVkIHRva2VuOiAke2Vycm9yfWApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBXZSBhcmUgZm9yY2VkIHRvIHJlamVjdCBhcyBvdXIgYWNjZXNzIHRva2VuIGhhcyBleHBpcmVkIGFuZCB3ZVxuICAgICAgLy8gZG8gbm90IGhhdmUgYSByZWZyZXNoIHRva2VuLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY2Nlc3MgdG9rZW4gZXhwaXJlZCcpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IGZldGNoLCB7IEhlYWRlcnMgfSBmcm9tICdub2RlLWZldGNoJztcbmltcG9ydCBzdGF0dXMgZnJvbSAnaHR0cC1zdGF0dXMnO1xuaW1wb3J0IGN1c3RvbUhlYWRlcnMgZnJvbSAnLi4vaGVhZGVycyc7XG5pbXBvcnQgYXV0aCBmcm9tICcuLi9hdXRoJztcbmltcG9ydCB7IGNvbmZpZ0VuYWJsZWQgfSBmcm9tICcuLi9jb25maWcnO1xuaW1wb3J0IGltcGxpY2l0VG9rZW5SZWZyZXNoIGZyb20gJy4uL29wdGlvbmFsL2ltcGxpY2l0LXRva2VuLXJlZnJlc2gnO1xuXG4vKlxuICogQ29tcGxldGUgdGhlIFVSTCBieSBmaWxsaW5nIHRoZSBwYXJhbWV0ZXIgcGxhY2Vob2xkZXJzIHdpdGggdGhlXG4gKiBkYXRhIGFyZ3VtZW50cy5cbiAqL1xuZnVuY3Rpb24gZmluYWxpemVSZXF1ZXN0KGVuZHBvaW50LCBkYXRhKSB7XG4gIC8vIE1ha2UgYSBjb3B5IHNvIHdlIGRvbid0IG1vZGlmeSB0aGUgb3JpZ2luYWwgb25lLlxuICBjb25zdCBwYXJhbXMgPSB7IC4uLmRhdGEgfTtcbiAgbGV0IHsgdXJsIH0gPSBlbmRwb2ludDtcblxuICAvLyBObyBuZWVkIHRvIGRvIGFueXRoaW5nIGlmIHRoZSBVUkwgaXMgc3RhdGljIChubyBwYXJhbWV0ZXJzKVxuICBpZiAoZW5kcG9pbnQucGFyYW1ldGVycykge1xuICAgIC8vIFN3YXAgYWxsIHRoZSBwYXJhbWV0ZXIgcGxhY2Vob2xkZXJzIHdpdGggdGhlIGFyZ3VtZW50cy5cbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgT2JqZWN0LmtleXMoZW5kcG9pbnQucGFyYW1ldGVycykubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBjb25zdCBwYXJhbWV0ZXJOYW1lID0gZW5kcG9pbnQucGFyYW1ldGVyc1tpbmRleF07XG5cbiAgICAgIC8vIHdlIGhhdmUgdG8gZXhwbGljaXRseSBjaGVjayBmb3IgbnVsbCBhbmQgdW5kZWZpbmVkIHNpbmNlIHBhcmFtZXRlclxuICAgICAgLy8gdmFsdWVzIG1pZ2h0IGJlIDAuXG4gICAgICBpZiAocGFyYW1zW3BhcmFtZXRlck5hbWVdID09PSBudWxsIHx8IHBhcmFtc1twYXJhbWV0ZXJOYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVVJMIFBhdGggcGFyYW1ldGVyICcke3BhcmFtZXRlck5hbWV9JyBtaXNzaW5nIWApO1xuICAgICAgfVxuXG4gICAgICB1cmwgPSB1cmwucmVwbGFjZShgeyR7aW5kZXh9fWAsIHBhcmFtc1tlbmRwb2ludC5wYXJhbWV0ZXJzW2luZGV4XV0pO1xuXG4gICAgICAvLyBNdXN0IHJlbW92ZSB0aGlzIGtleSBmcm9tIHRoZSBwYXlsb2FkIGFzIGl0IGhhcyBiZWVuIGNvbnN1bWVkIGJ5IHRoZSBVUkxcbiAgICAgIGRlbGV0ZSBwYXJhbXNbZW5kcG9pbnQucGFyYW1ldGVyc1tpbmRleF1dO1xuICAgIH1cbiAgfVxuXG4gIC8vIE5vIHBheWxvYWQgYXR0YWNoZWQgdG8gR0VUL0RFTEVURSByZXF1ZXN0c1xuICBpZiAoWydHRVQnLCAnSEVBRCddLmluY2x1ZGVzKGVuZHBvaW50Lm1ldGhvZCkpIHtcbiAgICByZXR1cm4geyB1cmwsIHBheWxvYWQ6IHVuZGVmaW5lZCB9O1xuICB9XG5cbiAgcmV0dXJuIHsgdXJsLCBwYXlsb2FkOiBKU09OLnN0cmluZ2lmeShwYXJhbXMpIH07XG59XG5cbi8qXG4gKiBJbXBsZW1lbnRzIHRoZSBuZXR3b3JrIGxldmVsIHByb3RvY29sIGZvciB0YWxraW5nIHRvIHRoZVxuICogV2VhbHRoc2ltcGxlIFRyYWRlIEhUVFBTIEFQSS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gdGFsayhlbmRwb2ludCwgZGF0YSkge1xuICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgaGVhZGVycy5hcHBlbmQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgaWYgKGF1dGgudG9rZW5zPy5hY2Nlc3MpIHtcbiAgICAvLyBXZSB3b24ndCBhdHRlbXB0IHRvIGltcGxpY2l0bHkgcmVmcmVzaCBpZiB0aGUgdXNlciBoYXMgcmVxdWVzdGVkXG4gICAgLy8gdGhpcy5cbiAgICBpZiAoY29uZmlnRW5hYmxlZCgnaW1wbGljaXRfdG9rZW5fcmVmcmVzaCcpKSB7XG4gICAgICBhd2FpdCBpbXBsaWNpdFRva2VuUmVmcmVzaCgpO1xuICAgIH1cblxuICAgIGhlYWRlcnMuYXBwZW5kKCdBdXRob3JpemF0aW9uJywgYXV0aC50b2tlbnMuYWNjZXNzKTtcbiAgfVxuXG4gIC8vIEFwcGx5IGFsbCBjdXN0b20gaGVhZGVyc1xuICBjdXN0b21IZWFkZXJzLnZhbHVlcygpLmZvckVhY2goKGhlYWRlcikgPT4gaGVhZGVycy5hcHBlbmQoLi4uaGVhZGVyKSk7XG5cbiAgLy8gZmlsbCBwYXRoIGFuZCBxdWVyeSBwYXJhbWV0ZXJzIGluIHRoZSBVUkxcbiAgY29uc3QgeyB1cmwsIHBheWxvYWQgfSA9IGZpbmFsaXplUmVxdWVzdChlbmRwb2ludCwgZGF0YSk7XG4gIGNvbnNvbGUubG9nKHBheWxvYWQpO1xuICByZXR1cm4gZmV0Y2godXJsLCB7XG4gICAgYm9keTogcGF5bG9hZCxcbiAgICBtZXRob2Q6IGVuZHBvaW50Lm1ldGhvZCxcbiAgICBoZWFkZXJzLFxuICB9KTtcbn1cblxuLypcbiAqIEZ1bGZpbGwgdGhlIGVuZHBvaW50IHJlcXVlc3QgZ2l2ZW4gdGhlIGVuZHBvaW50IGNvbmZpZ3VyYXRpb24sIG9wdGlvbmFsXG4gKiBkYXRhLlxuICovXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVSZXF1ZXN0KGVuZHBvaW50LCBkYXRhKSB7XG4gIC8vIFN1Ym1pdCB0aGUgSFRUUCByZXF1ZXN0IHRvIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgU2VydmVyc1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRhbGsoZW5kcG9pbnQsIGRhdGEpO1xuXG4gIGlmIChbc3RhdHVzLk9LLCBzdGF0dXMuQ1JFQVRFRF0uaW5jbHVkZXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgIHJldHVybiBlbmRwb2ludC5vblN1Y2Nlc3MocmVzcG9uc2UpO1xuICB9XG5cbiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGF3YWl0IGVuZHBvaW50Lm9uRmFpbHVyZShyZXNwb25zZSkpO1xufVxuIiwiaW1wb3J0IGVuZHBvaW50cywgeyBPUkRFUlNfUEVSX1BBR0UgfSBmcm9tICcuLi9hcGkvZW5kcG9pbnRzJztcbmltcG9ydCBoYW5kbGVSZXF1ZXN0IGZyb20gJy4uL25ldHdvcmsvaHR0cHMnO1xuaW1wb3J0IFRpY2tlciBmcm9tICcuLi9jb3JlL3RpY2tlcic7XG5cbi8qKlxuICogQ29sbGVjdHMgb3JkZXJzIChmaWxsZWQsIHBlbmRpbmcsIGNhbmNlbGxlZCkgZm9yIHRoZSBwcm92aWRlZCBwYWdlIGFuZFxuICogYWNjb3VudCBpZC5cbiAqXG4gKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgc3BlY2lmaWMgYWNjb3VudCBpbiB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnRcbiAqIEBwYXJhbSB7Kn0gcGFnZU51bSBUaGUgb3JkZXJzIHBhZ2UgaW5kZXggdG8gc2VlayB0b1xuICovXG5hc3luYyBmdW5jdGlvbiBwYWdlKGFjY291bnRJZCwgcGFnZU51bSkge1xuICByZXR1cm4gaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuT1JERVJTX0JZX1BBR0UsIHtcbiAgICBvZmZzZXQ6IChwYWdlTnVtIC0gMSkgKiBPUkRFUlNfUEVSX1BBR0UsXG4gICAgYWNjb3VudElkLFxuICB9KTtcbn1cblxuLyoqXG4gKiBDb2xsZWN0cyBhbGwgb3JkZXJzIChmaWxsZWQsIHBlbmRpbmcsIGNhbmNlbGxlZCkgZm9yIHRoZSBzcGVjaWZpYyBhY2NvdW50LlxuICpcbiAqIEBwYXJhbSB7Kn0gYWNjb3VudElkIFRoZSBzcGVjaWZpYyBhY2NvdW50IGluIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudFxuICovXG5hc3luYyBmdW5jdGlvbiBhbGwoYWNjb3VudElkKSB7XG4gIC8vIFdlIHN0YXJ0IGJ5IGNhcHR1cmluZyB0aGUgZmlyc3QgcGFnZSBvZiBvcmRlcnMgaW4gb3JkZXIgdG9cbiAgLy8gZGV0ZXJtaW5lIHRoZSBudW1iZXIgb2YgcGFnZXMgYXZhaWxhYmxlXG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBwYWdlKGFjY291bnRJZCwgMSk7XG4gIGNvbnN0IHBhZ2VzID0gTWF0aC5jZWlsKGRhdGEudG90YWwgLyBPUkRFUlNfUEVSX1BBR0UpO1xuXG4gIGlmIChwYWdlcyA+IDEpIHtcbiAgICBjb25zdCB0YXNrcyA9IFtdO1xuXG4gICAgLy8gQnVpbGQgdGhlIHRhc2sgcXVldWUgdGhhdCB3aWxsIHJldHJpZXZlIHRoZSByZW1haW5pbmcgcGFnZXMgb2Ygb3JkZXJzXG4gICAgZm9yIChsZXQgcGFnZU51bSA9IDI7IHBhZ2VOdW0gPD0gcGFnZXM7IHBhZ2VOdW0rKykge1xuICAgICAgdGFza3MucHVzaChwYWdlKGFjY291bnRJZCwgcGFnZU51bSkudGhlbigocmVzdWx0KSA9PiByZXN1bHQub3JkZXJzKSk7XG4gICAgfVxuXG4gICAgLy8gT3V0LW9mLW9yZGVyIGludm9jYXRpb24gaXMgZGVzaXJlZC4gV2hhdCBtYXR0ZXJzIGlzIHRoYXQgUHJvbWlzZS5hbGwgd2lsbFxuICAgIC8vIGd1YXJhbnRlZSB0aGF0IHRoZSBkYXRhIG9yZGVyIGlzIHByZXNlcnZlZC5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQcm9taXNlLmFsbCh0YXNrcyk7XG4gICAgcmVzdWx0LmZvckVhY2goKGxpc3QpID0+IGRhdGEub3JkZXJzLnB1c2goLi4ubGlzdCkpO1xuXG4gICAgLy8gVXBkYXRlIHRoZSB0b3RhbCBhdHRyaWJ1dGUgdG8gcmVmbGVjdCB0aGUgbmV3IHNpemVcbiAgICBkYXRhLnRvdGFsID0gZGF0YS5vcmRlcnMubGVuZ3RoO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qXG4gKiBSZXRyaWV2ZSBmaWx0ZXJlZCBvcmRlcnMgYnkgdGlja2VyIGFuZCBzdGF0dXMuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGZpbHRlcmVkT3JkZXJzKGFjY291bnRJZCwgdGlja2VyLCBzdGF0dXMpIHtcbiAgLy8gRmV0Y2ggYWxsIG9yZGVyc1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBhbGwoYWNjb3VudElkKTtcblxuICBjb25zdCBvcmRlckZpbHRlciA9IChvcmRlcikgPT4ge1xuICAgIGlmICh0aWNrZXIpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IG5ldyBUaWNrZXIoeyBzeW1ib2w6IG9yZGVyLnN5bWJvbCwgaWQ6IG9yZGVyLnNlY3VyaXR5X2lkIH0pO1xuICAgICAgLy8gb3JkZXIgb2JqZWN0cyBkb24ndCBpbmNsdWRlIGV4Y2hhbmdlcywgc28gd2UgYXJlIHVuYWJsZSB0byBtYWtlXG4gICAgICAvLyBhIHN0cm9uZyBjb21wYXJpc29uIHdpdGhvdXQgcmVxdWlyaW5nIGEgbGluZWFyIGluY3JlYXNlIG9mXG4gICAgICAvLyBlbmRwb2ludCBjYWxscyAod2hpY2ggaXMgbm90IHJlYXNvbmFibGUpLlxuICAgICAgLy9cbiAgICAgIC8vIFRoZSB1c2VyIHNob3VsZCBwcm92aWRlIHRoZSBzZWN1cml0eSBpZCBmb3IgYSBzdHJvbmcgY29tcGFyaXNvbiBoZXJlLlxuICAgICAgaWYgKCFuZXcgVGlja2VyKHRpY2tlcikud2Vha0VxdWFscyh0YXJnZXQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3JkZXIuc3RhdHVzID09PSBzdGF0dXM7XG4gIH07XG5cbiAgLy8gQXBwbHkgZmlsdGVyIHRvIHRoZSByZXN1bHRcbiAgcmVzdWx0Lm9yZGVycyA9IHJlc3VsdC5vcmRlcnMuZmlsdGVyKG9yZGVyRmlsdGVyKTtcbiAgcmVzdWx0LnRvdGFsID0gcmVzdWx0Lm9yZGVycy5sZW5ndGg7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICBwYWdlLFxuICBhbGwsXG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBwZW5kaW5nIG9yZGVycyBmb3IgdGhlIHNwZWNpZmllZCBzZWN1cml0eSBpbiB0aGUgYWNjb3VudC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIHNwZWNpZmljIGFjY291bnQgaW4gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50XG4gICAqIEBwYXJhbSB7Kn0gdGlja2VyIChvcHRpb25hbCkgVGhlIHNlY3VyaXR5IHN5bWJvbFxuICAgKi9cbiAgcGVuZGluZzogYXN5bmMgKGFjY291bnRJZCwgdGlja2VyKSA9PiBmaWx0ZXJlZE9yZGVycyhhY2NvdW50SWQsIHRpY2tlciwgJ3N1Ym1pdHRlZCcpLFxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgZmlsbGVkIG9yZGVycyBmb3IgdGhlIHNwZWNpZmllZCBzZWN1cml0eSBpbiB0aGUgYWNjb3VudC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIHNwZWNpZmljIGFjY291bnQgaW4gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50XG4gICAqIEBwYXJhbSB7Kn0gdGlja2VyIChvcHRpb25hbCkgVGhlIHNlY3VyaXR5IHN5bWJvbFxuICAgKi9cbiAgZmlsbGVkOiBhc3luYyAoYWNjb3VudElkLCB0aWNrZXIpID0+IGZpbHRlcmVkT3JkZXJzKGFjY291bnRJZCwgdGlja2VyLCAncG9zdGVkJyksXG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBjYW5jZWxsZWQgb3JkZXJzIGZvciB0aGUgc3BlY2lmaWVkIHNlY3VyaXR5IGluIHRoZSBhY2NvdW50LlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgc3BlY2lmaWMgYWNjb3VudCBpbiB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnRcbiAgICogQHBhcmFtIHsqfSB0aWNrZXIgKG9wdGlvbmFsKSBUaGUgc2VjdXJpdHkgc3ltYm9sXG4gICAqL1xuICBjYW5jZWxsZWQ6IGFzeW5jIChhY2NvdW50SWQsIHRpY2tlcikgPT4gZmlsdGVyZWRPcmRlcnMoYWNjb3VudElkLCB0aWNrZXIsICdjYW5jZWxsZWQnKSxcbn07XG4iLCJpbXBvcnQgZW5kcG9pbnRzIGZyb20gJy4uL2FwaS9lbmRwb2ludHMnO1xuaW1wb3J0IGhhbmRsZVJlcXVlc3QgZnJvbSAnLi4vbmV0d29yay9odHRwcyc7XG5pbXBvcnQgaGlzdG9yeSBmcm9tICcuL2hpc3RvcnknO1xuaW1wb3J0IGRhdGEgZnJvbSAnLi4vZGF0YSc7XG5pbXBvcnQgcXVvdGVzIGZyb20gJy4uL3F1b3Rlcyc7XG5pbXBvcnQgVGlja2VyIGZyb20gJy4uL2NvcmUvdGlja2VyJztcblxuY29uc3QgaXNDYW5hZGlhblNlY3VyaXR5ID0gKGV4Y2hhbmdlKSA9PiBbJ1RTWCcsICdUU1gtViddLmluY2x1ZGVzKGV4Y2hhbmdlKTtcblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIC8qKlxuICAgKiBDYW5jZWxzIHRoZSBwZW5kaW5nIG9yZGVyIHNwZWNpZmllZCBieSB0aGUgb3JkZXIgaWQuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gb3JkZXJJZCBUaGUgcGVuZGluZyBvcmRlciB0byBjYW5jZWxcbiAgICovXG4gIGNhbmNlbDogYXN5bmMgKG9yZGVySWQpID0+ICh7XG4gICAgb3JkZXI6IG9yZGVySWQsXG4gICAgcmVzcG9uc2U6IGF3YWl0IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLkNBTkNFTF9PUkRFUiwgeyBvcmRlcklkIH0pLFxuICB9KSxcblxuICAvKipcbiAgICogQ2FuY2VscyBhbGwgcGVuZGluZyBvcmRlcnMgdW5kZXIgdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBBY2NvdW50LlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgc3BlY2lmaWMgYWNjb3VudCBpbiB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnRcbiAgICovXG4gIGFzeW5jIGNhbmNlbFBlbmRpbmcoYWNjb3VudElkKSB7XG4gICAgY29uc3QgcGVuZGluZyA9IGF3YWl0IGhpc3RvcnkucGVuZGluZyhhY2NvdW50SWQpO1xuICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nLm9yZGVycy5tYXAoYXN5bmMgKG9yZGVyKSA9PiB0aGlzLmNhbmNlbChvcmRlci5vcmRlcl9pZCkpKTtcbiAgfSxcblxuICAvKipcbiAgICogTWFya2V0IGJ1eSBhIHNlY3VyaXR5IHRocm91Z2ggdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhcHBsaWNhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIGFjY291bnQgdG8gbWFrZSB0aGUgdHJhbnNhY3Rpb24gZnJvbVxuICAgKiBAcGFyYW0geyp9IHRpY2tlciBUaGUgc2VjdXJpdHkgc3ltYm9sXG4gICAqIEBwYXJhbSB7Kn0gcXVhbnRpdHkgVGhlIG51bWJlciBvZiBzZWN1cml0aWVzIHRvIHB1cmNoYXNlXG4gICAqL1xuICBtYXJrZXRCdXk6IGFzeW5jIChhY2NvdW50SWQsIHRpY2tlciwgcXVhbnRpdHkpID0+IHtcbiAgICBjb25zdCBkZXRhaWxzID0gYXdhaXQgZGF0YS5nZXRTZWN1cml0eSh0aWNrZXIpO1xuXG4gICAgcmV0dXJuIGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLlBMQUNFX09SREVSLCB7XG4gICAgICBzZWN1cml0eV9pZDogZGV0YWlscy5pZCxcbiAgICAgIGxpbWl0X3ByaWNlOiBhd2FpdCBxdW90ZXMuZ2V0KHRpY2tlciksXG4gICAgICBxdWFudGl0eSxcbiAgICAgIG9yZGVyX3R5cGU6ICdidXlfcXVhbnRpdHknLFxuICAgICAgb3JkZXJfc3ViX3R5cGU6ICdtYXJrZXQnLFxuICAgICAgdGltZV9pbl9mb3JjZTogJ2RheScsXG4gICAgICBhY2NvdW50X2lkOiBhY2NvdW50SWQsXG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIExpbWl0IGJ1eSBhIHNlY3VyaXR5IHRocm91Z2ggdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhcHBsaWNhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIGFjY291bnQgdG8gbWFrZSB0aGUgdHJhbnNhY3Rpb24gZnJvbVxuICAgKiBAcGFyYW0geyp9IHRpY2tlciBUaGUgc2VjdXJpdHkgc3ltYm9sXG4gICAqIEBwYXJhbSB7Kn0gbGltaXQgVGhlIG1heGltdW0gcHJpY2UgdG8gcHVyY2hhc2UgdGhlIHNlY3VyaXR5IGF0XG4gICAqIEBwYXJhbSB7Kn0gcXVhbnRpdHkgVGhlIG51bWJlciBvZiBzZWN1cml0aWVzIHRvIHB1cmNoYXNlXG4gICAqL1xuICBsaW1pdEJ1eTogYXN5bmMgKGFjY291bnRJZCwgdGlja2VyLCBsaW1pdCwgcXVhbnRpdHkpID0+IGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLlBMQUNFX09SREVSLCB7XG4gICAgc2VjdXJpdHlfaWQ6IChhd2FpdCBkYXRhLmdldFNlY3VyaXR5KHRpY2tlcikpLmlkLFxuICAgIGxpbWl0X3ByaWNlOiBsaW1pdCxcbiAgICBxdWFudGl0eSxcbiAgICBvcmRlcl90eXBlOiAnYnV5X3F1YW50aXR5JyxcbiAgICBvcmRlcl9zdWJfdHlwZTogJ2xpbWl0JyxcbiAgICB0aW1lX2luX2ZvcmNlOiAnZGF5JyxcbiAgICBhY2NvdW50X2lkOiBhY2NvdW50SWQsXG4gIH0pLFxuXG4gIC8qKlxuICAgKiBTdG9wIGxpbWl0IGJ1eSBhIHNlY3VyaXR5IHRocm91Z2ggdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhcHBsaWNhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIGFjY291bnQgdG8gbWFrZSB0aGUgdHJhbnNhY3Rpb24gZnJvbVxuICAgKiBAcGFyYW0geyp9IHRpY2tlciBUaGUgc2VjdXJpdHkgc3ltYm9sXG4gICAqIEBwYXJhbSB7Kn0gc3RvcCBUaGUgcHJpY2UgYXQgd2hpY2ggdGhlIG9yZGVyIGNvbnZlcnRzIHRvIGEgbGltaXQgb3JkZXJcbiAgICogQHBhcmFtIHsqfSBsaW1pdCBUaGUgbWF4aW11bSBwcmljZSB0byBwdXJjaGFzZSB0aGUgc2VjdXJpdHkgYXRcbiAgICogQHBhcmFtIHsqfSBxdWFudGl0eSBUaGUgbnVtYmVyIG9mIHNlY3VyaXRpZXMgdG8gcHVyY2hhc2VcbiAgICovXG4gIHN0b3BMaW1pdEJ1eTogYXN5bmMgKGFjY291bnRJZCwgdGlja2VyLCBzdG9wLCBsaW1pdCwgcXVhbnRpdHkpID0+IHtcbiAgICBjb25zdCBzZWN1cml0eSA9IGF3YWl0IGRhdGEuZ2V0U2VjdXJpdHkodGlja2VyKTtcblxuICAgIC8vIFRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYmFja2VuZCBkb2Vzbid0IGNoZWNrIGZvciB0aGlzLCBldmVuIHRob3VnaCB0aGUgYXBwIGRvZXMuLlxuICAgIGlmIChpc0NhbmFkaWFuU2VjdXJpdHkoc2VjdXJpdHkuc3RvY2sucHJpbWFyeV9leGNoYW5nZSkgJiYgc3RvcCAhPT0gbGltaXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVFNYL1RTWC1WIHNlY3VyaXRpZXMgbXVzdCBoYXZlIGFuIGVxdWl2YWxlbnQgc3RvcCBhbmQgbGltaXQgcHJpY2UuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLlBMQUNFX09SREVSLCB7XG4gICAgICBzZWN1cml0eV9pZDogc2VjdXJpdHkuaWQsXG4gICAgICBzdG9wX3ByaWNlOiBzdG9wLFxuICAgICAgbGltaXRfcHJpY2U6IGxpbWl0LFxuICAgICAgcXVhbnRpdHksXG4gICAgICBvcmRlcl90eXBlOiAnYnV5X3F1YW50aXR5JyxcbiAgICAgIG9yZGVyX3N1Yl90eXBlOiAnc3RvcF9saW1pdCcsXG4gICAgICB0aW1lX2luX2ZvcmNlOiAnZGF5JyxcbiAgICAgIGFjY291bnRfaWQ6IGFjY291bnRJZCxcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogTWFya2V0IHNlbGwgYSBzZWN1cml0eSB0aHJvdWdoIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYXBwbGljYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gYWNjb3VudElkIFRoZSBhY2NvdW50IHRvIG1ha2UgdGhlIHRyYW5zYWN0aW9uIGZyb21cbiAgICogQHBhcmFtIHsqfSB0aWNrZXIgVGhlIHNlY3VyaXR5IHN5bWJvbFxuICAgKiBAcGFyYW0geyp9IHF1YW50aXR5IFRoZSBudW1iZXIgb2Ygc2VjdXJpdGllcyB0byBwdXJjaGFzZVxuICAgKi9cbiAgbWFya2V0U2VsbDogYXN5bmMgKGFjY291bnRJZCwgdGlja2VyLCBxdWFudGl0eSkgPT4gaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuUExBQ0VfT1JERVIsIHtcbiAgICBzZWN1cml0eV9pZDogKGF3YWl0IGRhdGEuZ2V0U2VjdXJpdHkodGlja2VyKSkuaWQsXG4gICAgbWFya2V0X3ZhbHVlOiAhKG5ldyBUaWNrZXIodGlja2VyKS5jcnlwdG8pID8gYXdhaXQgcXVvdGVzLmdldCh0aWNrZXIpIDogdW5kZWZpbmVkLFxuICAgIHF1YW50aXR5LFxuICAgIG9yZGVyX3R5cGU6ICdzZWxsX3F1YW50aXR5JyxcbiAgICBvcmRlcl9zdWJfdHlwZTogJ21hcmtldCcsXG4gICAgdGltZV9pbl9mb3JjZTogJ2RheScsXG4gICAgYWNjb3VudF9pZDogYWNjb3VudElkLFxuICB9KSxcblxuICAvKipcbiAgICogTGltaXQgc2VsbCBhIHNlY3VyaXR5IHRocm91Z2ggdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhcHBsaWNhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIGFjY291bnQgdG8gbWFrZSB0aGUgdHJhbnNhY3Rpb24gZnJvbVxuICAgKiBAcGFyYW0geyp9IHRpY2tlciBUaGUgc2VjdXJpdHkgc3ltYm9sXG4gICAqIEBwYXJhbSB7Kn0gbGltaXQgVGhlIG1pbmltdW0gcHJpY2UgdG8gc2VsbCB0aGUgc2VjdXJpdHkgYXRcbiAgICogQHBhcmFtIHsqfSBxdWFudGl0eSBUaGUgbnVtYmVyIG9mIHNlY3VyaXRpZXMgdG8gc2VsbFxuICAgKi9cbiAgbGltaXRTZWxsOiBhc3luYyAoYWNjb3VudElkLCB0aWNrZXIsIGxpbWl0LCBxdWFudGl0eSkgPT4gaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuUExBQ0VfT1JERVIsIHtcbiAgICBzZWN1cml0eV9pZDogKGF3YWl0IGRhdGEuZ2V0U2VjdXJpdHkodGlja2VyKSkuaWQsXG4gICAgbGltaXRfcHJpY2U6IGxpbWl0LFxuICAgIHF1YW50aXR5LFxuICAgIG9yZGVyX3R5cGU6ICdzZWxsX3F1YW50aXR5JyxcbiAgICBvcmRlcl9zdWJfdHlwZTogJ2xpbWl0JyxcbiAgICB0aW1lX2luX2ZvcmNlOiAnZGF5JyxcbiAgICBhY2NvdW50X2lkOiBhY2NvdW50SWQsXG4gIH0pLFxuXG4gIC8qKlxuICAgKiBTdG9wIGxpbWl0IHNlbGwgYSBzZWN1cml0eSB0aHJvdWdoIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYXBwbGljYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gYWNjb3VudElkIFRoZSBhY2NvdW50IHRvIG1ha2UgdGhlIHRyYW5zYWN0aW9uIGZyb21cbiAgICogQHBhcmFtIHsqfSB0aWNrZXIgVGhlIHNlY3VyaXR5IHN5bWJvbFxuICAgKiBAcGFyYW0geyp9IHN0b3AgVGhlIHByaWNlIGF0IHdoaWNoIHRoZSBvcmRlciBjb252ZXJ0cyB0byBhIGxpbWl0IG9yZGVyXG4gICAqIEBwYXJhbSB7Kn0gbGltaXQgVGhlIG1pbmltdW0gcHJpY2UgdG8gc2VsbCB0aGUgc2VjdXJpdHkgYXRcbiAgICogQHBhcmFtIHsqfSBxdWFudGl0eSBUaGUgbnVtYmVyIG9mIHNlY3VyaXRpZXMgdG8gc2VsbFxuICAgKi9cbiAgc3RvcExpbWl0U2VsbDogYXN5bmMgKGFjY291bnRJZCwgdGlja2VyLCBzdG9wLCBsaW1pdCwgcXVhbnRpdHkpID0+IHtcbiAgICBjb25zdCBzZWN1cml0eSA9IGF3YWl0IGRhdGEuZ2V0U2VjdXJpdHkodGlja2VyKTtcblxuICAgIC8vIFRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYmFja2VuZCBkb2Vzbid0IGNoZWNrIGZvciB0aGlzLCBldmVuIHRob3VnaCB0aGUgYXBwIGRvZXMuLlxuICAgIGlmIChpc0NhbmFkaWFuU2VjdXJpdHkoc2VjdXJpdHkuc3RvY2sucHJpbWFyeV9leGNoYW5nZSkgJiYgc3RvcCAhPT0gbGltaXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVFNYL1RTWC1WIHNlY3VyaXRpZXMgbXVzdCBoYXZlIGFuIGVxdWl2YWxlbnQgc3RvcCBhbmQgbGltaXQgcHJpY2UuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLlBMQUNFX09SREVSLCB7XG4gICAgICBzZWN1cml0eV9pZDogc2VjdXJpdHkuaWQsXG4gICAgICBzdG9wX3ByaWNlOiBzdG9wLFxuICAgICAgbGltaXRfcHJpY2U6IGxpbWl0LFxuICAgICAgcXVhbnRpdHksXG4gICAgICBvcmRlcl90eXBlOiAnc2VsbF9xdWFudGl0eScsXG4gICAgICBvcmRlcl9zdWJfdHlwZTogJ3N0b3BfbGltaXQnLFxuICAgICAgdGltZV9pbl9mb3JjZTogJ2RheScsXG4gICAgICBhY2NvdW50X2lkOiBhY2NvdW50SWQsXG4gICAgfSk7XG4gIH0sXG59O1xuIiwiaW1wb3J0IGhpc3RvcnkgZnJvbSAnLi9oaXN0b3J5JztcbmltcG9ydCBzdWJtaXQgZnJvbSAnLi9zdWJtaXQnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIC4uLmhpc3RvcnksXG4gIC4uLnN1Ym1pdCxcbn07XG4iLCIvKipcbiAqIFRoZSBkZWZhdWx0IHByb3ZpZGVyIGZvciBxdW90ZXMgaXMgV2VhbHRoc2ltcGxlIFRyYWRlLlxuICovXG5cbmltcG9ydCBkYXRhIGZyb20gJy4uL2RhdGEnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgLyoqXG4gICAgICogUXVvdGUgZm9yIGEgdGlja2VyIGZyb20gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBlbmRwb2ludC5cbiAgICAgKlxuICAgICAqIFJlbWVtYmVyIHRoYXQgdGhpcyBxdW90ZSBpcyBOT1QgcmVhbC10aW1lIVxuICAgICAqL1xuICBxdW90ZTogYXN5bmMgKHRpY2tlcikgPT4ge1xuICAgIGNvbnN0IGluZm8gPSBhd2FpdCBkYXRhLmdldFNlY3VyaXR5KHRpY2tlciwgdHJ1ZSk7XG4gICAgcmV0dXJuIGluZm8ucXVvdGUuYW1vdW50O1xuICB9LFxufTtcbiIsImltcG9ydCB0cmFkZSBmcm9tICcuL2RlZmF1bHQnO1xuaW1wb3J0IGRhdGEgZnJvbSAnLi4vZGF0YSc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAvLyBXZWFsdGhzaW1wbGUgVHJhZGUgaXMgb3VyIGRlZmF1bHQgc291cmNlIGZvciBxdW90ZXMsIGRlc3BpdGVcbiAgLy8gaGF2aW5nIGEgMTUgbWluIGRlbGF5XG4gIGRlZmF1bHRQcm92aWRlcjogdHJhZGUsXG5cbiAgLy8gTWFpbnRhaW5zIHF1b3RlIHByb3ZpZGVycyBvbiBhbiBleGNoYW5nZSBiYXNpc1xuICBwcm92aWRlcnM6IHt9LFxuXG4gIC8qKlxuICAgICAqIExvYWQgYSBjdXN0b20gcHJvdmlkZXIgZm9yIHRoZSBleGNoYW5nZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gZXhjaGFuZ2UgVGhlIGV4Y2hhbmdlIHRoYXQgdGhlIHByb3ZpZGVyIGZldGNoZXMgcXVvdGVzIGZvclxuICAgICAqIEBwYXJhbSB7Kn0gcHJvdmlkZXIgVGhlIHByb3ZpZGVyIG9iamVjdCBjb250YWluaW5nIHRoZSBxdW90ZSgpIGltcGxlbWVudGF0aW9uLlxuICAgICAqL1xuICB1c2UoZXhjaGFuZ2UsIHByb3ZpZGVyKSB7XG4gICAgaWYgKHR5cGVvZiAocHJvdmlkZXIucXVvdGUpICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBUaGUgcHJvdmlkZXIgbXVzdCBoYXZlIGEgcXVvdGUoKSBpbXBsZW1lbnRhdGlvbiB0aGF0IHdlIGNhbiBjYWxsIGxhdGVyIVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHF1b3RlIHByb3ZpZGVyIGZvciAke2V4Y2hhbmdlfSFgKTtcbiAgICB9XG5cbiAgICB0aGlzLnByb3ZpZGVyc1tleGNoYW5nZV0gPSBwcm92aWRlcjtcbiAgfSxcblxuICAvKipcbiAgICAgKiBPYnRhaW5zIGEgcXVvdGUgZm9yIHRoZSB0aWNrZXIuIFRoZSBzb3VyY2Ugb2YgdGhlIHF1b3RlIG1heSBiZSBhIGN1c3RvbVxuICAgICAqIHByb3ZpZGVyIGlmIGEgdmFsaWQgcHJvdmlkZXIgaXMgcmVnaXN0ZXJlZCBmb3IgdGhlIGV4Y2hhbmdlIHRoYXQgdGhlXG4gICAgICogdGlja2VyIHRyYWRlcyBvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdGlja2VyIFRoZSBzZWN1cml0eSB0byBnZXQgYSBxdW90ZSBmb3IuXG4gICAgICovXG4gIGFzeW5jIGdldCh0aWNrZXIpIHtcbiAgICBsZXQgZXhjaGFuZ2UgPSBudWxsO1xuXG4gICAgLy8gV2UgbmVlZCB0aGUgZXhjaGFuZ2UgaW4gdGhlIG5leHQgc3RlcCBpZiB0aGUgdXNlciBoYXMgc3BlY2lmaWVkXG4gICAgLy8gYSBjdXN0b20gcHJvdmlkZXIgZm9yIGFuIGV4Y2hhbmdlLiBTbyBpZiB0aGUgdXNlciBoYXNuJ3QgcHJvdmlkZWRcbiAgICAvLyBpdCwgd2Ugd2lsbCBoYXZlIHRvIHBpbmcgV2VhbHRoc2ltcGxlIHRyYWRlIHRvIGdldCBpdC5cbiAgICBpZiAodGlja2VyLmV4Y2hhbmdlKSB7XG4gICAgICBleGNoYW5nZSA9IHRpY2tlci5leGNoYW5nZTtcbiAgICB9IGVsc2UgaWYgKE9iamVjdC5rZXlzKHRoaXMucHJvdmlkZXJzKS5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBpbmZvID0gYXdhaXQgZGF0YS5nZXRTZWN1cml0eSh0aWNrZXIsIGZhbHNlKTtcbiAgICAgIGV4Y2hhbmdlID0gaW5mby5zdG9jay5wcmltYXJ5X2V4Y2hhbmdlO1xuICAgIH1cblxuICAgIC8vIEEgY3VzdG9tIHByb3ZpZGVyIHdpbGwgdGFrZSBwcmVjZWRlbmNlIG92ZXIgdGhlIGRlZmF1bHQgc291cmNlXG4gICAgaWYgKHRoaXMucHJvdmlkZXJzW2V4Y2hhbmdlXSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXJzW2V4Y2hhbmdlXS5xdW90ZSh0aWNrZXIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5kZWZhdWx0UHJvdmlkZXIucXVvdGUodGlja2VyKTtcbiAgfSxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbnZhciBydW50aW1lID0gKGZ1bmN0aW9uIChleHBvcnRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBPcCA9IE9iamVjdC5wcm90b3R5cGU7XG4gIHZhciBoYXNPd24gPSBPcC5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG4gIHZhciAkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sIDoge307XG4gIHZhciBpdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCI7XG4gIHZhciBhc3luY0l0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCI7XG4gIHZhciB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XG5cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xuICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG5cbiAgICAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgZXhwb3J0cy53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LlxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgSXRlcmF0b3JQcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgdmFyIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiZcbiAgICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJlxuICAgICAgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSkge1xuICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgLy8gb2YgdGhlIHBvbHlmaWxsLlxuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPVxuICAgIEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR3AuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvbjtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGVbdG9TdHJpbmdUYWdTeW1ib2xdID1cbiAgICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICBwcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3JcbiAgICAgID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHxcbiAgICAgICAgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxuICAgICAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuICBleHBvcnRzLm1hcmsgPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICAgIGlmICghKHRvU3RyaW5nVGFnU3ltYm9sIGluIGdlbkZ1bikpIHtcbiAgICAgICAgZ2VuRnVuW3RvU3RyaW5nVGFnU3ltYm9sXSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC5cbiAgZXhwb3J0cy5hd3JhcCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yLCBQcm9taXNlSW1wbCkge1xuICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHJlamVjdChyZWNvcmQuYXJnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnO1xuICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSAmJlxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaW52b2tlKFwibmV4dFwiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGludm9rZShcInRocm93XCIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHVud3JhcHBlZCkge1xuICAgICAgICAgIC8vIFdoZW4gYSB5aWVsZGVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGl0cyBmaW5hbCB2YWx1ZSBiZWNvbWVzXG4gICAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uXG4gICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAvLyBJZiBhIHJlamVjdGVkIFByb21pc2Ugd2FzIHlpZWxkZWQsIHRocm93IHRoZSByZWplY3Rpb24gYmFja1xuICAgICAgICAgIC8vIGludG8gdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBzbyBpdCBjYW4gYmUgaGFuZGxlZCB0aGVyZS5cbiAgICAgICAgICByZXR1cm4gaW52b2tlKFwidGhyb3dcIiwgZXJyb3IsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlSW1wbChmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID1cbiAgICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKFxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLFxuICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnXG4gICAgICAgICkgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG4gIEFzeW5jSXRlcmF0b3IucHJvdG90eXBlW2FzeW5jSXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QsIFByb21pc2VJbXBsKSB7XG4gICAgaWYgKFByb21pc2VJbXBsID09PSB2b2lkIDApIFByb21pc2VJbXBsID0gUHJvbWlzZTtcblxuICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3IoXG4gICAgICB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSxcbiAgICAgIFByb21pc2VJbXBsXG4gICAgKTtcblxuICAgIHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbilcbiAgICAgID8gaXRlciAvLyBJZiBvdXRlckZuIGlzIGEgZ2VuZXJhdG9yLCByZXR1cm4gdGhlIGZ1bGwgaXRlcmF0b3IuXG4gICAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkge1xuICAgIHZhciBzdGF0ZSA9IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlRXhlY3V0aW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVDb21wbGV0ZWQpIHtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzpcbiAgICAgICAgLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWdlbmVyYXRvcnJlc3VtZVxuICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgIGNvbnRleHQuYXJnID0gYXJnO1xuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgICB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcbiAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7XG4gICAgICAgICAgICByZXR1cm4gZGVsZWdhdGVSZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgIC8vIFNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICAgICAgY29udGV4dC5zZW50ID0gY29udGV4dC5fc2VudCA9IGNvbnRleHQuYXJnO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydCkge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAgIHRocm93IGNvbnRleHQuYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LmFyZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nO1xuXG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgLy8gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBmcm9tIGlubmVyRm4sIHdlIGxlYXZlIHN0YXRlID09PVxuICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZVxuICAgICAgICAgICAgPyBHZW5TdGF0ZUNvbXBsZXRlZFxuICAgICAgICAgICAgOiBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuXG4gICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogcmVjb3JkLmFyZyxcbiAgICAgICAgICAgIGRvbmU6IGNvbnRleHQuZG9uZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXG4gICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZykgY2FsbCBhYm92ZS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gQ2FsbCBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF0oY29udGV4dC5hcmcpIGFuZCBoYW5kbGUgdGhlXG4gIC8vIHJlc3VsdCwgZWl0aGVyIGJ5IHJldHVybmluZyBhIHsgdmFsdWUsIGRvbmUgfSByZXN1bHQgZnJvbSB0aGVcbiAgLy8gZGVsZWdhdGUgaXRlcmF0b3IsIG9yIGJ5IG1vZGlmeWluZyBjb250ZXh0Lm1ldGhvZCBhbmQgY29udGV4dC5hcmcsXG4gIC8vIHNldHRpbmcgY29udGV4dC5kZWxlZ2F0ZSB0byBudWxsLCBhbmQgcmV0dXJuaW5nIHRoZSBDb250aW51ZVNlbnRpbmVsLlxuICBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIG1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXTtcbiAgICBpZiAobWV0aG9kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIEEgLnRocm93IG9yIC5yZXR1cm4gd2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIC50aHJvd1xuICAgICAgLy8gbWV0aG9kIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAvLyBOb3RlOiBbXCJyZXR1cm5cIl0gbXVzdCBiZSB1c2VkIGZvciBFUzMgcGFyc2luZyBjb21wYXRpYmlsaXR5LlxuICAgICAgICBpZiAoZGVsZWdhdGUuaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcblxuICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAvLyBJZiBtYXliZUludm9rZURlbGVnYXRlKGNvbnRleHQpIGNoYW5nZWQgY29udGV4dC5tZXRob2QgZnJvbVxuICAgICAgICAgICAgLy8gXCJyZXR1cm5cIiB0byBcInRocm93XCIsIGxldCB0aGF0IG92ZXJyaWRlIHRoZSBUeXBlRXJyb3IgYmVsb3cuXG4gICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgIFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZFwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTtcblxuICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuXG4gICAgaWYgKCEgaW5mbykge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKTtcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnlcbiAgICAgIC8vIHZhcmlhYmxlIHNwZWNpZmllZCBieSBkZWxlZ2F0ZS5yZXN1bHROYW1lIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTtcblxuICAgICAgLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcblxuICAgICAgLy8gSWYgY29udGV4dC5tZXRob2Qgd2FzIFwidGhyb3dcIiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlXG4gICAgICAvLyBleGNlcHRpb24sIGxldCB0aGUgb3V0ZXIgZ2VuZXJhdG9yIHByb2NlZWQgbm9ybWFsbHkuIElmXG4gICAgICAvLyBjb250ZXh0Lm1ldGhvZCB3YXMgXCJuZXh0XCIsIGZvcmdldCBjb250ZXh0LmFyZyBzaW5jZSBpdCBoYXMgYmVlblxuICAgICAgLy8gXCJjb25zdW1lZFwiIGJ5IHRoZSBkZWxlZ2F0ZSBpdGVyYXRvci4gSWYgY29udGV4dC5tZXRob2Qgd2FzXG4gICAgICAvLyBcInJldHVyblwiLCBhbGxvdyB0aGUgb3JpZ2luYWwgLnJldHVybiBjYWxsIHRvIGNvbnRpbnVlIGluIHRoZVxuICAgICAgLy8gb3V0ZXIgZ2VuZXJhdG9yLlxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kICE9PSBcInJldHVyblwiKSB7XG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlLXlpZWxkIHRoZSByZXN1bHQgcmV0dXJuZWQgYnkgdGhlIGRlbGVnYXRlIG1ldGhvZC5cbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIC8vIFRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBpcyBmaW5pc2hlZCwgc28gZm9yZ2V0IGl0IGFuZCBjb250aW51ZSB3aXRoXG4gICAgLy8gdGhlIG91dGVyIGdlbmVyYXRvci5cbiAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgfVxuXG4gIC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTtcblxuICBHcFt0b1N0cmluZ1RhZ1N5bWJvbF0gPSBcIkdlbmVyYXRvclwiO1xuXG4gIC8vIEEgR2VuZXJhdG9yIHNob3VsZCBhbHdheXMgcmV0dXJuIGl0c2VsZiBhcyB0aGUgaXRlcmF0b3Igb2JqZWN0IHdoZW4gdGhlXG4gIC8vIEBAaXRlcmF0b3IgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIGl0LiBTb21lIGJyb3dzZXJzJyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlXG4gIC8vIGl0ZXJhdG9yIHByb3RvdHlwZSBjaGFpbiBpbmNvcnJlY3RseSBpbXBsZW1lbnQgdGhpcywgY2F1c2luZyB0aGUgR2VuZXJhdG9yXG4gIC8vIG9iamVjdCB0byBub3QgYmUgcmV0dXJuZWQgZnJvbSB0aGlzIGNhbGwuIFRoaXMgZW5zdXJlcyB0aGF0IGRvZXNuJ3QgaGFwcGVuLlxuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2lzc3Vlcy8yNzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgR3BbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgR3AudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIGV4cG9ydHMua2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIGtleXMucmV2ZXJzZSgpO1xuXG4gICAgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcbiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcbiAgfVxuICBleHBvcnRzLnZhbHVlcyA9IHZhbHVlcztcblxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJlxuICAgICAgICAgICAgICBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJlxuICAgICAgICAgICAgICAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG5cbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG5cbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG5cbiAgICAgICAgaWYgKGNhdWdodCkge1xuICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICEhIGNhdWdodDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWJydXB0OiBmdW5jdGlvbih0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJlxuICAgICAgICAgICAgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmluYWxseUVudHJ5ICYmXG4gICAgICAgICAgKHR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgICB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmXG4gICAgICAgICAgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiZcbiAgICAgICAgICBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYVxuICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgIGZpbmFsbHlFbnRyeSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlO1xuICAgICAgcmVjb3JkLmFyZyA9IGFyZztcblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYztcbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgfSxcblxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgIHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgdGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbihmaW5hbGx5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcbiAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uKHRyeUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykge1xuICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjb250ZXh0LmNhdGNoIG1ldGhvZCBtdXN0IG9ubHkgYmUgY2FsbGVkIHdpdGggYSBsb2NhdGlvblxuICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG5cbiAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbihpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXG4gICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsXG4gICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9O1xuXG4gIC8vIFJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGVcbiAgLy8gb3Igbm90LCByZXR1cm4gdGhlIHJ1bnRpbWUgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIGRlY2xhcmUgdGhlIHZhcmlhYmxlXG4gIC8vIHJlZ2VuZXJhdG9yUnVudGltZSBpbiB0aGUgb3V0ZXIgc2NvcGUsIHdoaWNoIGFsbG93cyB0aGlzIG1vZHVsZSB0byBiZVxuICAvLyBpbmplY3RlZCBlYXNpbHkgYnkgYGJpbi9yZWdlbmVyYXRvciAtLWluY2x1ZGUtcnVudGltZSBzY3JpcHQuanNgLlxuICByZXR1cm4gZXhwb3J0cztcblxufShcbiAgLy8gSWYgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlLCB1c2UgbW9kdWxlLmV4cG9ydHNcbiAgLy8gYXMgdGhlIHJlZ2VuZXJhdG9yUnVudGltZSBuYW1lc3BhY2UuIE90aGVyd2lzZSBjcmVhdGUgYSBuZXcgZW1wdHlcbiAgLy8gb2JqZWN0LiBFaXRoZXIgd2F5LCB0aGUgcmVzdWx0aW5nIG9iamVjdCB3aWxsIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZVxuICAvLyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIHZhcmlhYmxlIGF0IHRoZSB0b3Agb2YgdGhpcyBmaWxlLlxuICB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiID8gbW9kdWxlLmV4cG9ydHMgOiB7fVxuKSk7XG5cbnRyeSB7XG4gIHJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG59IGNhdGNoIChhY2NpZGVudGFsU3RyaWN0TW9kZSkge1xuICAvLyBUaGlzIG1vZHVsZSBzaG91bGQgbm90IGJlIHJ1bm5pbmcgaW4gc3RyaWN0IG1vZGUsIHNvIHRoZSBhYm92ZVxuICAvLyBhc3NpZ25tZW50IHNob3VsZCBhbHdheXMgd29yayB1bmxlc3Mgc29tZXRoaW5nIGlzIG1pc2NvbmZpZ3VyZWQuIEp1c3RcbiAgLy8gaW4gY2FzZSBydW50aW1lLmpzIGFjY2lkZW50YWxseSBydW5zIGluIHN0cmljdCBtb2RlLCB3ZSBjYW4gZXNjYXBlXG4gIC8vIHN0cmljdCBtb2RlIHVzaW5nIGEgZ2xvYmFsIEZ1bmN0aW9uIGNhbGwuIFRoaXMgY291bGQgY29uY2VpdmFibHkgZmFpbFxuICAvLyBpZiBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGZvcmJpZHMgdXNpbmcgRnVuY3Rpb24sIGJ1dCBpbiB0aGF0IGNhc2VcbiAgLy8gdGhlIHByb3BlciBzb2x1dGlvbiBpcyB0byBmaXggdGhlIGFjY2lkZW50YWwgc3RyaWN0IG1vZGUgcHJvYmxlbS4gSWZcbiAgLy8geW91J3ZlIG1pc2NvbmZpZ3VyZWQgeW91ciBidW5kbGVyIHRvIGZvcmNlIHN0cmljdCBtb2RlIGFuZCBhcHBsaWVkIGFcbiAgLy8gQ1NQIHRvIGZvcmJpZCBGdW5jdGlvbiwgYW5kIHlvdSdyZSBub3Qgd2lsbGluZyB0byBmaXggZWl0aGVyIG9mIHRob3NlXG4gIC8vIHByb2JsZW1zLCBwbGVhc2UgZGV0YWlsIHlvdXIgdW5pcXVlIHByZWRpY2FtZW50IGluIGEgR2l0SHViIGlzc3VlLlxuICBGdW5jdGlvbihcInJcIiwgXCJyZWdlbmVyYXRvclJ1bnRpbWUgPSByXCIpKHJ1bnRpbWUpO1xufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX180NTdfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzU0NV9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fOTQ5X187IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBtb2R1bGUgZXhwb3J0cyBtdXN0IGJlIHJldHVybmVkIGZyb20gcnVudGltZSBzbyBlbnRyeSBpbmxpbmluZyBpcyBkaXNhYmxlZFxuLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG5yZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygzNTIpO1xuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gbW9kdWxlWydkZWZhdWx0J10gOlxuXHRcdCgpID0+IG1vZHVsZTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIl0sInNvdXJjZVJvb3QiOiIifQ==